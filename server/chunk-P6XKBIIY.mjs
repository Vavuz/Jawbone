import './polyfills.server.mjs';
import{$ as B,$a as si,A as Ko,Aa as Pe,B as xr,Ba as gu,C as Ne,Ca as st,Cb as Tu,D as Me,Da as oi,E as De,Ea as lt,F as ie,Fa as Yi,G as Ve,Ga as ct,H as je,Ha as He,I as Te,Ia as Ue,Ib as Ou,J as Re,Ja as bu,K as cu,Ka as yu,L as ni,La as Qr,M as St,Ma as Se,N as It,Na as Ki,O as Zo,Oa as Cr,P as du,Pa as Tn,Q as Kr,Qa as On,R as Zr,Ra as Rn,S as wt,Sa as At,T as Ze,Ta as qe,U as Oe,Ua as _u,V as Fe,W as Gl,Wa as xu,X as In,Xa as wu,Y as ai,Z as uu,_ as ve,a as bi,aa as hu,b as _r,ba as wr,bb as Qe,c as be,ca as Xo,cb as Fn,d as tu,da as Fa,db as sr,e as iu,ea as Xr,eb as Ri,f as ru,fa as Yl,fb as Cu,g as Yr,ga as An,gb as Eu,h as qi,ha as fu,hb as Kl,i as nu,ia as Ct,ib as Je,j as au,ja as mu,k as Sn,ka as Yt,kb as Jo,l as ou,la as ze,lb as ku,m as qo,ma as Qo,mb as es,n as $i,na as Mn,nb as ts,o as Gt,oa as ht,ob as Du,p as ql,pa as Be,pb as xi,q as $o,qa as We,qb as Pn,r as or,ra as Pa,rb as Su,s as Ra,sa as pu,sb as Iu,t as $l,ta as yt,tb as Jr,u as Go,ua as ae,ub as Er,v as Gi,va as re,vb as Fi,w as Yo,wa as Xe,wb as en,x as xt,xa as yi,xb as lr,y as su,ya as _i,yb as Au,z as lu,za as vu,zb as Mu}from"./chunk-ARCPEZUO.mjs";import{a as Ae,b as ri,e as jv,g as Hv}from"./chunk-5XUXGTUW.mjs";var Cv=jv((eO,Hl)=>{"use strict";(function(){"use strict";var t=function(a,o){if(typeof o!="function")throw new TypeError("predicate must be a function");for(var s=a.length>>>0,l=arguments[1],c,d=0;d<s;d++)if(c=a[d],o.call(l,c,d,a))return c},e=function(){function a(o,s){var l=o.node,c=o.position,d=c===void 0?null:c,u=o.data,h=u===void 0?null:u;this.updateParams(s),this._node=l,this.initStyles(s.cssClass),h&&this.updateData(h),d&&this.updatePosition(d)}return a.prototype.updateParams=function(o){var s=o.tpl,l=s===void 0?function(){return""}:s,c=o.cssClass,d=c===void 0?null:c,u=o.halign,h=u===void 0?"center":u,m=o.valign,f=m===void 0?"center":m,g=o.halignBox,v=g===void 0?"center":g,p=o.valignBox,y=p===void 0?"center":p,b={top:-.5,left:-.5,center:0,right:.5,bottom:.5};this._align=[b[h],b[f],100*(b[v]-.5),100*(b[y]-.5)],this.tpl=l},a.prototype.updateData=function(o){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);for(var s=new DOMParser().parseFromString(this.tpl(o),"text/html").body.children,l=0;l<s.length;++l){var c=s[l];this._node.appendChild(c)}},a.prototype.getNode=function(){return this._node},a.prototype.updatePosition=function(o){this._renderPosition(o)},a.prototype.initStyles=function(o){var s=this._node.style;s.position="absolute",o&&o.length&&this._node.classList.add(o)},a.prototype._renderPosition=function(o){var s=this._position,l=o.x+this._align[0]*o.w,c=o.y+this._align[1]*o.h;if(!s||s[0]!==l||s[1]!==c){this._position=[l,c];var d="translate("+this._align[2]+"%,"+this._align[3]+"%) ",u="translate("+l.toFixed(2)+"px,"+c.toFixed(2)+"px) ",h=d+u,m=this._node.style;m.webkitTransform=h,m.msTransform=h,m.transform=h}},a}(),r=function(){function a(o){this._node=o,this._elements={}}return a.prototype.addOrUpdateElem=function(o,s,l){l===void 0&&(l={});var c=this._elements[o];if(c)c.updateParams(s),c.updateData(l.data),c.updatePosition(l.position);else{var d=document.createElement("div");this._node.appendChild(d),this._elements[o]=new e({node:d,data:l.data,position:l.position},s)}},a.prototype.removeElemById=function(o){this._elements[o]&&(this._node.removeChild(this._elements[o].getNode()),delete this._elements[o])},a.prototype.updateElemPosition=function(o,s){var l=this._elements[o];l&&l.updatePosition(s)},a.prototype.updatePanZoom=function(o){var s=o.pan,l=o.zoom,c="translate("+s.x+"px,"+s.y+"px) scale("+l+")",d=this._node.style,u="top left";d.webkitTransform=c,d.msTransform=c,d.transform=c,d.webkitTransformOrigin=u,d.msTransformOrigin=u,d.transformOrigin=u},a}();function i(a,o,s){var l=!o||typeof o!="object"?[]:o,c=d();return a.one("render",function(b){u(b),p(b)}),a.on("add",h),a.on("layoutstop",m),a.on("remove",f),a.on("data",v),a.on("style",v),a.on("pan zoom",p),a.on("position bounds",g),a;function d(){var b=a.container(),_=document.createElement("div"),C=b.querySelector("canvas"),w=b.querySelector("[class^='cy-node-html']");w&&C.parentNode.removeChild(w);var x=_.style;return x.position="absolute",x["z-index"]=10,x.width="500px",x.margin="0px",x.padding="0px",x.border="0px",x.outline="0px",x.outline="0px",s&&s.enablePointerEvents!==!0&&(x["pointer-events"]="none"),C.parentNode.appendChild(_),new r(_)}function u(b){var _=b.cy;l.forEach(function(C){_.elements(C.query).forEach(function(w){w.isNode()&&c.addOrUpdateElem(w.id(),C,{position:y(w),data:w.data()})})})}function h(b){var _=b.target,C=t(l.slice().reverse(),function(w){return _.is(w.query)});C&&c.addOrUpdateElem(_.id(),C,{position:y(_),data:_.data()})}function m(b){var _=b.cy;l.forEach(function(C){_.elements(C.query).forEach(function(w){w.isNode()&&c.updateElemPosition(w.id(),y(w))})})}function f(b){c.removeElemById(b.target.id())}function g(b){c.updateElemPosition(b.target.id(),y(b.target))}function v(b){setTimeout(function(){var _=b.target,C=t(l.slice().reverse(),function(w){return _.is(w.query)});C&&!_.removed()?c.addOrUpdateElem(_.id(),C,{position:y(_),data:_.data()}):c.removeElemById(_.id())},0)}function p(b){var _=b.cy;c.updatePanZoom({pan:_.pan(),zoom:_.zoom()})}function y(b){return{w:b.width(),h:b.height(),x:b.position("x"),y:b.position("y")}}}var n=function(a){a&&a("core","nodeHtmlLabel",function(o,s){return i(this,o,s)})};typeof Hl<"u"&&Hl.exports?Hl.exports=function(a){n(a)}:typeof define<"u"&&define.amd&&define("cytoscape-nodeHtmlLabel",function(){return n}),typeof cytoscape<"u"&&n(cytoscape)})()});function Ft(t){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(t)}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dc(t,e,r){return e&&Ru(t.prototype,e),r&&Ru(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pi(t,e){return Uv(t)||Wv(t,e)||Yh(t,e)||qv()}function Uv(t){if(Array.isArray(t))return t}function Wv(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i=[],n=!0,a=!1,o,s;try{for(r=r.call(t);!(n=(o=r.next()).done)&&(i.push(o.value),!(e&&i.length===e));n=!0);}catch(l){a=!0,s=l}finally{try{!n&&r.return!=null&&r.return()}finally{if(a)throw s}}return i}}function Yh(t,e){if(t){if(typeof t=="string")return Fu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fu(t,e)}}function Fu(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function qv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kh(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yh(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(l){throw l},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var Ot=typeof window>"u"?null:window,Pu=Ot?Ot.navigator:null;Ot&&Ot.document;var $v=Ft(""),Zh=Ft({}),Gv=Ft(function(){}),Yv=typeof HTMLElement>"u"?"undefined":Ft(HTMLElement),ao=function(e){return e&&e.instanceString&&_t(e.instanceString)?e.instanceString():null},ye=function(e){return e!=null&&Ft(e)==$v},_t=function(e){return e!=null&&Ft(e)===Gv},ft=function(e){return!fi(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Ye=function(e){return e!=null&&Ft(e)===Zh&&!ft(e)&&e.constructor===Object},Kv=function(e){return e!=null&&Ft(e)===Zh},le=function(e){return e!=null&&Ft(e)===Ft(1)&&!isNaN(e)},Zv=function(e){return le(e)&&Math.floor(e)===e},Cs=function(e){if(Yv!=="undefined")return e!=null&&e instanceof HTMLElement},fi=function(e){return oo(e)||Xh(e)},oo=function(e){return ao(e)==="collection"&&e._private.single},Xh=function(e){return ao(e)==="collection"&&!e._private.single},Sc=function(e){return ao(e)==="core"},Qh=function(e){return ao(e)==="stylesheet"},Xv=function(e){return ao(e)==="event"},Tr=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Qv=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Jv=function(e){return Ye(e)&&le(e.x1)&&le(e.x2)&&le(e.y1)&&le(e.y2)},eg=function(e){return Kv(e)&&_t(e.then)},tg=function(){return Pu&&Pu.userAgent.match(/msie|trident|edge/i)},Ya=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var i=function n(){var a=this,o=arguments,s,l=r.apply(a,o),c=n.cache;return(s=c[l])||(s=c[l]=e.apply(a,o)),s};return i.cache={},i},Ic=Ya(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Fs=Ya(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Jh=Ya(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Lu=function(e){return Tr(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Rt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",ig="rgb[a]?\\(("+Rt+"[%]?)\\s*,\\s*("+Rt+"[%]?)\\s*,\\s*("+Rt+"[%]?)(?:\\s*,\\s*("+Rt+"))?\\)",rg="rgb[a]?\\((?:"+Rt+"[%]?)\\s*,\\s*(?:"+Rt+"[%]?)\\s*,\\s*(?:"+Rt+"[%]?)(?:\\s*,\\s*(?:"+Rt+"))?\\)",ng="hsl[a]?\\(("+Rt+")\\s*,\\s*("+Rt+"[%])\\s*,\\s*("+Rt+"[%])(?:\\s*,\\s*("+Rt+"))?\\)",ag="hsl[a]?\\((?:"+Rt+")\\s*,\\s*(?:"+Rt+"[%])\\s*,\\s*(?:"+Rt+"[%])(?:\\s*,\\s*(?:"+Rt+"))?\\)",og="\\#[0-9a-fA-F]{3}",sg="\\#[0-9a-fA-F]{6}",ef=function(e,r){return e<r?-1:e>r?1:0},lg=function(e,r){return-1*ef(e,r)},ke=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var i=e[r];if(i!=null)for(var n=Object.keys(i),a=0;a<n.length;a++){var o=n[a];t[o]=i[o]}}return t},cg=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,i,n,a,o=16;return r?(i=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(i=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[i,n,a]}},dg=function(e){var r,i,n,a,o,s,l,c;function d(f,g,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?f+(g-f)*6*v:v<1/2?g:v<2/3?f+(g-f)*(2/3-v)*6:f}var u=new RegExp("^"+ng+"$").exec(e);if(u){if(i=parseInt(u[1]),i<0?i=(360- -1*i%360)%360:i>360&&(i=i%360),i/=360,n=parseFloat(u[2]),n<0||n>100||(n=n/100,a=parseFloat(u[3]),a<0||a>100)||(a=a/100,o=u[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(n===0)s=l=c=Math.round(a*255);else{var h=a<.5?a*(1+n):a+n-a*n,m=2*a-h;s=Math.round(255*d(m,h,i+1/3)),l=Math.round(255*d(m,h,i)),c=Math.round(255*d(m,h,i-1/3))}r=[s,l,c,o]}return r},ug=function(e){var r,i=new RegExp("^"+ig+"$").exec(e);if(i){r=[];for(var n=[],a=1;a<=3;a++){var o=i[a];if(o[o.length-1]==="%"&&(n[a]=!0),o=parseFloat(o),n[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=n[1]||n[2]||n[3],l=n[1]&&n[2]&&n[3];if(s&&!l)return;var c=i[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},hg=function(e){return mg[e.toLowerCase()]},fg=function(e){return(ft(e)?e:null)||hg(e)||cg(e)||ug(e)||dg(e)},mg={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tf=function(e){for(var r=e.map,i=e.keys,n=i.length,a=0;a<n;a++){var o=i[a];if(Ye(o))throw Error("Tried to set map with object key");a<i.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},rf=function(e){for(var r=e.map,i=e.keys,n=i.length,a=0;a<n;a++){var o=i[a];if(Ye(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function pg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cn=pg,ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vg(t,e){return e={exports:{}},t(e,e.exports),e.exports}var gg=typeof ja=="object"&&ja&&ja.Object===Object&&ja,bg=gg,yg=typeof self=="object"&&self&&self.Object===Object&&self,_g=bg||yg||Function("return this")(),Ps=_g,xg=function(){return Ps.Date.now()},Zl=xg,wg=/\s/;function Cg(t){for(var e=t.length;e--&&wg.test(t.charAt(e)););return e}var Eg=Cg,kg=/^\s+/;function Dg(t){return t&&t.slice(0,Eg(t)+1).replace(kg,"")}var Sg=Dg,Ig=Ps.Symbol,Yn=Ig,nf=Object.prototype,Ag=nf.hasOwnProperty,Mg=nf.toString,La=Yn?Yn.toStringTag:void 0;function Tg(t){var e=Ag.call(t,La),r=t[La];try{t[La]=void 0;var i=!0}catch{}var n=Mg.call(t);return i&&(e?t[La]=r:delete t[La]),n}var Og=Tg,Rg=Object.prototype,Fg=Rg.toString;function Pg(t){return Fg.call(t)}var Lg=Pg,Ng="[object Null]",Bg="[object Undefined]",Nu=Yn?Yn.toStringTag:void 0;function Vg(t){return t==null?t===void 0?Bg:Ng:Nu&&Nu in Object(t)?Og(t):Lg(t)}var af=Vg;function zg(t){return t!=null&&typeof t=="object"}var jg=zg,Hg="[object Symbol]";function Ug(t){return typeof t=="symbol"||jg(t)&&af(t)==Hg}var so=Ug,Bu=NaN,Wg=/^[-+]0x[0-9a-f]+$/i,qg=/^0b[01]+$/i,$g=/^0o[0-7]+$/i,Gg=parseInt;function Yg(t){if(typeof t=="number")return t;if(so(t))return Bu;if(cn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Sg(t);var r=qg.test(t);return r||$g.test(t)?Gg(t.slice(2),r?2:8):Wg.test(t)?Bu:+t}var Vu=Yg,Kg="Expected a function",Zg=Math.max,Xg=Math.min;function Qg(t,e,r){var i,n,a,o,s,l,c=0,d=!1,u=!1,h=!0;if(typeof t!="function")throw new TypeError(Kg);e=Vu(e)||0,cn(r)&&(d=!!r.leading,u="maxWait"in r,a=u?Zg(Vu(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function m(w){var x=i,D=n;return i=n=void 0,c=w,o=t.apply(D,x),o}function f(w){return c=w,s=setTimeout(p,e),d?m(w):o}function g(w){var x=w-l,D=w-c,E=e-x;return u?Xg(E,a-D):E}function v(w){var x=w-l,D=w-c;return l===void 0||x>=e||x<0||u&&D>=a}function p(){var w=Zl();if(v(w))return y(w);s=setTimeout(p,g(w))}function y(w){return s=void 0,h&&i?m(w):(i=n=void 0,o)}function b(){s!==void 0&&clearTimeout(s),c=0,i=l=n=s=void 0}function _(){return s===void 0?o:y(Zl())}function C(){var w=Zl(),x=v(w);if(i=arguments,n=this,l=w,x){if(s===void 0)return f(l);if(u)return clearTimeout(s),s=setTimeout(p,e),m(l)}return s===void 0&&(s=setTimeout(p,e)),o}return C.cancel=b,C.flush=_,C}var Ls=Qg,Xl=Ot?Ot.performance:null,of=Xl&&Xl.now?function(){return Xl.now()}:function(){return Date.now()},Jg=function(){if(Ot){if(Ot.requestAnimationFrame)return function(t){Ot.requestAnimationFrame(t)};if(Ot.mozRequestAnimationFrame)return function(t){Ot.mozRequestAnimationFrame(t)};if(Ot.webkitRequestAnimationFrame)return function(t){Ot.webkitRequestAnimationFrame(t)};if(Ot.msRequestAnimationFrame)return function(t){Ot.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(of())},1e3/60)}}(),Es=function(e){return Jg(e)},dr=of,jn=9261,sf=65599,Ha=5381,lf=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jn,i=r,n;n=e.next(),!n.done;)i=i*sf+n.value|0;return i},Ka=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jn;return r*sf+e|0},Za=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ha;return(r<<5)+r+e|0},eb=function(e,r){return e*2097152+r},kr=function(e){return e[0]*2097152+e[1]},is=function(e,r){return[Ka(e[0],r[0]),Za(e[1],r[1])]},tb=function(e,r){var i={value:0,done:!1},n=0,a=e.length,o={next:function(){return n<a?i.value=e[n++]:i.done=!0,i}};return lf(o,r)},dn=function(e,r){var i={value:0,done:!1},n=0,a=e.length,o={next:function(){return n<a?i.value=e.charCodeAt(n++):i.done=!0,i}};return lf(o,r)},cf=function(){return ib(arguments)},ib=function(e){for(var r,i=0;i<e.length;i++){var n=e[i];i===0?r=dn(n):r=dn(n,r)}return r},zu=!0,rb=console.warn!=null,nb=console.trace!=null,Ac=Number.MAX_SAFE_INTEGER||9007199254740991,df=function(){return!0},ks=function(){return!1},ju=function(){return 0},Mc=function(){},Et=function(e){throw new Error(e)},uf=function(e){if(e!==void 0)zu=!!e;else return zu},ot=function(e){uf()&&(rb?console.warn(e):(console.log(e),nb&&console.trace()))},ab=function(e){return ke({},e)},Qi=function(e){return e==null?e:ft(e)?e.slice():Ye(e)?ab(e):e},ob=function(e){return e.slice()},hf=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},sb={},ff=function(){return sb},Ut=function(e){var r=Object.keys(e);return function(i){for(var n={},a=0;a<r.length;a++){var o=r[a],s=i?.[o];n[o]=s===void 0?e[o]:s}return n}},Or=function(e,r,i){for(var n=e.length-1;n>=0&&!(e[n]===r&&(e.splice(n,1),i));n--);},Tc=function(e){e.splice(0,e.length)},lb=function(e,r){for(var i=0;i<r.length;i++){var n=r[i];e.push(n)}},Ni=function(e,r,i){return i&&(r=Jh(i,r)),e[r]},Sr=function(e,r,i,n){i&&(r=Jh(i,r)),e[r]=n},cb=function(){function t(){kc(this,t),this._obj={}}return Dc(t,[{key:"set",value:function(r,i){return this._obj[r]=i,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Ji=typeof Map<"u"?Map:cb,db="undefined",ub=function(){function t(e){if(kc(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var i=0;i<r.length;i++)this.add(r[i])}}return Dc(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var i=this._obj;i[r]!==1&&(i[r]=1,this.size++)}},{key:"delete",value:function(r){var i=this._obj;i[r]===1&&(i[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(i){return r.has(i)})}},{key:"forEach",value:function(r,i){return this.toArray().forEach(r,i)}}]),t}(),Qn=(typeof Set>"u"?"undefined":Ft(Set))!==db?Set:ub,Ns=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Sc(e)){Et("An element must have a core reference and parameters set");return}var n=r.group;if(n==null&&(r.data&&r.data.source!=null&&r.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){Et("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?n==="edges":!!r.pannable,active:!1,classes:new Qn,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),l=e.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var c=[];ft(r.classes)?c=r.classes:ye(r.classes)&&(c=r.classes.split(/\s+/));for(var d=0,u=c.length;d<u;d++){var h=c[d];!h||h===""||a.classes.add(h)}this.createEmitter();var m=r.style||r.css;m&&(ot("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(i===void 0||i)&&this.restore()},Hu=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(i,n,a){var o;Ye(i)&&!fi(i)&&(o=i,i=o.roots||o.root,n=o.visit,a=o.directed),a=arguments.length===2&&!_t(n)?n:a,n=_t(n)?n:function(){};for(var s=this._private.cy,l=i=ye(i)?this.filter(i):i,c=[],d=[],u={},h={},m={},f=0,g,v=this.byGroup(),p=v.nodes,y=v.edges,b=0;b<l.length;b++){var _=l[b],C=_.id();_.isNode()&&(c.unshift(_),e.bfs&&(m[C]=!0,d.push(_)),h[C]=0)}for(var w=function(){var T=e.bfs?c.shift():c.pop(),S=T.id();if(e.dfs){if(m[S])return"continue";m[S]=!0,d.push(T)}var F=h[S],O=u[S],R=O!=null?O.source():null,P=O!=null?O.target():null,j=O==null?void 0:T.same(R)?P[0]:R[0],H=void 0;if(H=n(T,O,j,f++,F),H===!0)return g=T,"break";if(H===!1)return"break";for(var V=T.connectedEdges().filter(function(ee){return(!a||ee.source().same(T))&&y.has(ee)}),N=0;N<V.length;N++){var $=V[N],X=$.connectedNodes().filter(function(ee){return!ee.same(T)&&p.has(ee)}),J=X.id();X.length!==0&&!m[J]&&(X=X[0],c.push(X),e.bfs&&(m[J]=!0,d.push(X)),u[J]=$,h[J]=h[S]+1)}};c.length!==0;){var x=w();if(x!=="continue"&&x==="break")break}for(var D=s.collection(),E=0;E<d.length;E++){var M=d[E],I=u[M.id()];I!=null&&D.push(I),D.push(M)}return{path:s.collection(D),found:s.collection(g)}}},Xa={breadthFirstSearch:Hu({bfs:!0}),depthFirstSearch:Hu({dfs:!0})};Xa.bfs=Xa.breadthFirstSearch;Xa.dfs=Xa.depthFirstSearch;var hb=vg(function(t,e){(function(){var r,i,n,a,o,s,l,c,d,u,h,m,f,g,v;n=Math.floor,u=Math.min,i=function(p,y){return p<y?-1:p>y?1:0},d=function(p,y,b,_,C){var w;if(b==null&&(b=0),C==null&&(C=i),b<0)throw new Error("lo must be non-negative");for(_==null&&(_=p.length);b<_;)w=n((b+_)/2),C(y,p[w])<0?_=w:b=w+1;return[].splice.apply(p,[b,b-b].concat(y)),y},s=function(p,y,b){return b==null&&(b=i),p.push(y),g(p,0,p.length-1,b)},o=function(p,y){var b,_;return y==null&&(y=i),b=p.pop(),p.length?(_=p[0],p[0]=b,v(p,0,y)):_=b,_},c=function(p,y,b){var _;return b==null&&(b=i),_=p[0],p[0]=y,v(p,0,b),_},l=function(p,y,b){var _;return b==null&&(b=i),p.length&&b(p[0],y)<0&&(_=[p[0],y],y=_[0],p[0]=_[1],v(p,0,b)),y},a=function(p,y){var b,_,C,w,x,D;for(y==null&&(y=i),w=(function(){D=[];for(var E=0,M=n(p.length/2);0<=M?E<M:E>M;0<=M?E++:E--)D.push(E);return D}).apply(this).reverse(),x=[],_=0,C=w.length;_<C;_++)b=w[_],x.push(v(p,b,y));return x},f=function(p,y,b){var _;if(b==null&&(b=i),_=p.indexOf(y),_!==-1)return g(p,0,_,b),v(p,_,b)},h=function(p,y,b){var _,C,w,x,D;if(b==null&&(b=i),C=p.slice(0,y),!C.length)return C;for(a(C,b),D=p.slice(y),w=0,x=D.length;w<x;w++)_=D[w],l(C,_,b);return C.sort(b).reverse()},m=function(p,y,b){var _,C,w,x,D,E,M,I,A;if(b==null&&(b=i),y*10<=p.length){if(w=p.slice(0,y).sort(b),!w.length)return w;for(C=w[w.length-1],M=p.slice(y),x=0,E=M.length;x<E;x++)_=M[x],b(_,C)<0&&(d(w,_,0,null,b),w.pop(),C=w[w.length-1]);return w}for(a(p,b),A=[],D=0,I=u(y,p.length);0<=I?D<I:D>I;0<=I?++D:--D)A.push(o(p,b));return A},g=function(p,y,b,_){var C,w,x;for(_==null&&(_=i),C=p[b];b>y;){if(x=b-1>>1,w=p[x],_(C,w)<0){p[b]=w,b=x;continue}break}return p[b]=C},v=function(p,y,b){var _,C,w,x,D;for(b==null&&(b=i),C=p.length,D=y,w=p[y],_=2*y+1;_<C;)x=_+1,x<C&&!(b(p[_],p[x])<0)&&(_=x),p[y]=p[_],y=_,_=2*y+1;return p[y]=w,g(p,D,y,b)},r=function(){p.push=s,p.pop=o,p.replace=c,p.pushpop=l,p.heapify=a,p.updateItem=f,p.nlargest=h,p.nsmallest=m;function p(y){this.cmp=y??i,this.nodes=[]}return p.prototype.push=function(y){return s(this.nodes,y,this.cmp)},p.prototype.pop=function(){return o(this.nodes,this.cmp)},p.prototype.peek=function(){return this.nodes[0]},p.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},p.prototype.replace=function(y){return c(this.nodes,y,this.cmp)},p.prototype.pushpop=function(y){return l(this.nodes,y,this.cmp)},p.prototype.heapify=function(){return a(this.nodes,this.cmp)},p.prototype.updateItem=function(y){return f(this.nodes,y,this.cmp)},p.prototype.clear=function(){return this.nodes=[]},p.prototype.empty=function(){return this.nodes.length===0},p.prototype.size=function(){return this.nodes.length},p.prototype.clone=function(){var y;return y=new p,y.nodes=this.nodes.slice(0),y},p.prototype.toArray=function(){return this.nodes.slice(0)},p.prototype.insert=p.prototype.push,p.prototype.top=p.prototype.peek,p.prototype.front=p.prototype.peek,p.prototype.has=p.prototype.contains,p.prototype.copy=p.prototype.clone,p}(),function(p,y){return t.exports=y()}(this,function(){return r})}).call(ja)}),lo=hb,fb=Ut({root:null,weight:function(e){return 1},directed:!1}),mb={dijkstra:function(e){if(!Ye(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var i=fb(e),n=i.root,a=i.weight,o=i.directed,s=this,l=a,c=ye(n)?this.filter(n)[0]:n[0],d={},u={},h={},m=this.byGroup(),f=m.nodes,g=m.edges;g.unmergeBy(function(F){return F.isLoop()});for(var v=function(O){return d[O.id()]},p=function(O,R){d[O.id()]=R,y.updateItem(O)},y=new lo(function(F,O){return v(F)-v(O)}),b=0;b<f.length;b++){var _=f[b];d[_.id()]=_.same(c)?0:1/0,y.push(_)}for(var C=function(O,R){for(var P=(o?O.edgesTo(R):O.edgesWith(R)).intersect(g),j=1/0,H,V=0;V<P.length;V++){var N=P[V],$=l(N);($<j||!H)&&(j=$,H=N)}return{edge:H,dist:j}};y.size()>0;){var w=y.pop(),x=v(w),D=w.id();if(h[D]=x,x!==1/0)for(var E=w.neighborhood().intersect(f),M=0;M<E.length;M++){var I=E[M],A=I.id(),T=C(w,I),S=x+T.dist;S<v(I)&&(p(I,S),u[A]={node:w,edge:T.edge})}}return{distanceTo:function(O){var R=ye(O)?f.filter(O)[0]:O[0];return h[R.id()]},pathTo:function(O){var R=ye(O)?f.filter(O)[0]:O[0],P=[],j=R,H=j.id();if(R.length>0)for(P.unshift(R);u[H];){var V=u[H];P.unshift(V.edge),P.unshift(V.node),j=V.node,H=j.id()}return s.spawn(P)}}}},pb={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),i=r.nodes,n=r.edges,a=i.length,o=new Array(a),s=i,l=function(_){for(var C=0;C<o.length;C++){var w=o[C];if(w.has(_))return C}},c=0;c<a;c++)o[c]=this.spawn(i[c]);for(var d=n.sort(function(b,_){return e(b)-e(_)}),u=0;u<d.length;u++){var h=d[u],m=h.source()[0],f=h.target()[0],g=l(m),v=l(f),p=o[g],y=o[v];g!==v&&(s.merge(h),p.merge(y),o.splice(v,1))}return s}},vb=Ut({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),gb={aStar:function(e){var r=this.cy(),i=vb(e),n=i.root,a=i.goal,o=i.heuristic,s=i.directed,l=i.weight;n=r.collection(n)[0],a=r.collection(a)[0];var c=n.id(),d=a.id(),u={},h={},m={},f=new lo(function(H,V){return h[H.id()]-h[V.id()]}),g=new Qn,v={},p={},y=function(V,N){f.push(V),g.add(N)},b,_,C=function(){b=f.pop(),_=b.id(),g.delete(_)},w=function(V){return g.has(V)};y(n,c),u[c]=0,h[c]=o(n);for(var x=0;f.size()>0;){if(C(),x++,_===d){for(var D=[],E=a,M=d,I=p[M];D.unshift(E),I!=null&&D.unshift(I),E=v[M],E!=null;)M=E.id(),I=p[M];return{found:!0,distance:u[_],path:this.spawn(D),steps:x}}m[_]=!0;for(var A=b._private.edges,T=0;T<A.length;T++){var S=A[T];if(this.hasElementWithId(S.id())&&!(s&&S.data("source")!==_)){var F=S.source(),O=S.target(),R=F.id()!==_?F:O,P=R.id();if(this.hasElementWithId(P)&&!m[P]){var j=u[_]+l(S);if(!w(P)){u[P]=j,h[P]=j+o(R),y(R,P),v[P]=b,p[P]=S;continue}j<u[P]&&(u[P]=j,h[P]=j+o(R),v[P]=b,p[P]=S)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},bb=Ut({weight:function(e){return 1},directed:!1}),yb={floydWarshall:function(e){for(var r=this.cy(),i=bb(e),n=i.weight,a=i.directed,o=n,s=this.byGroup(),l=s.nodes,c=s.edges,d=l.length,u=d*d,h=function($){return l.indexOf($)},m=function($){return l[$]},f=new Array(u),g=0;g<u;g++){var v=g%d,p=(g-v)/d;p===v?f[g]=0:f[g]=1/0}for(var y=new Array(u),b=new Array(u),_=0;_<c.length;_++){var C=c[_],w=C.source()[0],x=C.target()[0];if(w!==x){var D=h(w),E=h(x),M=D*d+E,I=o(C);if(f[M]>I&&(f[M]=I,y[M]=E,b[M]=C),!a){var A=E*d+D;!a&&f[A]>I&&(f[A]=I,y[A]=D,b[A]=C)}}}for(var T=0;T<d;T++)for(var S=0;S<d;S++)for(var F=S*d+T,O=0;O<d;O++){var R=S*d+O,P=T*d+O;f[F]+f[P]<f[R]&&(f[R]=f[F]+f[P],y[R]=y[F])}var j=function($){return(ye($)?r.filter($):$)[0]},H=function($){return h(j($))},V={distance:function($,X){var J=H($),ee=H(X);return f[J*d+ee]},path:function($,X){var J=H($),ee=H(X),te=m(J);if(J===ee)return te.collection();if(y[J*d+ee]==null)return r.collection();var G=r.collection(),L=J,Y;for(G.merge(te);J!==ee;)L=J,J=y[J*d+ee],Y=b[L*d+J],G.merge(Y),G.merge(m(J));return G}};return V}},_b=Ut({weight:function(e){return 1},directed:!1,root:null}),xb={bellmanFord:function(e){var r=this,i=_b(e),n=i.weight,a=i.directed,o=i.root,s=n,l=this,c=this.cy(),d=this.byGroup(),u=d.edges,h=d.nodes,m=h.length,f=new Ji,g=!1,v=[];o=c.collection(o)[0],u.unmergeBy(function(ge){return ge.isLoop()});for(var p=u.length,y=function(me){var we=f.get(me.id());return we||(we={},f.set(me.id(),we)),we},b=function(me){return(ye(me)?c.$(me):me)[0]},_=function(me){return y(b(me)).dist},C=function(me){for(var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,nt=b(me),$e=[],Le=nt;;){if(Le==null)return r.spawn();var Ke=y(Le),Q=Ke.edge,k=Ke.pred;if($e.unshift(Le[0]),Le.same(we)&&$e.length>0)break;Q!=null&&$e.unshift(Q),Le=k}return l.spawn($e)},w=0;w<m;w++){var x=h[w],D=y(x);x.same(o)?D.dist=0:D.dist=1/0,D.pred=null,D.edge=null}for(var E=!1,M=function(me,we,nt,$e,Le,Ke){var Q=$e.dist+Ke;Q<Le.dist&&!nt.same($e.edge)&&(Le.dist=Q,Le.pred=me,Le.edge=nt,E=!0)},I=1;I<m;I++){E=!1;for(var A=0;A<p;A++){var T=u[A],S=T.source(),F=T.target(),O=s(T),R=y(S),P=y(F);M(S,F,T,R,P,O),a||M(F,S,T,P,R,O)}if(!E)break}if(E)for(var j=[],H=0;H<p;H++){var V=u[H],N=V.source(),$=V.target(),X=s(V),J=y(N).dist,ee=y($).dist;if(J+X<ee||!a&&ee+X<J)if(g||(ot("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var te=[];J+X<ee&&te.push(N),!a&&ee+X<J&&te.push($);for(var G=te.length,L=0;L<G;L++){var Y=te[L],K=[Y];K.push(y(Y).edge);for(var de=y(Y).pred;K.indexOf(de)===-1;)K.push(de),K.push(y(de).edge),de=y(de).pred;K=K.slice(K.indexOf(de));for(var _e=K[0].id(),se=0,ce=2;ce<K.length;ce+=2)K[ce].id()<_e&&(_e=K[ce].id(),se=ce);K=K.slice(se).concat(K.slice(0,se)),K.push(K[0]);var he=K.map(function(ge){return ge.id()}).join(",");j.indexOf(he)===-1&&(v.push(l.spawn(K)),j.push(he))}}else break}return{distanceTo:_,pathTo:C,hasNegativeWeightCycle:g,negativeWeightCycles:v}}},wb=Math.sqrt(2),Cb=function(e,r,i){i.length===0&&Et("Karger-Stein must be run on a connected (sub)graph");for(var n=i[e],a=n[1],o=n[2],s=r[a],l=r[o],c=i,d=c.length-1;d>=0;d--){var u=c[d],h=u[1],m=u[2];(r[h]===s&&r[m]===l||r[h]===l&&r[m]===s)&&c.splice(d,1)}for(var f=0;f<c.length;f++){var g=c[f];g[1]===l?(c[f]=g.slice(),c[f][1]=s):g[2]===l&&(c[f]=g.slice(),c[f][2]=s)}for(var v=0;v<r.length;v++)r[v]===l&&(r[v]=s);return c},Ql=function(e,r,i,n){for(;i>n;){var a=Math.floor(Math.random()*r.length);r=Cb(a,e,r),i--}return r},Eb={kargerStein:function(){var e=this,r=this.byGroup(),i=r.nodes,n=r.edges;n.unmergeBy(function(P){return P.isLoop()});var a=i.length,o=n.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/wb);if(a<2){Et("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<o;d++){var u=n[d];c.push([d,i.indexOf(u.source()),i.indexOf(u.target())])}for(var h=1/0,m=[],f=new Array(a),g=new Array(a),v=new Array(a),p=function(j,H){for(var V=0;V<a;V++)H[V]=j[V]},y=0;y<=s;y++){for(var b=0;b<a;b++)g[b]=b;var _=Ql(g,c.slice(),a,l),C=_.slice();p(g,v);var w=Ql(g,_,l,2),x=Ql(v,C,l,2);w.length<=x.length&&w.length<h?(h=w.length,m=w,p(g,f)):x.length<=w.length&&x.length<h&&(h=x.length,m=x,p(v,f))}for(var D=this.spawn(m.map(function(P){return n[P[0]]})),E=this.spawn(),M=this.spawn(),I=f[0],A=0;A<f.length;A++){var T=f[A],S=i[A];T===I?E.merge(S):M.merge(S)}var F=function(j){var H=e.spawn();return j.forEach(function(V){H.merge(V),V.connectedEdges().forEach(function(N){e.contains(N)&&!D.contains(N)&&H.merge(N)})}),H},O=[F(E),F(M)],R={cut:D,components:O,partition1:E,partition2:M};return R}},kb=function(e){return{x:e.x,y:e.y}},Bs=function(e,r,i){return{x:e.x*r+i.x,y:e.y*r+i.y}},mf=function(e,r,i){return{x:(e.x-i.x)/r,y:(e.y-i.y)/r}},Hn=function(e){return{x:e[0],y:e[1]}},Db=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=1/0,a=r;a<i;a++){var o=e[a];isFinite(o)&&(n=Math.min(o,n))}return n},Sb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=-1/0,a=r;a<i;a++){var o=e[a];isFinite(o)&&(n=Math.max(o,n))}return n},Ib=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=0,a=0,o=r;o<i;o++){var s=e[o];isFinite(s)&&(n+=s,a++)}return n/a},Ab=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;n?e=e.slice(r,i):(i<e.length&&e.splice(i,e.length-i),r>0&&e.splice(0,r));for(var s=0,l=e.length-1;l>=0;l--){var c=e[l];o?isFinite(c)||(e[l]=-1/0,s++):e.splice(l,1)}a&&e.sort(function(h,m){return h-m});var d=e.length,u=Math.floor(d/2);return d%2!==0?e[u+1+s]:(e[u-1+s]+e[u+s])/2},Mb=function(e){return Math.PI*e/180},rs=function(e,r){return Math.atan2(r,e)-Math.PI/2},Oc=Math.log2||function(t){return Math.log(t)/Math.log(2)},pf=function(e){return e>0?1:e<0?-1:0},un=function(e,r){return Math.sqrt(nn(e,r))},nn=function(e,r){var i=r.x-e.x,n=r.y-e.y;return i*i+n*n},Tb=function(e){for(var r=e.length,i=0,n=0;n<r;n++)i+=e[n];for(var a=0;a<r;a++)e[a]=e[a]/i;return e},Nt=function(e,r,i,n){return(1-n)*(1-n)*e+2*(1-n)*n*r+n*n*i},Wn=function(e,r,i,n){return{x:Nt(e.x,r.x,i.x,n),y:Nt(e.y,r.y,i.y,n)}},Ob=function(e,r,i,n){var a={x:r.x-e.x,y:r.y-e.y},o=un(e,r),s={x:a.x/o,y:a.y/o};return i=i??0,n=n??i*o,{x:e.x+s.x*n,y:e.y+s.y*n}},Qa=function(e,r,i){return Math.max(e,Math.min(i,r))},hi=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Rb=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Fb=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Pb=function(e,r,i){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+i,y2:e.y2+i,w:e.w,h:e.h}},vf=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Lb=function(e,r,i){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,i),e.y2=Math.max(e.y2,i),e.h=e.y2-e.y1},ms=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ps=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],i,n,a,o;if(r.length===1)i=n=a=o=r[0];else if(r.length===2)i=a=r[0],o=n=r[1];else if(r.length===4){var s=Pi(r,4);i=s[0],n=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=n,e.y1-=i,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Uu=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Rc=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Kn=function(e,r,i){return e.x1<=r&&r<=e.x2&&e.y1<=i&&i<=e.y2},Nb=function(e,r){return Kn(e,r.x,r.y)},gf=function(e,r){return Kn(e,r.x1,r.y1)&&Kn(e,r.x2,r.y2)},bf=function(e,r,i,n,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=l==="auto"?hn(a,o):l,d=a/2,u=o/2;c=Math.min(c,d,u);var h=c!==d,m=c!==u,f;if(h){var g=i-d+c-s,v=n-u-s,p=i+d-c+s,y=v;if(f=Ir(e,r,i,n,g,v,p,y,!1),f.length>0)return f}if(m){var b=i+d+s,_=n-u+c-s,C=b,w=n+u-c+s;if(f=Ir(e,r,i,n,b,_,C,w,!1),f.length>0)return f}if(h){var x=i-d+c-s,D=n+u+s,E=i+d-c+s,M=D;if(f=Ir(e,r,i,n,x,D,E,M,!1),f.length>0)return f}if(m){var I=i-d-s,A=n-u+c-s,T=I,S=n+u-c+s;if(f=Ir(e,r,i,n,I,A,T,S,!1),f.length>0)return f}var F;{var O=i-d+c,R=n-u+c;if(F=Ua(e,r,i,n,O,R,c+s),F.length>0&&F[0]<=O&&F[1]<=R)return[F[0],F[1]]}{var P=i+d-c,j=n-u+c;if(F=Ua(e,r,i,n,P,j,c+s),F.length>0&&F[0]>=P&&F[1]<=j)return[F[0],F[1]]}{var H=i+d-c,V=n+u-c;if(F=Ua(e,r,i,n,H,V,c+s),F.length>0&&F[0]>=H&&F[1]>=V)return[F[0],F[1]]}{var N=i-d+c,$=n+u-c;if(F=Ua(e,r,i,n,N,$,c+s),F.length>0&&F[0]<=N&&F[1]>=$)return[F[0],F[1]]}return[]},Bb=function(e,r,i,n,a,o,s){var l=s,c=Math.min(i,a),d=Math.max(i,a),u=Math.min(n,o),h=Math.max(n,o);return c-l<=e&&e<=d+l&&u-l<=r&&r<=h+l},Vb=function(e,r,i,n,a,o,s,l,c){var d={x1:Math.min(i,s,a)-c,x2:Math.max(i,s,a)+c,y1:Math.min(n,l,o)-c,y2:Math.max(n,l,o)+c};return!(e<d.x1||e>d.x2||r<d.y1||r>d.y2)},zb=function(e,r,i,n){i-=n;var a=r*r-4*e*i;if(a<0)return[];var o=Math.sqrt(a),s=2*e,l=(-r+o)/s,c=(-r-o)/s;return[l,c]},jb=function(e,r,i,n,a){var o=1e-5;e===0&&(e=o),r/=e,i/=e,n/=e;var s,l,c,d,u,h,m,f;if(l=(3*i-r*r)/9,c=-(27*n)+r*(9*i-2*(r*r)),c/=54,s=l*l*l+c*c,a[1]=0,m=r/3,s>0){u=c+Math.sqrt(s),u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),h=c-Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),a[0]=-m+u+h,m+=(u+h)/2,a[4]=a[2]=-m,m=Math.sqrt(3)*(-h+u)/2,a[3]=m,a[5]=-m;return}if(a[5]=a[3]=0,s===0){f=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),a[0]=-m+2*f,a[4]=a[2]=-(f+m);return}l=-l,d=l*l*l,d=Math.acos(c/Math.sqrt(d)),f=2*Math.sqrt(l),a[0]=-m+f*Math.cos(d/3),a[2]=-m+f*Math.cos((d+2*Math.PI)/3),a[4]=-m+f*Math.cos((d+4*Math.PI)/3)},Hb=function(e,r,i,n,a,o,s,l){var c=1*i*i-4*i*a+2*i*s+4*a*a-4*a*s+s*s+n*n-4*n*o+2*n*l+4*o*o-4*o*l+l*l,d=1*9*i*a-3*i*i-3*i*s-6*a*a+3*a*s+9*n*o-3*n*n-3*n*l-6*o*o+3*o*l,u=1*3*i*i-6*i*a+i*s-i*e+2*a*a+2*a*e-s*e+3*n*n-6*n*o+n*l-n*r+2*o*o+2*o*r-l*r,h=1*i*a-i*i+i*e-a*e+n*o-n*n+n*r-o*r,m=[];jb(c,d,u,h,m);for(var f=1e-7,g=[],v=0;v<6;v+=2)Math.abs(m[v+1])<f&&m[v]>=0&&m[v]<=1&&g.push(m[v]);g.push(1),g.push(0);for(var p=-1,y,b,_,C=0;C<g.length;C++)y=Math.pow(1-g[C],2)*i+2*(1-g[C])*g[C]*a+g[C]*g[C]*s,b=Math.pow(1-g[C],2)*n+2*(1-g[C])*g[C]*o+g[C]*g[C]*l,_=Math.pow(y-e,2)+Math.pow(b-r,2),p>=0?_<p&&(p=_):p=_;return p},Ub=function(e,r,i,n,a,o){var s=[e-i,r-n],l=[a-i,o-n],c=l[0]*l[0]+l[1]*l[1],d=s[0]*s[0]+s[1]*s[1],u=s[0]*l[0]+s[1]*l[1],h=u*u/c;return u<0?d:h>c?(e-a)*(e-a)+(r-o)*(r-o):d-h},ui=function(e,r,i){for(var n,a,o,s,l,c=0,d=0;d<i.length/2;d++)if(n=i[d*2],a=i[d*2+1],d+1<i.length/2?(o=i[(d+1)*2],s=i[(d+1)*2+1]):(o=i[(d+1-i.length/2)*2],s=i[(d+1-i.length/2)*2+1]),!(n==e&&o==e))if(n>=e&&e>=o||n<=e&&e<=o)l=(e-n)/(o-n)*(s-a)+a,l>r&&c++;else continue;return c%2!==0},ur=function(e,r,i,n,a,o,s,l,c){var d=new Array(i.length),u;l[0]!=null?(u=Math.atan(l[1]/l[0]),l[0]<0?u=u+Math.PI/2:u=-u-Math.PI/2):u=l;for(var h=Math.cos(-u),m=Math.sin(-u),f=0;f<d.length/2;f++)d[f*2]=o/2*(i[f*2]*h-i[f*2+1]*m),d[f*2+1]=s/2*(i[f*2+1]*h+i[f*2]*m),d[f*2]+=n,d[f*2+1]+=a;var g;if(c>0){var v=Ss(d,-c);g=Ds(v)}else g=d;return ui(e,r,g)},Wb=function(e,r,i,n,a,o,s,l){for(var c=new Array(i.length*2),d=0;d<l.length;d++){var u=l[d];c[d*4+0]=u.startX,c[d*4+1]=u.startY,c[d*4+2]=u.stopX,c[d*4+3]=u.stopY;var h=Math.pow(u.cx-e,2)+Math.pow(u.cy-r,2);if(h<=Math.pow(u.radius,2))return!0}return ui(e,r,c)},Ds=function(e){for(var r=new Array(e.length/2),i,n,a,o,s,l,c,d,u=0;u<e.length/4;u++){i=e[u*4],n=e[u*4+1],a=e[u*4+2],o=e[u*4+3],u<e.length/4-1?(s=e[(u+1)*4],l=e[(u+1)*4+1],c=e[(u+1)*4+2],d=e[(u+1)*4+3]):(s=e[0],l=e[1],c=e[2],d=e[3]);var h=Ir(i,n,a,o,s,l,c,d,!0);r[u*2]=h[0],r[u*2+1]=h[1]}return r},Ss=function(e,r){for(var i=new Array(e.length*2),n,a,o,s,l=0;l<e.length/2;l++){n=e[l*2],a=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var c=s-a,d=-(o-n),u=Math.sqrt(c*c+d*d),h=c/u,m=d/u;i[l*4]=n+h*r,i[l*4+1]=a+m*r,i[l*4+2]=o+h*r,i[l*4+3]=s+m*r}return i},qb=function(e,r,i,n,a,o){var s=i-e,l=n-r;s/=a,l/=o;var c=Math.sqrt(s*s+l*l),d=c-1;if(d<0)return[];var u=d/c;return[(i-e)*u+e,(n-r)*u+r]},ln=function(e,r,i,n,a,o,s){return e-=a,r-=o,e/=i/2+s,r/=n/2+s,e*e+r*r<=1},Ua=function(e,r,i,n,a,o,s){var l=[i-e,n-r],c=[e-a,r-o],d=l[0]*l[0]+l[1]*l[1],u=2*(c[0]*l[0]+c[1]*l[1]),h=c[0]*c[0]+c[1]*c[1]-s*s,m=u*u-4*d*h;if(m<0)return[];var f=(-u+Math.sqrt(m))/(2*d),g=(-u-Math.sqrt(m))/(2*d),v=Math.min(f,g),p=Math.max(f,g),y=[];if(v>=0&&v<=1&&y.push(v),p>=0&&p<=1&&y.push(p),y.length===0)return[];var b=y[0]*l[0]+e,_=y[0]*l[1]+r;if(y.length>1){if(y[0]==y[1])return[b,_];var C=y[1]*l[0]+e,w=y[1]*l[1]+r;return[b,_,C,w]}else return[b,_]},Jl=function(e,r,i){return r<=e&&e<=i||i<=e&&e<=r?e:e<=r&&r<=i||i<=r&&r<=e?r:i},Ir=function(e,r,i,n,a,o,s,l,c){var d=e-a,u=i-e,h=s-a,m=r-o,f=n-r,g=l-o,v=h*m-g*d,p=u*m-f*d,y=g*u-h*f;if(y!==0){var b=v/y,_=p/y,C=.001,w=0-C,x=1+C;return w<=b&&b<=x&&w<=_&&_<=x?[e+b*u,r+b*f]:c?[e+b*u,r+b*f]:[]}else return v===0||p===0?Jl(e,i,s)===s?[s,l]:Jl(e,i,a)===a?[a,o]:Jl(a,s,i)===i?[i,n]:[]:[]},Ja=function(e,r,i,n,a,o,s,l){var c=[],d,u=new Array(i.length),h=!0;o==null&&(h=!1);var m;if(h){for(var f=0;f<u.length/2;f++)u[f*2]=i[f*2]*o+n,u[f*2+1]=i[f*2+1]*s+a;if(l>0){var g=Ss(u,-l);m=Ds(g)}else m=u}else m=i;for(var v,p,y,b,_=0;_<m.length/2;_++)v=m[_*2],p=m[_*2+1],_<m.length/2-1?(y=m[(_+1)*2],b=m[(_+1)*2+1]):(y=m[0],b=m[1]),d=Ir(e,r,n,a,v,p,y,b),d.length!==0&&c.push(d[0],d[1]);return c},$b=function(e,r,i,n,a,o,s,l,c){var d=[],u,h=new Array(i.length*2);c.forEach(function(y,b){b===0?(h[h.length-2]=y.startX,h[h.length-1]=y.startY):(h[b*4-2]=y.startX,h[b*4-1]=y.startY),h[b*4]=y.stopX,h[b*4+1]=y.stopY,u=Ua(e,r,n,a,y.cx,y.cy,y.radius),u.length!==0&&d.push(u[0],u[1])});for(var m=0;m<h.length/4;m++)u=Ir(e,r,n,a,h[m*4],h[m*4+1],h[m*4+2],h[m*4+3],!1),u.length!==0&&d.push(u[0],u[1]);if(d.length>2){for(var f=[d[0],d[1]],g=Math.pow(f[0]-e,2)+Math.pow(f[1]-r,2),v=1;v<d.length/2;v++){var p=Math.pow(d[v*2]-e,2)+Math.pow(d[v*2+1]-r,2);p<=g&&(f[0]=d[v*2],f[1]=d[v*2+1],g=p)}return f}return d},ns=function(e,r,i){var n=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(a-i)/a;return o<0&&(o=1e-5),[r[0]+o*n[0],r[1]+o*n[1]]},li=function(e,r){var i=cc(e,r);return i=yf(i),i},yf=function(e){for(var r,i,n=e.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,c=0;c<n;c++)r=e[2*c],i=e[2*c+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,i),l=Math.max(l,i);for(var d=2/(s-a),u=2/(l-o),h=0;h<n;h++)r=e[2*h]=e[2*h]*d,i=e[2*h+1]=e[2*h+1]*u,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,i),l=Math.max(l,i);if(o<-1)for(var m=0;m<n;m++)i=e[2*m+1]=e[2*m+1]+(-1-o);return e},cc=function(e,r){var i=1/e*2*Math.PI,n=e%2===0?Math.PI/2+i/2:Math.PI/2;n+=r;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*i+n,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},hn=function(e,r){return Math.min(e/4,r/4,8)},_f=function(e,r){return Math.min(e/10,r/10,8)},Fc=function(){return 8},Gb=function(e,r,i){return[e-2*r+i,2*(r-e),e]},dc=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Yb=Ut({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Kb={pageRank:function(e){for(var r=Yb(e),i=r.dampingFactor,n=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),c=l.nodes,d=l.edges,u=c.length,h=u*u,m=d.length,f=new Array(h),g=new Array(u),v=(1-i)/u,p=0;p<u;p++){for(var y=0;y<u;y++){var b=p*u+y;f[b]=0}g[p]=0}for(var _=0;_<m;_++){var C=d[_],w=C.data("source"),x=C.data("target");if(w!==x){var D=c.indexOfId(w),E=c.indexOfId(x),M=o(C),I=E*u+D;f[I]+=M,g[D]+=M}}for(var A=1/u+v,T=0;T<u;T++)if(g[T]===0)for(var S=0;S<u;S++){var F=S*u+T;f[F]=A}else for(var O=0;O<u;O++){var R=O*u+T;f[R]=f[R]/g[T]+v}for(var P=new Array(u),j=new Array(u),H,V=0;V<u;V++)P[V]=1;for(var N=0;N<a;N++){for(var $=0;$<u;$++)j[$]=0;for(var X=0;X<u;X++)for(var J=0;J<u;J++){var ee=X*u+J;j[X]+=f[ee]*P[J]}Tb(j),H=P,P=j,j=H;for(var te=0,G=0;G<u;G++){var L=H[G]-P[G];te+=L*L}if(te<n)break}var Y={rank:function(de){return de=s.collection(de)[0],P[c.indexOf(de)]}};return Y}},Wu=Ut({root:null,weight:function(e){return 1},directed:!1,alpha:0}),qn={degreeCentralityNormalized:function(e){e=Wu(e);var r=this.cy(),i=this.nodes(),n=i.length;if(e.directed){for(var d={},u={},h=0,m=0,f=0;f<n;f++){var g=i[f],v=g.id();e.root=g;var p=this.degreeCentrality(e);h<p.indegree&&(h=p.indegree),m<p.outdegree&&(m=p.outdegree),d[v]=p.indegree,u[v]=p.outdegree}return{indegree:function(b){return h==0?0:(ye(b)&&(b=r.filter(b)),d[b.id()]/h)},outdegree:function(b){return m===0?0:(ye(b)&&(b=r.filter(b)),u[b.id()]/m)}}}else{for(var a={},o=0,s=0;s<n;s++){var l=i[s];e.root=l;var c=this.degreeCentrality(e);o<c.degree&&(o=c.degree),a[l.id()]=c.degree}return{degree:function(b){return o===0?0:(ye(b)&&(b=r.filter(b)),a[b.id()]/o)}}}},degreeCentrality:function(e){e=Wu(e);var r=this.cy(),i=this,n=e,a=n.root,o=n.weight,s=n.directed,l=n.alpha;if(a=r.collection(a)[0],s){for(var m=a.connectedEdges(),f=m.filter(function(w){return w.target().same(a)&&i.has(w)}),g=m.filter(function(w){return w.source().same(a)&&i.has(w)}),v=f.length,p=g.length,y=0,b=0,_=0;_<f.length;_++)y+=o(f[_]);for(var C=0;C<g.length;C++)b+=o(g[C]);return{indegree:Math.pow(v,1-l)*Math.pow(y,l),outdegree:Math.pow(p,1-l)*Math.pow(b,l)}}else{for(var c=a.connectedEdges().intersection(i),d=c.length,u=0,h=0;h<c.length;h++)u+=o(c[h]);return{degree:Math.pow(d,1-l)*Math.pow(u,l)}}}};qn.dc=qn.degreeCentrality;qn.dcn=qn.degreeCentralityNormalised=qn.degreeCentralityNormalized;var qu=Ut({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),$n={closenessCentralityNormalized:function(e){for(var r=qu(e),i=r.harmonic,n=r.weight,a=r.directed,o=this.cy(),s={},l=0,c=this.nodes(),d=this.floydWarshall({weight:n,directed:a}),u=0;u<c.length;u++){for(var h=0,m=c[u],f=0;f<c.length;f++)if(u!==f){var g=d.distance(m,c[f]);i?h+=1/g:h+=g}i||(h=1/h),l<h&&(l=h),s[m.id()]=h}return{closeness:function(p){return l==0?0:(ye(p)?p=o.filter(p)[0].id():p=p.id(),s[p]/l)}}},closenessCentrality:function(e){var r=qu(e),i=r.root,n=r.weight,a=r.directed,o=r.harmonic;i=this.filter(i)[0];for(var s=this.dijkstra({root:i,weight:n,directed:a}),l=0,c=this.nodes(),d=0;d<c.length;d++){var u=c[d];if(!u.same(i)){var h=s.distanceTo(u);o?l+=1/h:l+=h}}return o?l:1/l}};$n.cc=$n.closenessCentrality;$n.ccn=$n.closenessCentralityNormalised=$n.closenessCentralityNormalized;var Zb=Ut({weight:null,directed:!1}),uc={betweennessCentrality:function(e){for(var r=Zb(e),i=r.directed,n=r.weight,a=n!=null,o=this.cy(),s=this.nodes(),l={},c={},d=0,u={set:function(b,_){c[b]=_,_>d&&(d=_)},get:function(b){return c[b]}},h=0;h<s.length;h++){var m=s[h],f=m.id();i?l[f]=m.outgoers().nodes():l[f]=m.openNeighborhood().nodes(),u.set(f,0)}for(var g=function(b){for(var _=s[b].id(),C=[],w={},x={},D={},E=new lo(function(J,ee){return D[J]-D[ee]}),M=0;M<s.length;M++){var I=s[M].id();w[I]=[],x[I]=0,D[I]=1/0}for(x[_]=1,D[_]=0,E.push(_);!E.empty();){var A=E.pop();if(C.push(A),a)for(var T=0;T<l[A].length;T++){var S=l[A][T],F=o.getElementById(A),O=void 0;F.edgesTo(S).length>0?O=F.edgesTo(S)[0]:O=S.edgesTo(F)[0];var R=n(O);S=S.id(),D[S]>D[A]+R&&(D[S]=D[A]+R,E.nodes.indexOf(S)<0?E.push(S):E.updateItem(S),x[S]=0,w[S]=[]),D[S]==D[A]+R&&(x[S]=x[S]+x[A],w[S].push(A))}else for(var P=0;P<l[A].length;P++){var j=l[A][P].id();D[j]==1/0&&(E.push(j),D[j]=D[A]+1),D[j]==D[A]+1&&(x[j]=x[j]+x[A],w[j].push(A))}}for(var H={},V=0;V<s.length;V++)H[s[V].id()]=0;for(;C.length>0;){for(var N=C.pop(),$=0;$<w[N].length;$++){var X=w[N][$];H[X]=H[X]+x[X]/x[N]*(1+H[N])}N!=s[b].id()&&u.set(N,u.get(N)+H[N])}},v=0;v<s.length;v++)g(v);var p={betweenness:function(b){var _=o.collection(b).id();return u.get(_)},betweennessNormalized:function(b){if(d==0)return 0;var _=o.collection(b).id();return u.get(_)/d}};return p.betweennessNormalised=p.betweennessNormalized,p}};uc.bc=uc.betweennessCentrality;var Xb=Ut({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Qb=function(e){return Xb(e)},Jb=function(e,r){for(var i=0,n=0;n<r.length;n++)i+=r[n](e);return i},ey=function(e,r,i){for(var n=0;n<r;n++)e[n*r+n]=i},xf=function(e,r){for(var i,n=0;n<r;n++){i=0;for(var a=0;a<r;a++)i+=e[a*r+n];for(var o=0;o<r;o++)e[o*r+n]=e[o*r+n]/i}},ty=function(e,r,i){for(var n=new Array(i*i),a=0;a<i;a++){for(var o=0;o<i;o++)n[a*i+o]=0;for(var s=0;s<i;s++)for(var l=0;l<i;l++)n[a*i+l]+=e[a*i+s]*r[s*i+l]}return n},iy=function(e,r,i){for(var n=e.slice(0),a=1;a<i;a++)e=ty(e,n,r);return e},ry=function(e,r,i){for(var n=new Array(r*r),a=0;a<r*r;a++)n[a]=Math.pow(e[a],i);return xf(n,r),n},ny=function(e,r,i,n){for(var a=0;a<i;a++){var o=Math.round(e[a]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(r[a]*Math.pow(10,n))/Math.pow(10,n);if(o!==s)return!1}return!0},ay=function(e,r,i,n){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(e[o*r+l]*1e3)/1e3>0&&s.push(i[l]);s.length!==0&&a.push(n.collection(s))}return a},oy=function(e,r){for(var i=0;i<e.length;i++)if(!r[i]||e[i].id()!==r[i].id())return!1;return!0},sy=function(e){for(var r=0;r<e.length;r++)for(var i=0;i<e.length;i++)r!=i&&oy(e[r],e[i])&&e.splice(i,1);return e},$u=function(e){for(var r=this.nodes(),i=this.edges(),n=this.cy(),a=Qb(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,c=l*l,d=new Array(c),u,h=0;h<c;h++)d[h]=0;for(var m=0;m<i.length;m++){var f=i[m],g=o[f.source().id()],v=o[f.target().id()],p=Jb(f,a.attributes);d[g*l+v]+=p,d[v*l+g]+=p}ey(d,l,a.multFactor),xf(d,l);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,u=iy(d,l,a.expandFactor),d=ry(u,l,a.inflateFactor),ny(d,u,c,4)||(y=!0),b++;var _=ay(d,l,r,n);return _=sy(_),_},ly={markovClustering:$u,mcl:$u},cy=function(e){return e},wf=function(e,r){return Math.abs(r-e)},Gu=function(e,r,i){return e+wf(r,i)},Yu=function(e,r,i){return e+Math.pow(i-r,2)},dy=function(e){return Math.sqrt(e)},uy=function(e,r,i){return Math.max(e,wf(r,i))},Na=function(e,r,i,n,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:cy,s=n,l,c,d=0;d<e;d++)l=r(d),c=i(d),s=a(s,l,c);return o(s)},Zn={euclidean:function(e,r,i){return e>=2?Na(e,r,i,0,Yu,dy):Na(e,r,i,0,Gu)},squaredEuclidean:function(e,r,i){return Na(e,r,i,0,Yu)},manhattan:function(e,r,i){return Na(e,r,i,0,Gu)},max:function(e,r,i){return Na(e,r,i,-1/0,uy)}};Zn["squared-euclidean"]=Zn.squaredEuclidean;Zn.squaredeuclidean=Zn.squaredEuclidean;function Vs(t,e,r,i,n,a){var o;return _t(t)?o=t:o=Zn[t]||Zn.euclidean,e===0&&_t(t)?o(n,a):o(e,r,i,n,a)}var hy=Ut({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Pc=function(e){return hy(e)},Is=function(e,r,i,n,a){var o=a!=="kMedoids",s=o?function(u){return i[u]}:function(u){return n[u](i)},l=function(h){return n[h](r)},c=i,d=r;return Vs(e,n.length,s,l,c,d)},ec=function(e,r,i){for(var n=i.length,a=new Array(n),o=new Array(n),s=new Array(r),l=null,c=0;c<n;c++)a[c]=e.min(i[c]).value,o[c]=e.max(i[c]).value;for(var d=0;d<r;d++){l=[];for(var u=0;u<n;u++)l[u]=Math.random()*(o[u]-a[u])+a[u];s[d]=l}return s},Cf=function(e,r,i,n,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var c=Is(i,e,r[l],n,a);c<o&&(o=c,s=l)}return s},Ef=function(e,r,i){for(var n=[],a=null,o=0;o<r.length;o++)a=r[o],i[a.id()]===e&&n.push(a);return n},fy=function(e,r,i){return Math.abs(r-e)<=i},my=function(e,r,i){for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++){var o=Math.abs(e[n][a]-r[n][a]);if(o>i)return!1}return!0},py=function(e,r,i){for(var n=0;n<i;n++)if(e===r[n])return!0;return!1},Ku=function(e,r){var i=new Array(r);if(e.length<50)for(var n=0;n<r;n++){for(var a=e[Math.floor(Math.random()*e.length)];py(a,i,n);)a=e[Math.floor(Math.random()*e.length)];i[n]=a}else for(var o=0;o<r;o++)i[o]=e[Math.floor(Math.random()*e.length)];return i},Zu=function(e,r,i){for(var n=0,a=0;a<r.length;a++)n+=Is("manhattan",r[a],e,i,"kMedoids");return n},vy=function(e){var r=this.cy(),i=this.nodes(),n=null,a=Pc(e),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=ec(i,a.k,a.attributes)):Ft(a.testCentroids)==="object"?l=a.testCentroids:l=ec(i,a.k,a.attributes):l=ec(i,a.k,a.attributes);for(var c=!0,d=0;c&&d<a.maxIterations;){for(var u=0;u<i.length;u++)n=i[u],s[n.id()]=Cf(n,l,a.distance,a.attributes,"kMeans");c=!1;for(var h=0;h<a.k;h++){var m=Ef(h,i,s);if(m.length!==0){for(var f=a.attributes.length,g=l[h],v=new Array(f),p=new Array(f),y=0;y<f;y++){p[y]=0;for(var b=0;b<m.length;b++)n=m[b],p[y]+=a.attributes[y](n);v[y]=p[y]/m.length,fy(v[y],g[y],a.sensitivityThreshold)||(c=!0)}l[h]=v,o[h]=r.collection(m)}}d++}return o},gy=function(e){var r=this.cy(),i=this.nodes(),n=null,a=Pc(e),o=new Array(a.k),s,l={},c,d=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Ft(a.testCentroids)==="object"?s=a.testCentroids:s=Ku(i,a.k)):s=Ku(i,a.k);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var m=0;m<i.length;m++)n=i[m],l[n.id()]=Cf(n,s,a.distance,a.attributes,"kMedoids");u=!1;for(var f=0;f<s.length;f++){var g=Ef(f,i,l);if(g.length!==0){d[f]=Zu(s[f],g,a.attributes);for(var v=0;v<g.length;v++)c=Zu(g[v],g,a.attributes),c<d[f]&&(d[f]=c,s[f]=g[v],u=!0);o[f]=r.collection(g)}}h++}return o},by=function(e,r,i,n,a){for(var o,s,l=0;l<r.length;l++)for(var c=0;c<e.length;c++)n[l][c]=Math.pow(i[l][c],a.m);for(var d=0;d<e.length;d++)for(var u=0;u<a.attributes.length;u++){o=0,s=0;for(var h=0;h<r.length;h++)o+=n[h][d]*a.attributes[u](r[h]),s+=n[h][d];e[d][u]=o/s}},yy=function(e,r,i,n,a){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,l,c,d=2/(a.m-1),u=0;u<i.length;u++)for(var h=0;h<n.length;h++){s=0;for(var m=0;m<i.length;m++)l=Is(a.distance,n[h],i[u],a.attributes,"cmeans"),c=Is(a.distance,n[h],i[m],a.attributes,"cmeans"),s+=Math.pow(l/c,d);e[h][u]=1/s}},_y=function(e,r,i,n){for(var a=new Array(i.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,c=0;c<r.length;c++){s=-1/0,l=-1;for(var d=0;d<r[0].length;d++)r[c][d]>s&&(s=r[c][d],l=d);a[l].push(e[c])}for(var u=0;u<a.length;u++)a[u]=n.collection(a[u]);return a},Xu=function(e){var r=this.cy(),i=this.nodes(),n=Pc(e),a,o,s,l,c;l=new Array(i.length);for(var d=0;d<i.length;d++)l[d]=new Array(n.k);s=new Array(i.length);for(var u=0;u<i.length;u++)s[u]=new Array(n.k);for(var h=0;h<i.length;h++){for(var m=0,f=0;f<n.k;f++)s[h][f]=Math.random(),m+=s[h][f];for(var g=0;g<n.k;g++)s[h][g]=s[h][g]/m}o=new Array(n.k);for(var v=0;v<n.k;v++)o[v]=new Array(n.attributes.length);c=new Array(i.length);for(var p=0;p<i.length;p++)c[p]=new Array(n.k);for(var y=!0,b=0;y&&b<n.maxIterations;)y=!1,by(o,i,s,c,n),yy(s,l,o,i,n),my(s,l,n.sensitivityThreshold)||(y=!0),b++;return a=_y(i,s,n,r),{clusters:a,degreeOfMembership:s}},xy={kMeans:vy,kMedoids:gy,fuzzyCMeans:Xu,fcm:Xu},wy=Ut({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Cy={single:"min",complete:"max"},Ey=function(e){var r=wy(e),i=Cy[r.linkage];return i!=null&&(r.linkage=i),r},Qu=function(e,r,i,n,a){for(var o=0,s=1/0,l,c=a.attributes,d=function(E,M){return Vs(a.distance,c.length,function(I){return c[I](E)},function(I){return c[I](M)},E,M)},u=0;u<e.length;u++){var h=e[u].key,m=i[h][n[h]];m<s&&(o=h,s=m)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var f=r[o],g=r[n[o]],v;a.mode==="dendrogram"?v={left:f,right:g,key:f.key}:v={value:f.value.concat(g.value),key:f.key},e[f.index]=v,e.splice(g.index,1),r[f.key]=v;for(var p=0;p<e.length;p++){var y=e[p];f.key===y.key?l=1/0:a.linkage==="min"?(l=i[f.key][y.key],i[f.key][y.key]>i[g.key][y.key]&&(l=i[g.key][y.key])):a.linkage==="max"?(l=i[f.key][y.key],i[f.key][y.key]<i[g.key][y.key]&&(l=i[g.key][y.key])):a.linkage==="mean"?l=(i[f.key][y.key]*f.size+i[g.key][y.key]*g.size)/(f.size+g.size):a.mode==="dendrogram"?l=d(y.value,f.value):l=d(y.value[0],f.value[0]),i[f.key][y.key]=i[y.key][f.key]=l}for(var b=0;b<e.length;b++){var _=e[b].key;if(n[_]===f.key||n[_]===g.key){for(var C=_,w=0;w<e.length;w++){var x=e[w].key;i[_][x]<i[_][C]&&(C=x)}n[_]=C}e[b].index=b}return f.key=g.key=f.index=g.index=null,!0},as=function t(e,r,i){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},ky=function t(e,r){if(!e)return"";if(e.left&&e.right){var i=t(e.left,r),n=t(e.right,r),a=r.add({group:"nodes",data:{id:i+","+n}});return r.add({group:"edges",data:{source:i,target:a.id()}}),r.add({group:"edges",data:{source:n,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},Dy=function t(e,r,i){if(!e)return[];var n=[],a=[],o=[];return r===0?(e.left&&as(e.left,n),e.right&&as(e.right,a),o=n.concat(a),[i.collection(o)]):r===1?e.value?[i.collection(e.value)]:(e.left&&as(e.left,n),e.right&&as(e.right,a),[i.collection(n),i.collection(a)]):e.value?[i.collection(e.value)]:(e.left&&(n=t(e.left,r-1,i)),e.right&&(a=t(e.right,r-1,i)),n.concat(a))},Ju=function(e){for(var r=this.cy(),i=this.nodes(),n=Ey(e),a=n.attributes,o=function(b,_){return Vs(n.distance,a.length,function(C){return a[C](b)},function(C){return a[C](_)},b,_)},s=[],l=[],c=[],d=[],u=0;u<i.length;u++){var h={value:n.mode==="dendrogram"?i[u]:[i[u]],key:u,index:u};s[u]=h,d[u]=h,l[u]=[],c[u]=0}for(var m=0;m<s.length;m++)for(var f=0;f<=m;f++){var g=void 0;n.mode==="dendrogram"?g=m===f?1/0:o(s[m].value,s[f].value):g=m===f?1/0:o(s[m].value[0],s[f].value[0]),l[m][f]=g,l[f][m]=g,g<l[m][c[m]]&&(c[m]=f)}for(var v=Qu(s,d,l,c,n);v;)v=Qu(s,d,l,c,n);var p;return n.mode==="dendrogram"?(p=Dy(s[0],n.dendrogramDepth,r),n.addDendrogram&&ky(s[0],r)):(p=new Array(s.length),s.forEach(function(y,b){y.key=y.index=null,p[b]=r.collection(y.value)})),p},Sy={hierarchicalClustering:Ju,hca:Ju},Iy=Ut({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ay=function(e){var r=e.damping,i=e.preference;.5<=r&&r<1||Et("Damping must range on [0.5, 1).  Got: ".concat(r));var n=["median","mean","min","max"];return n.some(function(a){return a===i})||le(i)||Et("Preference must be one of [".concat(n.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(i)),Iy(e)},My=function(e,r,i,n){var a=function(s,l){return n[l](s)};return-Vs(e,n.length,function(o){return a(r,o)},function(o){return a(i,o)},r,i)},Ty=function(e,r){var i=null;return r==="median"?i=Ab(e):r==="mean"?i=Ib(e):r==="min"?i=Db(e):r==="max"?i=Sb(e):i=r,i},Oy=function(e,r,i){for(var n=[],a=0;a<e;a++)r[a*e+a]+i[a*e+a]>0&&n.push(a);return n},eh=function(e,r,i){for(var n=[],a=0;a<e;a++){for(var o=-1,s=-1/0,l=0;l<i.length;l++){var c=i[l];r[a*e+c]>s&&(o=c,s=r[a*e+c])}o>0&&n.push(o)}for(var d=0;d<i.length;d++)n[i[d]]=i[d];return n},Ry=function(e,r,i){for(var n=eh(e,r,i),a=0;a<i.length;a++){for(var o=[],s=0;s<n.length;s++)n[s]===i[a]&&o.push(s);for(var l=-1,c=-1/0,d=0;d<o.length;d++){for(var u=0,h=0;h<o.length;h++)u+=r[o[h]*e+o[d]];u>c&&(l=d,c=u)}i[a]=o[l]}return n=eh(e,r,i),n},th=function(e){for(var r=this.cy(),i=this.nodes(),n=Ay(e),a={},o=0;o<i.length;o++)a[i[o].id()]=o;var s,l,c,d,u,h;s=i.length,l=s*s,c=new Array(l);for(var m=0;m<l;m++)c[m]=-1/0;for(var f=0;f<s;f++)for(var g=0;g<s;g++)f!==g&&(c[f*s+g]=My(n.distance,i[f],i[g],n.attributes));d=Ty(c,n.preference);for(var v=0;v<s;v++)c[v*s+v]=d;u=new Array(l);for(var p=0;p<l;p++)u[p]=0;h=new Array(l);for(var y=0;y<l;y++)h[y]=0;for(var b=new Array(s),_=new Array(s),C=new Array(s),w=0;w<s;w++)b[w]=0,_[w]=0,C[w]=0;for(var x=new Array(s*n.minIterations),D=0;D<x.length;D++)x[D]=0;var E;for(E=0;E<n.maxIterations;E++){for(var M=0;M<s;M++){for(var I=-1/0,A=-1/0,T=-1,S=0,F=0;F<s;F++)b[F]=u[M*s+F],S=h[M*s+F]+c[M*s+F],S>=I?(A=I,I=S,T=F):S>A&&(A=S);for(var O=0;O<s;O++)u[M*s+O]=(1-n.damping)*(c[M*s+O]-I)+n.damping*b[O];u[M*s+T]=(1-n.damping)*(c[M*s+T]-A)+n.damping*b[T]}for(var R=0;R<s;R++){for(var P=0,j=0;j<s;j++)b[j]=h[j*s+R],_[j]=Math.max(0,u[j*s+R]),P+=_[j];P-=_[R],_[R]=u[R*s+R],P+=_[R];for(var H=0;H<s;H++)h[H*s+R]=(1-n.damping)*Math.min(0,P-_[H])+n.damping*b[H];h[R*s+R]=(1-n.damping)*(P-_[R])+n.damping*b[R]}for(var V=0,N=0;N<s;N++){var $=h[N*s+N]+u[N*s+N]>0?1:0;x[E%n.minIterations*s+N]=$,V+=$}if(V>0&&(E>=n.minIterations-1||E==n.maxIterations-1)){for(var X=0,J=0;J<s;J++){C[J]=0;for(var ee=0;ee<n.minIterations;ee++)C[J]+=x[ee*s+J];(C[J]===0||C[J]===n.minIterations)&&X++}if(X===s)break}}for(var te=Oy(s,u,h),G=Ry(s,c,te),L={},Y=0;Y<te.length;Y++)L[te[Y]]=[];for(var K=0;K<i.length;K++){var de=a[i[K].id()],_e=G[de];_e!=null&&L[_e].push(i[K])}for(var se=new Array(te.length),ce=0;ce<te.length;ce++)se[ce]=r.collection(L[te[ce]]);return se},Fy={affinityPropagation:th,ap:th},Py=Ut({root:void 0,directed:!1}),Ly={hierholzer:function(e){if(!Ye(e)){var r=arguments;e={root:r[0],directed:r[1]}}var i=Py(e),n=i.root,a=i.directed,o=this,s=!1,l,c,d;n&&(d=ye(n)?this.filter(n)[0].id():n[0].id());var u={},h={};a?o.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.indegree(!0),C=y.outdegree(!0),w=_-C,x=C-_;w==1?l?s=!0:l=b:x==1?c?s=!0:c=b:(x>1||w>1)&&(s=!0),u[b]=[],y.outgoers().forEach(function(D){D.isEdge()&&u[b].push(D.id())})}else h[b]=[void 0,y.target().id()]}):o.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.degree(!0);_%2&&(l?c?s=!0:c=b:l=b),u[b]=[],y.connectedEdges().forEach(function(C){return u[b].push(C.id())})}else h[b]=[y.source().id(),y.target().id()]});var m={found:!1,trail:void 0};if(s)return m;if(c&&l)if(a){if(d&&c!=d)return m;d=c}else{if(d&&c!=d&&l!=d)return m;d||(d=c)}else d||(d=o[0].id());var f=function(b){for(var _=b,C=[b],w,x,D;u[_].length;)w=u[_].shift(),x=h[w][0],D=h[w][1],_!=D?(u[D]=u[D].filter(function(E){return E!=w}),_=D):!a&&_!=x&&(u[x]=u[x].filter(function(E){return E!=w}),_=x),C.unshift(w),C.unshift(_);return C},g=[],v=[];for(v=f(d);v.length!=1;)u[v[0]].length==0?(g.unshift(o.getElementById(v.shift())),g.unshift(o.getElementById(v.shift()))):v=f(v.shift()).concat(v);g.unshift(o.getElementById(v.shift()));for(var p in u)if(u[p].length)return m;return m.found=!0,m.trail=this.spawn(g,!0),m}},os=function(){var e=this,r={},i=0,n=0,a=[],o=[],s={},l=function(h,m){for(var f=o.length-1,g=[],v=e.spawn();o[f].x!=h||o[f].y!=m;)g.push(o.pop().edge),f--;g.push(o.pop().edge),g.forEach(function(p){var y=p.connectedNodes().intersection(e);v.merge(p),y.forEach(function(b){var _=b.id(),C=b.connectedEdges().intersection(e);v.merge(b),r[_].cutVertex?v.merge(C.filter(function(w){return w.isLoop()})):v.merge(C)})}),a.push(v)},c=function u(h,m,f){h===f&&(n+=1),r[m]={id:i,low:i++,cutVertex:!1};var g=e.getElementById(m).connectedEdges().intersection(e);if(g.size()===0)a.push(e.spawn(e.getElementById(m)));else{var v,p,y,b;g.forEach(function(_){v=_.source().id(),p=_.target().id(),y=v===m?p:v,y!==f&&(b=_.id(),s[b]||(s[b]=!0,o.push({x:m,y,edge:_})),y in r?r[m].low=Math.min(r[m].low,r[y].id):(u(h,y,m),r[m].low=Math.min(r[m].low,r[y].low),r[m].id<=r[y].low&&(r[m].cutVertex=!0,l(m,y))))})}};e.forEach(function(u){if(u.isNode()){var h=u.id();h in r||(n=0,c(h,h),r[h].cutVertex=n>1)}});var d=Object.keys(r).filter(function(u){return r[u].cutVertex}).map(function(u){return e.getElementById(u)});return{cut:e.spawn(d),components:a}},Ny={hopcroftTarjanBiconnected:os,htbc:os,htb:os,hopcroftTarjanBiconnectedComponents:os},ss=function(){var e=this,r={},i=0,n=[],a=[],o=e.spawn(e),s=function l(c){a.push(c),r[c]={index:i,low:i++,explored:!1};var d=e.getElementById(c).connectedEdges().intersection(e);if(d.forEach(function(g){var v=g.target().id();v!==c&&(v in r||l(v),r[v].explored||(r[c].low=Math.min(r[c].low,r[v].low)))}),r[c].index===r[c].low){for(var u=e.spawn();;){var h=a.pop();if(u.merge(e.getElementById(h)),r[h].low=r[c].index,r[h].explored=!0,h===c)break}var m=u.edgesWith(u),f=u.merge(m);n.push(f),o=o.difference(f)}};return e.forEach(function(l){if(l.isNode()){var c=l.id();c in r||s(c)}}),{cut:o,components:n}},By={tarjanStronglyConnected:ss,tsc:ss,tscc:ss,tarjanStronglyConnectedComponents:ss},kf={};[Xa,mb,pb,gb,yb,xb,Eb,Kb,qn,$n,uc,ly,xy,Sy,Fy,Ly,Ny,By].forEach(function(t){ke(kf,t)});var Df=0,Sf=1,If=2,hr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Df,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};hr.prototype={fulfill:function(e){return ih(this,Sf,"fulfillValue",e)},reject:function(e){return ih(this,If,"rejectReason",e)},then:function(e,r){var i=this,n=new hr;return i.onFulfilled.push(nh(e,n,"fulfill")),i.onRejected.push(nh(r,n,"reject")),Af(i),n.proxy}};var ih=function(e,r,i,n){return e.state===Df&&(e.state=r,e[i]=n,Af(e)),e},Af=function(e){e.state===Sf?rh(e,"onFulfilled",e.fulfillValue):e.state===If&&rh(e,"onRejected",e.rejectReason)},rh=function(e,r,i){if(e[r].length!==0){var n=e[r];e[r]=[];var a=function(){for(var s=0;s<n.length;s++)n[s](i)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},nh=function(e,r,i){return function(n){if(typeof e!="function")r[i].call(r,n);else{var a;try{a=e(n)}catch(o){r.reject(o);return}Vy(r,a)}}},Vy=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var i;if(Ft(r)==="object"&&r!==null||typeof r=="function")try{i=r.then}catch(a){e.reject(a);return}if(typeof i=="function"){var n=!1;try{i.call(r,function(a){n||(n=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){n||(n=!0,e.reject(a))})}catch(a){n||e.reject(a)}return}e.fulfill(r)};hr.all=function(t){return new hr(function(e,r){for(var i=new Array(t.length),n=0,a=function(l,c){i[l]=c,n++,n===t.length&&e(i)},o=0;o<t.length;o++)(function(s){var l=t[s],c=l!=null&&l.then!=null;if(c)l.then(function(u){a(s,u)},function(u){r(u)});else{var d=l;a(s,d)}})(o)})};hr.resolve=function(t){return new hr(function(e,r){e(t)})};hr.reject=function(t){return new hr(function(e,r){r(t)})};var Jn=typeof Promise<"u"?Promise:hr,hc=function(e,r,i){var n=Sc(e),a=!n,o=this._private=ke({duration:1e3},r,i);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&_t(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(n){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},fn=hc.prototype;ke(fn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,i=e.target._private.animation;e.queue?r=i.queue:r=i.current,r.push(this),fi(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,i=r.playing;return e===void 0?r.progress:(i&&this.pause(),r.progress=e,r.started=!1,i&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var i=function(c,d){var u=e[c];u!=null&&(e[c]=e[d],e[d]=u)};if(i("zoom","startZoom"),i("pan","startPan"),i("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var a=e.style[n],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[n]=s}return r&&this.play(),this},promise:function(e){var r=this._private,i;switch(e){case"frame":i=r.frames;break;default:case"complete":case"completed":i=r.completes}return new Jn(function(n,a){i.push(function(){n()})})}});fn.complete=fn.completed;fn.run=fn.play;fn.running=fn.playing;var zy={animated:function(){return function(){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=n[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<n.length;o++){var s=n[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,i){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:r,duration:r,complete:i}):this}},delayAnimation:function(){return function(r,i){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:r,duration:r,complete:i}):this}},animation:function(){return function(r,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this,l=!a,c=!l;if(!s.styleEnabled())return this;var d=s.style();r=ke({},r,i);var u=Object.keys(r).length===0;if(u)return new hc(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=d.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var h=r.renderedPosition,m=s.pan(),f=s.zoom();r.position=mf(h,f,m)}if(l&&r.panBy!=null){var g=r.panBy,v=s.pan();r.pan={x:v.x+g.x,y:v.y+g.y}}var p=r.center||r.centre;if(l&&p!=null){var y=s.getCenterPan(p.eles,r.zoom);y!=null&&(r.pan=y)}if(l&&r.fit!=null){var b=r.fit,_=s.getFitViewport(b.eles||b.boundingBox,b.padding);_!=null&&(r.pan=_.pan,r.zoom=_.zoom)}if(l&&Ye(r.zoom)){var C=s.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new hc(o[0],r)}},animate:function(){return function(r,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;i&&(r=ke({},r,i));for(var l=0;l<o.length;l++){var c=o[l],d=c.animated()&&(r.queue===void 0||r.queue),u=c.animation(r,d?{queue:!0}:void 0);u.play()}return this}},stop:function(){return function(r,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var c=o[l],d=c._private,u=d.animation.current,h=0;h<u.length;h++){var m=u[h],f=m._private;i&&(f.duration=0)}r&&(d.animation.queue=[]),i||(d.animation.current=[])}return s.notify("draw"),this}}},jy=Array.isArray,zs=jy,Hy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uy=/^\w*$/;function Wy(t,e){if(zs(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||so(t)?!0:Uy.test(t)||!Hy.test(t)||e!=null&&t in Object(e)}var qy=Wy,$y="[object AsyncFunction]",Gy="[object Function]",Yy="[object GeneratorFunction]",Ky="[object Proxy]";function Zy(t){if(!cn(t))return!1;var e=af(t);return e==Gy||e==Yy||e==$y||e==Ky}var Xy=Zy,Qy=Ps["__core-js_shared__"],tc=Qy,ah=function(){var t=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jy(t){return!!ah&&ah in t}var e0=Jy,t0=Function.prototype,i0=t0.toString;function r0(t){if(t!=null){try{return i0.call(t)}catch{}try{return t+""}catch{}}return""}var n0=r0,a0=/[\\^$.*+?()[\]{}|]/g,o0=/^\[object .+?Constructor\]$/,s0=Function.prototype,l0=Object.prototype,c0=s0.toString,d0=l0.hasOwnProperty,u0=RegExp("^"+c0.call(d0).replace(a0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h0(t){if(!cn(t)||e0(t))return!1;var e=Xy(t)?u0:o0;return e.test(n0(t))}var f0=h0;function m0(t,e){return t?.[e]}var p0=m0;function v0(t,e){var r=p0(t,e);return f0(r)?r:void 0}var Lc=v0,g0=Lc(Object,"create"),eo=g0;function b0(){this.__data__=eo?eo(null):{},this.size=0}var y0=b0;function _0(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var x0=_0,w0="__lodash_hash_undefined__",C0=Object.prototype,E0=C0.hasOwnProperty;function k0(t){var e=this.__data__;if(eo){var r=e[t];return r===w0?void 0:r}return E0.call(e,t)?e[t]:void 0}var D0=k0,S0=Object.prototype,I0=S0.hasOwnProperty;function A0(t){var e=this.__data__;return eo?e[t]!==void 0:I0.call(e,t)}var M0=A0,T0="__lodash_hash_undefined__";function O0(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=eo&&e===void 0?T0:e,this}var R0=O0;function ea(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ea.prototype.clear=y0;ea.prototype.delete=x0;ea.prototype.get=D0;ea.prototype.has=M0;ea.prototype.set=R0;var oh=ea;function F0(){this.__data__=[],this.size=0}var P0=F0;function L0(t,e){return t===e||t!==t&&e!==e}var Mf=L0;function N0(t,e){for(var r=t.length;r--;)if(Mf(t[r][0],e))return r;return-1}var js=N0,B0=Array.prototype,V0=B0.splice;function z0(t){var e=this.__data__,r=js(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():V0.call(e,r,1),--this.size,!0}var j0=z0;function H0(t){var e=this.__data__,r=js(e,t);return r<0?void 0:e[r][1]}var U0=H0;function W0(t){return js(this.__data__,t)>-1}var q0=W0;function $0(t,e){var r=this.__data__,i=js(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}var G0=$0;function ta(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ta.prototype.clear=P0;ta.prototype.delete=j0;ta.prototype.get=U0;ta.prototype.has=q0;ta.prototype.set=G0;var Y0=ta,K0=Lc(Ps,"Map"),Z0=K0;function X0(){this.size=0,this.__data__={hash:new oh,map:new(Z0||Y0),string:new oh}}var Q0=X0;function J0(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var e_=J0;function t_(t,e){var r=t.__data__;return e_(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hs=t_;function i_(t){var e=Hs(this,t).delete(t);return this.size-=e?1:0,e}var r_=i_;function n_(t){return Hs(this,t).get(t)}var a_=n_;function o_(t){return Hs(this,t).has(t)}var s_=o_;function l_(t,e){var r=Hs(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}var c_=l_;function ia(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ia.prototype.clear=Q0;ia.prototype.delete=r_;ia.prototype.get=a_;ia.prototype.has=s_;ia.prototype.set=c_;var Tf=ia,d_="Expected a function";function Nc(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(d_);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=t.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(Nc.Cache||Tf),r}Nc.Cache=Tf;var u_=Nc,h_=500;function f_(t){var e=u_(t,function(i){return r.size===h_&&r.clear(),i}),r=e.cache;return e}var m_=f_,p_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v_=/\\(\\)?/g,g_=m_(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(p_,function(r,i,n,a){e.push(n?a.replace(v_,"$1"):i||r)}),e}),Of=g_;function b_(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var Rf=b_,y_=1/0,sh=Yn?Yn.prototype:void 0,lh=sh?sh.toString:void 0;function Ff(t){if(typeof t=="string")return t;if(zs(t))return Rf(t,Ff)+"";if(so(t))return lh?lh.call(t):"";var e=t+"";return e=="0"&&1/t==-y_?"-0":e}var __=Ff;function x_(t){return t==null?"":__(t)}var Pf=x_;function w_(t,e){return zs(t)?t:qy(t,e)?[t]:Of(Pf(t))}var Lf=w_,C_=1/0;function E_(t){if(typeof t=="string"||so(t))return t;var e=t+"";return e=="0"&&1/t==-C_?"-0":e}var Bc=E_;function k_(t,e){e=Lf(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[Bc(e[r++])];return r&&r==i?t:void 0}var D_=k_;function S_(t,e,r){var i=t==null?void 0:D_(t,e);return i===void 0?r:i}var I_=S_,A_=function(){try{var t=Lc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ch=A_;function M_(t,e,r){e=="__proto__"&&ch?ch(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var T_=M_,O_=Object.prototype,R_=O_.hasOwnProperty;function F_(t,e,r){var i=t[e];(!(R_.call(t,e)&&Mf(i,r))||r===void 0&&!(e in t))&&T_(t,e,r)}var P_=F_,L_=9007199254740991,N_=/^(?:0|[1-9]\d*)$/;function B_(t,e){var r=typeof t;return e=e??L_,!!e&&(r=="number"||r!="symbol"&&N_.test(t))&&t>-1&&t%1==0&&t<e}var V_=B_;function z_(t,e,r,i){if(!cn(t))return t;e=Lf(e,t);for(var n=-1,a=e.length,o=a-1,s=t;s!=null&&++n<a;){var l=Bc(e[n]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(n!=o){var d=s[l];c=i?i(d,l,s):void 0,c===void 0&&(c=cn(d)?d:V_(e[n+1])?[]:{})}P_(s,l,c),s=s[l]}return t}var j_=z_;function H_(t,e,r){return t==null?t:j_(t,e,r)}var U_=H_;function W_(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}var q_=W_;function $_(t){return zs(t)?Rf(t,Bc):so(t)?[t]:q_(Of(Pf(t)))}var G_=$_,Y_={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(n){},beforeSet:function(n,a){},onSet:function(n){},canSet:function(n){return!0}};return e=ke({},r,e),function(n,a){var o=e,s=this,l=s.length!==void 0,c=l?s:[s],d=l?s[0]:s;if(ye(n)){var u=n.indexOf(".")!==-1,h=u&&G_(n);if(o.allowGetting&&a===void 0){var m;return d&&(o.beforeGet(d),h&&d._private[o.field][n]===void 0?m=I_(d._private[o.field],h):m=d._private[o.field][n]),m}else if(o.allowSetting&&a!==void 0){var f=!o.immutableKeys[n];if(f){var g=Gh({},n,a);o.beforeSet(s,g);for(var v=0,p=c.length;v<p;v++){var y=c[v];o.canSet(y)&&(h&&d._private[o.field][n]===void 0?U_(y._private[o.field],h,a):y._private[o.field][n]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Ye(n)){var b=n,_,C,w=Object.keys(b);o.beforeSet(s,b);for(var x=0;x<w.length;x++){_=w[x],C=b[_];var D=!o.immutableKeys[_];if(D)for(var E=0;E<c.length;E++){var M=c[E];o.canSet(M)&&(M._private[o.field][_]=C)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&_t(n)){var I=n;s.on(o.bindingEvent,I)}else if(o.allowGetting&&n===void 0){var A;return d&&(o.beforeGet(d),A=d._private[o.field]),A}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=ke({},r,e),function(n){var a=e,o=this,s=o.length!==void 0,l=s?o:[o];if(ye(n)){for(var c=n.split(/\s+/),d=c.length,u=0;u<d;u++){var h=c[u];if(!Tr(h)){var m=!a.immutableKeys[h];if(m)for(var f=0,g=l.length;f<g;f++)l[f]._private[a.field][h]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(n===void 0){for(var v=0,p=l.length;v<p;v++)for(var y=l[v]._private[a.field],b=Object.keys(y),_=0;_<b.length;_++){var C=b[_],w=!a.immutableKeys[C];w&&(y[C]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},K_={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(i,n){var a=this,o=Array.prototype.slice.call(arguments,0);return new Jn(function(s,l){var c=function(m){a.off.apply(a,u),s(m)},d=o.concat([c]),u=d.concat([]);a.on.apply(a,d)})}}},at={};[zy,Y_,K_].forEach(function(t){ke(at,t)});var Z_={animate:at.animate(),animation:at.animation(),animated:at.animated(),clearQueue:at.clearQueue(),delay:at.delay(),delayAnimation:at.delayAnimation(),stop:at.stop()},vs={classes:function(e){var r=this;if(e===void 0){var i=[];return r[0]._private.classes.forEach(function(f){return i.push(f)}),i}else ft(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],a=new Qn(e),o=0;o<r.length;o++){for(var s=r[o],l=s._private,c=l.classes,d=!1,u=0;u<e.length;u++){var h=e[u],m=c.has(h);if(!m){d=!0;break}}d||(d=c.size!==e.length),d&&(l.classes=a,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){ft(e)||(e=e.match(/\S+/g)||[]);for(var i=this,n=r===void 0,a=[],o=0,s=i.length;o<s;o++)for(var l=i[o],c=l._private.classes,d=!1,u=0;u<e.length;u++){var h=e[u],m=c.has(h),f=!1;r||n&&!m?(c.add(h),f=!0):(!r||n&&m)&&(c.delete(h),f=!0),!d&&f&&(a.push(l),d=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),i},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var i=this;if(r==null)r=250;else if(r===0)return i;return i.addClass(e),setTimeout(function(){i.removeClass(e)},r),i}};vs.className=vs.classNames=vs.classes;var Ge={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Rt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ge.variable="(?:[\\w-.]|(?:\\\\"+Ge.metaChar+"))+";Ge.className="(?:[\\w-]|(?:\\\\"+Ge.metaChar+"))+";Ge.value=Ge.string+"|"+Ge.number;Ge.id=Ge.variable;(function(){var t,e,r;for(t=Ge.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Ge.comparatorOp+="|@"+e;for(t=Ge.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Ge.comparatorOp+="|\\!"+e)})();var dt=function(){return{checks:[]}},ue={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},fc=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return lg(t.selector,e.selector)}),X_=function(){for(var t={},e,r=0;r<fc.length;r++)e=fc[r],t[e.selector]=e.matches;return t}(),Q_=function(e,r){return X_[e](r)},J_="("+fc.map(function(t){return t.selector}).join("|")+")",Ln=function(e){return e.replace(new RegExp("\\\\("+Ge.metaChar+")","g"),function(r,i){return i})},Dr=function(e,r,i){e[e.length-1]=i},mc=[{name:"group",query:!0,regex:"("+Ge.group+")",populate:function(e,r,i){var n=Pi(i,1),a=n[0];r.checks.push({type:ue.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:J_,populate:function(e,r,i){var n=Pi(i,1),a=n[0];r.checks.push({type:ue.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Ge.id+")",populate:function(e,r,i){var n=Pi(i,1),a=n[0];r.checks.push({type:ue.ID,value:Ln(a)})}},{name:"className",query:!0,regex:"\\.("+Ge.className+")",populate:function(e,r,i){var n=Pi(i,1),a=n[0];r.checks.push({type:ue.CLASS,value:Ln(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ge.variable+")\\s*\\]",populate:function(e,r,i){var n=Pi(i,1),a=n[0];r.checks.push({type:ue.DATA_EXIST,field:Ln(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ge.variable+")\\s*("+Ge.comparatorOp+")\\s*("+Ge.value+")\\s*\\]",populate:function(e,r,i){var n=Pi(i,3),a=n[0],o=n[1],s=n[2],l=new RegExp("^"+Ge.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:ue.DATA_COMPARE,field:Ln(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ge.boolOp+")\\s*("+Ge.variable+")\\s*\\]",populate:function(e,r,i){var n=Pi(i,2),a=n[0],o=n[1];r.checks.push({type:ue.DATA_BOOL,field:Ln(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ge.meta+")\\s*("+Ge.comparatorOp+")\\s*("+Ge.number+")\\s*\\]\\]",populate:function(e,r,i){var n=Pi(i,3),a=n[0],o=n[1],s=n[2];r.checks.push({type:ue.META_COMPARE,field:Ln(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Ge.separator,populate:function(e,r){var i=e.currentSubject,n=e.edgeCount,a=e.compoundCount,o=e[e.length-1];i!=null&&(o.subject=i,e.currentSubject=null),o.edgeCount=n,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=dt();return s}},{name:"directedEdge",separator:!0,regex:Ge.directedEdge,populate:function(e,r){if(e.currentSubject==null){var i=dt(),n=r,a=dt();return i.checks.push({type:ue.DIRECTED_EDGE,source:n,target:a}),Dr(e,r,i),e.edgeCount++,a}else{var o=dt(),s=r,l=dt();return o.checks.push({type:ue.NODE_SOURCE,source:s,target:l}),Dr(e,r,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Ge.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var i=dt(),n=r,a=dt();return i.checks.push({type:ue.UNDIRECTED_EDGE,nodes:[n,a]}),Dr(e,r,i),e.edgeCount++,a}else{var o=dt(),s=r,l=dt();return o.checks.push({type:ue.NODE_NEIGHBOR,node:s,neighbor:l}),Dr(e,r,o),l}}},{name:"child",separator:!0,regex:Ge.child,populate:function(e,r){if(e.currentSubject==null){var i=dt(),n=dt(),a=e[e.length-1];return i.checks.push({type:ue.CHILD,parent:a,child:n}),Dr(e,r,i),e.compoundCount++,n}else if(e.currentSubject===r){var o=dt(),s=e[e.length-1],l=dt(),c=dt(),d=dt(),u=dt();return o.checks.push({type:ue.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=r.checks,r.checks=[{type:ue.TRUE}],u.checks.push({type:ue.TRUE}),l.checks.push({type:ue.PARENT,parent:u,child:d}),Dr(e,s,o),e.currentSubject=c,e.compoundCount++,d}else{var h=dt(),m=dt(),f=[{type:ue.PARENT,parent:h,child:m}];return h.checks=r.checks,r.checks=f,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:Ge.descendant,populate:function(e,r){if(e.currentSubject==null){var i=dt(),n=dt(),a=e[e.length-1];return i.checks.push({type:ue.DESCENDANT,ancestor:a,descendant:n}),Dr(e,r,i),e.compoundCount++,n}else if(e.currentSubject===r){var o=dt(),s=e[e.length-1],l=dt(),c=dt(),d=dt(),u=dt();return o.checks.push({type:ue.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=r.checks,r.checks=[{type:ue.TRUE}],u.checks.push({type:ue.TRUE}),l.checks.push({type:ue.ANCESTOR,ancestor:u,descendant:d}),Dr(e,s,o),e.currentSubject=c,e.compoundCount++,d}else{var h=dt(),m=dt(),f=[{type:ue.ANCESTOR,ancestor:h,descendant:m}];return h.checks=r.checks,r.checks=f,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:Ge.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ot("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var i=e[e.length-1],n=i.checks[0],a=n==null?null:n.type;a===ue.DIRECTED_EDGE?n.type=ue.NODE_TARGET:a===ue.UNDIRECTED_EDGE&&(n.type=ue.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];mc.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var ex=function(e){for(var r,i,n,a=0;a<mc.length;a++){var o=mc[a],s=o.name,l=e.match(o.regexObj);if(l!=null){i=l,r=o,n=s;var c=l[0];e=e.substring(c.length);break}}return{expr:r,match:i,name:n,remaining:e}},tx=function(e){var r=e.match(/^\s+/);if(r){var i=r[0];e=e.substring(i.length)}return e},ix=function(e){var r=this,i=r.inputText=e,n=r[0]=dt();for(r.length=1,i=tx(i);;){var a=ex(i);if(a.expr==null)return ot("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,n,o);if(s===!1)return!1;if(s!=null&&(n=s),i=a.remaining,i.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var d=r[c];if(d.compoundCount>0&&d.edgeCount>0)return ot("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return ot("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&ot("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},rx=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(d){return d??""},r=function(d){return ye(d)?'"'+d+'"':e(d)},i=function(d){return" "+d+" "},n=function(d,u){var h=d.type,m=d.value;switch(h){case ue.GROUP:{var f=e(m);return f.substring(0,f.length-1)}case ue.DATA_COMPARE:{var g=d.field,v=d.operator;return"["+g+i(e(v))+r(m)+"]"}case ue.DATA_BOOL:{var p=d.operator,y=d.field;return"["+e(p)+y+"]"}case ue.DATA_EXIST:{var b=d.field;return"["+b+"]"}case ue.META_COMPARE:{var _=d.operator,C=d.field;return"[["+C+i(e(_))+r(m)+"]]"}case ue.STATE:return m;case ue.ID:return"#"+m;case ue.CLASS:return"."+m;case ue.PARENT:case ue.CHILD:return a(d.parent,u)+i(">")+a(d.child,u);case ue.ANCESTOR:case ue.DESCENDANT:return a(d.ancestor,u)+" "+a(d.descendant,u);case ue.COMPOUND_SPLIT:{var w=a(d.left,u),x=a(d.subject,u),D=a(d.right,u);return w+(w.length>0?" ":"")+x+D}case ue.TRUE:return""}},a=function(d,u){return d.checks.reduce(function(h,m,f){return h+(u===d&&f===0?"$":"")+n(m,u)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},nx={parse:ix,toString:rx},Nf=function(e,r,i){var n,a=ye(e),o=le(e),s=ye(i),l,c,d=!1,u=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),u=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),d=!0),(a||s||d)&&(l=!a&&!o?"":""+e,c=""+i),d&&(e=l=l.toLowerCase(),i=c=c.toLowerCase()),r){case"*=":n=l.indexOf(c)>=0;break;case"$=":n=l.indexOf(c,l.length-c.length)>=0;break;case"^=":n=l.indexOf(c)===0;break;case"=":n=e===i;break;case">":h=!0,n=e>i;break;case">=":h=!0,n=e>=i;break;case"<":h=!0,n=e<i;break;case"<=":h=!0,n=e<=i;break;default:n=!1;break}return u&&(e!=null||!h)&&(n=!n),n},ax=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},ox=function(e){return e!==void 0},Vc=function(e,r){return e.data(r)},sx=function(e,r){return e[r]()},kt=[],gt=function(e,r){return e.checks.every(function(i){return kt[i.type](i,r)})};kt[ue.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};kt[ue.STATE]=function(t,e){var r=t.value;return Q_(r,e)};kt[ue.ID]=function(t,e){var r=t.value;return e.id()===r};kt[ue.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};kt[ue.META_COMPARE]=function(t,e){var r=t.field,i=t.operator,n=t.value;return Nf(sx(e,r),i,n)};kt[ue.DATA_COMPARE]=function(t,e){var r=t.field,i=t.operator,n=t.value;return Nf(Vc(e,r),i,n)};kt[ue.DATA_BOOL]=function(t,e){var r=t.field,i=t.operator;return ax(Vc(e,r),i)};kt[ue.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,ox(Vc(e,r))};kt[ue.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],i=t.nodes[1],n=e.source(),a=e.target();return gt(r,n)&&gt(i,a)||gt(i,n)&&gt(r,a)};kt[ue.NODE_NEIGHBOR]=function(t,e){return gt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&gt(t.neighbor,r)})};kt[ue.DIRECTED_EDGE]=function(t,e){return gt(t.source,e.source())&&gt(t.target,e.target())};kt[ue.NODE_SOURCE]=function(t,e){return gt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&gt(t.target,r)})};kt[ue.NODE_TARGET]=function(t,e){return gt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&gt(t.source,r)})};kt[ue.CHILD]=function(t,e){return gt(t.child,e)&&gt(t.parent,e.parent())};kt[ue.PARENT]=function(t,e){return gt(t.parent,e)&&e.children().some(function(r){return gt(t.child,r)})};kt[ue.DESCENDANT]=function(t,e){return gt(t.descendant,e)&&e.ancestors().some(function(r){return gt(t.ancestor,r)})};kt[ue.ANCESTOR]=function(t,e){return gt(t.ancestor,e)&&e.descendants().some(function(r){return gt(t.descendant,r)})};kt[ue.COMPOUND_SPLIT]=function(t,e){return gt(t.subject,e)&&gt(t.left,e)&&gt(t.right,e)};kt[ue.TRUE]=function(){return!0};kt[ue.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};kt[ue.FILTER]=function(t,e){var r=t.value;return r(e)};var lx=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ue.ID)return e.getElementById(r[0].checks[0].value).collection();var i=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(gt(s,a))return!0}return!1};return r.text()==null&&(i=function(){return!0}),e.filter(i)},cx=function(e){for(var r=this,i=0;i<r.length;i++){var n=r[i];if(gt(n,e))return!0}return!1},dx={matches:cx,filter:lx},Rr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ye(e)&&e.match(/^\s*$/)||(fi(e)?this.addQuery({checks:[{type:ue.COLLECTION,value:e.collection()}]}):_t(e)?this.addQuery({checks:[{type:ue.FILTER,value:e}]}):ye(e)?this.parse(e)||(this.invalid=!0):Et("A selector must be created from a string; found "))},Fr=Rr.prototype;[nx,dx].forEach(function(t){return ke(Fr,t)});Fr.text=function(){return this.inputText};Fr.size=function(){return this.length};Fr.eq=function(t){return this[t]};Fr.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Fr.addQuery=function(t){this[this.length++]=t};Fr.selector=Fr.toString;var Ar={allAre:function(e){var r=new Rr(e);return this.every(function(i){return r.matches(i)})},is:function(e){var r=new Rr(e);return this.some(function(i){return r.matches(i)})},some:function(e,r){for(var i=0;i<this.length;i++){var n=r?e.apply(r,[this[i],i,this]):e(this[i],i,this);if(n)return!0}return!1},every:function(e,r){for(var i=0;i<this.length;i++){var n=r?e.apply(r,[this[i],i,this]):e(this[i],i,this);if(!n)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,i=e.length;return r!==i?!1:r===1?this[0]===e[0]:this.every(function(n){return e.hasElementWithId(n.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(i){return r.hasElementWithId(i.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(i){return r.hasElementWithId(i.id())})}};Ar.allAreNeighbours=Ar.allAreNeighbors;Ar.has=Ar.contains;Ar.equal=Ar.equals=Ar.same;var Ei=function(e,r){return function(n,a,o,s){var l=n,c=this,d;if(l==null?d="":fi(l)&&l.length===1&&(d=l.id()),c.length===1&&d){var u=c[0]._private,h=u.traversalCache=u.traversalCache||{},m=h[r]=h[r]||[],f=dn(d),g=m[f];return g||(m[f]=e.call(c,n,a,o,s))}else return e.call(c,n,a,o,s)}},Xn={parent:function(e){var r=[];if(this.length===1){var i=this[0]._private.parent;if(i)return i}for(var n=0;n<this.length;n++){var a=this[n],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],i=this.parent();i.nonempty();){for(var n=0;n<i.length;n++){var a=i[n];r.push(a)}i=i.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,i=0;i<this.length;i++){var n=this[i],a=n.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Ei(function(t){for(var e=[],r=0;r<this.length;r++)for(var i=this[r],n=i._private.children,a=0;a<n.length;a++)e.push(n[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function i(n){for(var a=0;a<n.length;a++){var o=n[a];r.push(o),o.children().nonempty()&&i(o.children())}}return i(this.children()),this.spawn(r,!0).filter(e)}};function zc(t,e,r,i){for(var n=[],a=new Qn,o=t.cy(),s=o.hasCompoundNodes(),l=0;l<t.length;l++){var c=t[l];r?n.push(c):s&&i(n,a,c)}for(;n.length>0;){var d=n.shift();e(d),a.add(d.id()),s&&i(n,a,d)}return t}function Bf(t,e,r){if(r.isParent())for(var i=r._private.children,n=0;n<i.length;n++){var a=i[n];e.has(a.id())||t.push(a)}}Xn.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zc(this,t,e,Bf)};function Vf(t,e,r){if(r.isChild()){var i=r._private.parent;e.has(i.id())||t.push(i)}}Xn.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zc(this,t,e,Vf)};function ux(t,e,r){Vf(t,e,r),Bf(t,e,r)}Xn.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zc(this,t,e,ux)};Xn.ancestors=Xn.parents;var to,zf;to=zf={data:at.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:at.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:at.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:at.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:at.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:at.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};to.attr=to.data;to.removeAttr=to.removeData;var hx=zf,Us={};function ic(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var i=0,n=r[0],a=n._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(i+=t(n,s))}return i}else return}}ke(Us,{degree:ic(function(t,e){return e.source().same(e.target())?2:1}),indegree:ic(function(t,e){return e.target().same(t)?1:0}),outdegree:ic(function(t,e){return e.source().same(t)?1:0})});function Nn(t,e){return function(r){for(var i,n=this.nodes(),a=0;a<n.length;a++){var o=n[a],s=o[t](r);s!==void 0&&(i===void 0||e(s,i))&&(i=s)}return i}}ke(Us,{minDegree:Nn("degree",function(t,e){return t<e}),maxDegree:Nn("degree",function(t,e){return t>e}),minIndegree:Nn("indegree",function(t,e){return t<e}),maxIndegree:Nn("indegree",function(t,e){return t>e}),minOutdegree:Nn("outdegree",function(t,e){return t<e}),maxOutdegree:Nn("outdegree",function(t,e){return t>e})});ke(Us,{totalDegree:function(e){for(var r=0,i=this.nodes(),n=0;n<i.length;n++)r+=i[n].degree(e);return r}});var Bi,jf,Hf=function(e,r,i){for(var n=0;n<e.length;n++){var a=e[n];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,i),a.dirtyBoundingBoxCache()}}},dh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Hf(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Bi=jf={position:at.data(dh),silentPosition:at.data(ke({},dh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Hf(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Ye(e))r?this.silentPosition(e):this.position(e);else if(_t(e)){var i=e,n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=i(o,a))&&(r?o.silentPosition(s):o.position(s))}n.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,i){var n;if(Ye(e)?(n={x:le(e.x)?e.x:0,y:le(e.y)?e.y:0},i=r):ye(e)&&le(r)&&(n={x:0,y:0},n[e]=r),n!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),c={x:l.x+n.x,y:l.y+n.y};i?s.silentPosition(c):s.position(c)}}a.endBatch()}return this},silentShift:function(e,r){return Ye(e)?this.shift(e,!0):ye(e)&&le(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var i=this[0],n=this.cy(),a=n.zoom(),o=n.pan(),s=Ye(e)?e:void 0,l=s!==void 0||r!==void 0&&ye(e);if(i&&i.isNode())if(l)for(var c=0;c<this.length;c++){var d=this[c];r!==void 0?d.position(e,(r-o[e])/a):s!==void 0&&d.position(mf(s,a,o))}else{var u=i.position();return s=Bs(u,a,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,r){var i=this[0],n=this.cy(),a=Ye(e)?e:void 0,o=a!==void 0||r!==void 0&&ye(e),s=n.hasCompoundNodes();if(i&&i.isNode())if(o)for(var l=0;l<this.length;l++){var c=this[l],d=s?c.parent():null,u=d&&d.length>0,h=u;u&&(d=d[0]);var m=h?d.position():{x:0,y:0};r!==void 0?c.position(e,r+m[e]):a!==void 0&&c.position({x:a.x+m.x,y:a.y+m.y})}else{var f=i.position(),g=s?i.parent():null,v=g&&g.length>0,p=v;v&&(g=g[0]);var y=p?g.position():{x:0,y:0};return a={x:f.x-y.x,y:f.y-y.y},e===void 0?a:a[e]}else if(!o)return;return this}};Bi.modelPosition=Bi.point=Bi.position;Bi.modelPositions=Bi.points=Bi.positions;Bi.renderedPoint=Bi.renderedPosition;Bi.relativePoint=Bi.relativePosition;var fx=jf,Gn,Lr;Gn=Lr={};Lr.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),i=r.zoom(),n=r.pan(),a=e.x1*i+n.x,o=e.x2*i+n.x,s=e.y1*i+n.y,l=e.y2*i+n.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Lr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var i=r._private;i.compoundBoundsClean=!1,i.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Lr.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},u=l.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),h=s.position;(u.w===0||u.h===0)&&(u={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},u.x1=h.x-u.w/2,u.x2=h.x+u.w/2,u.y1=h.y-u.h/2,u.y2=h.y+u.h/2);function m(E,M,I){var A=0,T=0,S=M+I;return E>0&&S>0&&(A=M/S*E,T=I/S*E),{biasDiff:A,biasComplementDiff:T}}function f(E,M,I,A){if(I.units==="%")switch(A){case"width":return E>0?I.pfValue*E:0;case"height":return M>0?I.pfValue*M:0;case"average":return E>0&&M>0?I.pfValue*(E+M)/2:0;case"min":return E>0&&M>0?E>M?I.pfValue*M:I.pfValue*E:0;case"max":return E>0&&M>0?E>M?I.pfValue*E:I.pfValue*M:0;default:return 0}else return I.units==="px"?I.pfValue:0}var g=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(g=g*100/d.width.val);var v=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(v=v*100/d.width.val);var p=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(p=p*100/d.height.val);var y=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(y=y*100/d.height.val);var b=m(d.width.val-u.w,g,v),_=b.biasDiff,C=b.biasComplementDiff,w=m(d.height.val-u.h,p,y),x=w.biasDiff,D=w.biasComplementDiff;s.autoPadding=f(u.w,u.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(u.w,d.width.val),h.x=(-_+u.x1+u.x2+C)/2,s.autoHeight=Math.max(u.h,d.height.val),h.y=(-x+u.y1+u.y2+D)/2}for(var i=0;i<this.length;i++){var n=this[i],a=n._private;(!a.compoundBoundsClean||t)&&(r(n),e.batching()||(a.compoundBoundsClean=!0))}return this};var Ci=function(e){return e===1/0||e===-1/0?0:e},Li=function(e,r,i,n,a){n-r===0||a-i===0||r==null||i==null||n==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=i<e.y1?i:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},an=function(e,r){return r==null?e:Li(e,r.x1,r.y1,r.x2,r.y2)},Ba=function(e,r,i){return Ni(e,r,i)},ls=function(e,r,i){if(!r.cy().headless()){var n=r._private,a=n.rstyle,o=a.arrowWidth/2,s=r.pstyle(i+"-arrow-shape").value,l,c;if(s!=="none"){i==="source"?(l=a.srcX,c=a.srcY):i==="target"?(l=a.tgtX,c=a.tgtY):(l=a.midX,c=a.midY);var d=n.arrowBounds=n.arrowBounds||{},u=d[i]=d[i]||{};u.x1=l-o,u.y1=c-o,u.x2=l+o,u.y2=c+o,u.w=u.x2-u.x1,u.h=u.y2-u.y1,ms(u,1),Li(e,u.x1,u.y1,u.x2,u.y2)}}},rc=function(e,r,i){if(!r.cy().headless()){var n;i?n=i+"-":n="";var a=r._private,o=a.rstyle,s=r.pstyle(n+"label").strValue;if(s){var l=r.pstyle("text-halign"),c=r.pstyle("text-valign"),d=Ba(o,"labelWidth",i),u=Ba(o,"labelHeight",i),h=Ba(o,"labelX",i),m=Ba(o,"labelY",i),f=r.pstyle(n+"text-margin-x").pfValue,g=r.pstyle(n+"text-margin-y").pfValue,v=r.isEdge(),p=r.pstyle(n+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,_=b/2,C=r.pstyle("text-background-padding").pfValue,w=2,x=u,D=d,E=D/2,M=x/2,I,A,T,S;if(v)I=h-E,A=h+E,T=m-M,S=m+M;else{switch(l.value){case"left":I=h-D,A=h;break;case"center":I=h-E,A=h+E;break;case"right":I=h,A=h+D;break}switch(c.value){case"top":T=m-x,S=m;break;case"center":T=m-M,S=m+M;break;case"bottom":T=m,S=m+x;break}}I+=f-Math.max(y,_)-C-w,A+=f+Math.max(y,_)+C+w,T+=g-Math.max(y,_)-C-w,S+=g+Math.max(y,_)+C+w;var F=i||"main",O=a.labelBounds,R=O[F]=O[F]||{};R.x1=I,R.y1=T,R.x2=A,R.y2=S,R.w=A-I,R.h=S-T;var P=v&&p.strValue==="autorotate",j=p.pfValue!=null&&p.pfValue!==0;if(P||j){var H=P?Ba(a.rstyle,"labelAngle",i):p.pfValue,V=Math.cos(H),N=Math.sin(H),$=(I+A)/2,X=(T+S)/2;if(!v){switch(l.value){case"left":$=A;break;case"right":$=I;break}switch(c.value){case"top":X=S;break;case"bottom":X=T;break}}var J=function(_e,se){return _e=_e-$,se=se-X,{x:_e*V-se*N+$,y:_e*N+se*V+X}},ee=J(I,T),te=J(I,S),G=J(A,T),L=J(A,S);I=Math.min(ee.x,te.x,G.x,L.x),A=Math.max(ee.x,te.x,G.x,L.x),T=Math.min(ee.y,te.y,G.y,L.y),S=Math.max(ee.y,te.y,G.y,L.y)}var Y=F+"Rot",K=O[Y]=O[Y]||{};K.x1=I,K.y1=T,K.x2=A,K.y2=S,K.w=A-I,K.h=S-T,Li(e,I,T,A,S),Li(a.labelBounds.all,I,T,A,S)}return e}},mx=function(e,r){if(!r.cy().headless()){var i=r.pstyle("outline-opacity").value,n=r.pstyle("outline-width").value;if(i>0&&n>0){var a=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,s=n+a,l=(e.w+s*2)/e.w,c=(e.h+s*2)/e.h,d=0,u=0;["diamond","pentagon","round-triangle"].includes(o)?(l=(e.w+s*2.4)/e.w,u=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?l=(e.w+s*2.4)/e.w:o==="star"?(l=(e.w+s*2.8)/e.w,c=(e.h+s*2.6)/e.h,u=-s/3.8):o==="triangle"?(l=(e.w+s*2.8)/e.w,c=(e.h+s*2.4)/e.h,u=-s/1.4):o==="vee"&&(l=(e.w+s*4.4)/e.w,c=(e.h+s*3.8)/e.h,u=-s*.5);var h=e.h*c-e.h,m=e.w*l-e.w;if(ps(e,[Math.ceil(h/2),Math.ceil(m/2)]),d!=0||u!==0){var f=Pb(e,d,u);vf(e,f)}}}},px=function(e,r){var i=e._private.cy,n=i.styleEnabled(),a=i.headless(),o=hi(),s=e._private,l=e.isNode(),c=e.isEdge(),d,u,h,m,f,g,v=s.rstyle,p=l&&n?e.pstyle("bounds-expansion").pfValue:[0],y=function(he){return he.pstyle("display").value!=="none"},b=!n||y(e)&&(!c||y(e.source())&&y(e.target()));if(b){var _=0,C=0;n&&r.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(C=e.pstyle("overlay-padding").value));var w=0,x=0;n&&r.includeUnderlays&&(w=e.pstyle("underlay-opacity").value,w!==0&&(x=e.pstyle("underlay-padding").value));var D=Math.max(C,x),E=0,M=0;if(n&&(E=e.pstyle("width").pfValue,M=E/2),l&&r.includeNodes){var I=e.position();f=I.x,g=I.y;var A=e.outerWidth(),T=A/2,S=e.outerHeight(),F=S/2;d=f-T,u=f+T,h=g-F,m=g+F,Li(o,d,h,u,m),n&&r.includeOutlines&&mx(o,e)}else if(c&&r.includeEdges)if(n&&!a){var O=e.pstyle("curve-style").strValue;if(d=Math.min(v.srcX,v.midX,v.tgtX),u=Math.max(v.srcX,v.midX,v.tgtX),h=Math.min(v.srcY,v.midY,v.tgtY),m=Math.max(v.srcY,v.midY,v.tgtY),d-=M,u+=M,h-=M,m+=M,Li(o,d,h,u,m),O==="haystack"){var R=v.haystackPts;if(R&&R.length===2){if(d=R[0].x,h=R[0].y,u=R[1].x,m=R[1].y,d>u){var P=d;d=u,u=P}if(h>m){var j=h;h=m,m=j}Li(o,d-M,h-M,u+M,m+M)}}else if(O==="bezier"||O==="unbundled-bezier"||O.endsWith("segments")||O.endsWith("taxi")){var H;switch(O){case"bezier":case"unbundled-bezier":H=v.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":H=v.linePts;break}if(H!=null)for(var V=0;V<H.length;V++){var N=H[V];d=N.x-M,u=N.x+M,h=N.y-M,m=N.y+M,Li(o,d,h,u,m)}}}else{var $=e.source(),X=$.position(),J=e.target(),ee=J.position();if(d=X.x,u=ee.x,h=X.y,m=ee.y,d>u){var te=d;d=u,u=te}if(h>m){var G=h;h=m,m=G}d-=M,u+=M,h-=M,m+=M,Li(o,d,h,u,m)}if(n&&r.includeEdges&&c&&(ls(o,e,"mid-source"),ls(o,e,"mid-target"),ls(o,e,"source"),ls(o,e,"target")),n){var L=e.pstyle("ghost").value==="yes";if(L){var Y=e.pstyle("ghost-offset-x").pfValue,K=e.pstyle("ghost-offset-y").pfValue;Li(o,o.x1+Y,o.y1+K,o.x2+Y,o.y2+K)}}var de=s.bodyBounds=s.bodyBounds||{};Uu(de,o),ps(de,p),ms(de,1),n&&(d=o.x1,u=o.x2,h=o.y1,m=o.y2,Li(o,d-D,h-D,u+D,m+D));var _e=s.overlayBounds=s.overlayBounds||{};Uu(_e,o),ps(_e,p),ms(_e,1);var se=s.labelBounds=s.labelBounds||{};se.all!=null?Fb(se.all):se.all=hi(),n&&r.includeLabels&&(r.includeMainLabels&&rc(o,e,null),c&&(r.includeSourceLabels&&rc(o,e,"source"),r.includeTargetLabels&&rc(o,e,"target")))}return o.x1=Ci(o.x1),o.y1=Ci(o.y1),o.x2=Ci(o.x2),o.y2=Ci(o.y2),o.w=Ci(o.x2-o.x1),o.h=Ci(o.y2-o.y1),o.w>0&&o.h>0&&b&&(ps(o,p),ms(o,1)),o},Uf=function(e){var r=0,i=function(o){return(o?1:0)<<r++},n=0;return n+=i(e.incudeNodes),n+=i(e.includeEdges),n+=i(e.includeLabels),n+=i(e.includeMainLabels),n+=i(e.includeSourceLabels),n+=i(e.includeTargetLabels),n+=i(e.includeOverlays),n+=i(e.includeOutlines),n},Wf=function(e){if(e.isEdge()){var r=e.source().position(),i=e.target().position(),n=function(o){return Math.round(o)};return tb([n(r.x),n(r.y),n(i.x),n(i.y)])}else return 0},uh=function(e,r){var i=e._private,n,a=e.isEdge(),o=r==null?hh:Uf(r),s=o===hh,l=Wf(e),c=i.bbCachePosKey===l,d=r.useCache&&c,u=function(g){return g._private.bbCache==null||g._private.styleDirty},h=!d||u(e)||a&&u(e.source())||u(e.target());if(h?(c||e.recalculateRenderedStyle(d),n=px(e,io),i.bbCache=n,i.bbCachePosKey=l):n=i.bbCache,!s){var m=e.isNode();n=hi(),(r.includeNodes&&m||r.includeEdges&&!m)&&(r.includeOverlays?an(n,i.overlayBounds):an(n,i.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?an(n,i.labelBounds.all):(r.includeMainLabels&&an(n,i.labelBounds.mainRot),r.includeSourceLabels&&an(n,i.labelBounds.sourceRot),r.includeTargetLabels&&an(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},io={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},hh=Uf(io),fh=Ut(io);Lr.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=io:t=fh(t),e=uh(this[0],t);else{e=hi(),t=t||io;var r=fh(t),i=this,n=i.cy(),a=n.styleEnabled();if(a)for(var o=0;o<i.length;o++){var s=i[o],l=s._private,c=Wf(s),d=l.bbCachePosKey===c,u=r.useCache&&d&&!l.styleDirty;s.recalculateRenderedStyle(u)}this.updateCompoundBounds(!t.useCache);for(var h=0;h<i.length;h++){var m=i[h];an(e,uh(m,r))}}return e.x1=Ci(e.x1),e.y1=Ci(e.y1),e.x2=Ci(e.x2),e.y2=Ci(e.y2),e.w=Ci(e.x2-e.x1),e.h=Ci(e.y2-e.y1),e};Lr.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Lr.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),i=r.hasCompoundNodes(),n=r.collection();if(i&&(n=e.filter(function(c){return c.isParent()}),e=e.not(n)),Ye(t)){var a=t;t=function(){return a}}var o=function(d,u){return d._private.bbAtOldPos=t(d,u)},s=function(d){return d._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var l=Rb(this.boundingBox({useCache:!1}));return e.silentPositions(s),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),r.endBatch(),l};Gn.boundingbox=Gn.bb=Gn.boundingBox;Gn.renderedBoundingbox=Gn.renderedBoundingBox;var vx=Lr,Wa,co;Wa=co={};var qf=function(e){e.uppercaseName=Lu(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Lu(e.outerName),Wa[e.name]=function(){var i=this[0],n=i._private,a=n.cy,o=a._private.styleEnabled;if(i)if(o){if(i.isParent())return i.updateCompoundBounds(),n[e.autoName]||0;var s=i.pstyle(e.name);switch(s.strValue){case"label":return i.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Wa["outer"+e.uppercaseName]=function(){var i=this[0],n=i._private,a=n.cy,o=a._private.styleEnabled;if(i)if(o){var s=i[e.name](),l=i.pstyle("border-width").pfValue,c=2*i.padding();return s+l+c}else return 1},Wa["rendered"+e.uppercaseName]=function(){var i=this[0];if(i){var n=i[e.name]();return n*this.cy().zoom()}},Wa["rendered"+e.uppercaseOuterName]=function(){var i=this[0];if(i){var n=i[e.outerName]();return n*this.cy().zoom()}}};qf({name:"width"});qf({name:"height"});co.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};co.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};co.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var gx=co,bx=function(e,r){if(e.isEdge())return r(e)},yx=function(e,r){if(e.isEdge()){var i=e.cy();return Bs(r(e),i.zoom(),i.pan())}},_x=function(e,r){if(e.isEdge()){var i=e.cy(),n=i.pan(),a=i.zoom();return r(e).map(function(o){return Bs(o,a,n)})}},xx=function(e){return e.renderer().getControlPoints(e)},wx=function(e){return e.renderer().getSegmentPoints(e)},Cx=function(e){return e.renderer().getSourceEndpoint(e)},Ex=function(e){return e.renderer().getTargetEndpoint(e)},kx=function(e){return e.renderer().getEdgeMidpoint(e)},mh={controlPoints:{get:xx,mult:!0},segmentPoints:{get:wx,mult:!0},sourceEndpoint:{get:Cx},targetEndpoint:{get:Ex},midpoint:{get:kx}},Dx=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Sx=Object.keys(mh).reduce(function(t,e){var r=mh[e],i=Dx(e);return t[e]=function(){return bx(this,r.get)},r.mult?t[i]=function(){return _x(this,r.get)}:t[i]=function(){return yx(this,r.get)},t},{}),Ix=ke({},fx,vx,gx,Sx);var $f=function(e,r){this.recycle(e,r)};function Va(){return!1}function cs(){return!0}$f.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Va,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?cs:Va):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var i=this.position,n=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:i.x*n+a.x,y:i.y*n+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=cs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=cs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=cs,this.stopPropagation()},isDefaultPrevented:Va,isPropagationStopped:Va,isImmediatePropagationStopped:Va};var Gf=/^([^.]+)(\.(?:[^.]+))?$/,Ax=".*",Yf={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},ph=Object.keys(Yf),Mx={};function Ws(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mx,e=arguments.length>1?arguments[1]:void 0,r=0;r<ph.length;r++){var i=ph[r];this[i]=t[i]||Yf[i]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Pr=Ws.prototype,Kf=function(e,r,i,n,a,o,s){_t(n)&&(a=n,n=null),s&&(o==null?o=s:o=ke({},o,s));for(var l=ft(i)?i:i.split(/\s+/),c=0;c<l.length;c++){var d=l[c];if(!Tr(d)){var u=d.match(Gf);if(u){var h=u[1],m=u[2]?u[2]:null,f=r(e,d,h,m,n,a,o);if(f===!1)break}}}},vh=function(e,r){return e.addEventFields(e.context,r),new $f(r.type,r)},Tx=function(e,r,i){if(Xv(i)){r(e,i);return}else if(Ye(i)){r(e,vh(e,i));return}for(var n=ft(i)?i:i.split(/\s+/),a=0;a<n.length;a++){var o=n[a];if(!Tr(o)){var s=o.match(Gf);if(s){var l=s[1],c=s[2]?s[2]:null,d=vh(e,{type:l,namespace:c,target:e.context});r(e,d)}}}};Pr.on=Pr.addListener=function(t,e,r,i,n){return Kf(this,function(a,o,s,l,c,d,u){_t(d)&&a.listeners.push({event:o,callback:d,type:s,namespace:l,qualifier:c,conf:u})},t,e,r,i,n),this};Pr.one=function(t,e,r,i){return this.on(t,e,r,i,{one:!0})};Pr.removeListener=Pr.off=function(t,e,r,i){var n=this;this.emitting!==0&&(this.listeners=ob(this.listeners));for(var a=this.listeners,o=function(c){var d=a[c];Kf(n,function(u,h,m,f,g,v){if((d.type===m||t==="*")&&(!f&&d.namespace!==".*"||d.namespace===f)&&(!g||u.qualifierCompare(d.qualifier,g))&&(!v||d.callback===v))return a.splice(c,1),!1},t,e,r,i)},s=a.length-1;s>=0;s--)o(s);return this};Pr.removeAllListeners=function(){return this.removeListener("*")};Pr.emit=Pr.trigger=function(t,e,r){var i=this.listeners,n=i.length;return this.emitting++,ft(e)||(e=[e]),Tx(this,function(a,o){r!=null&&(i=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],n=i.length);for(var s=function(d){var u=i[d];if(u.type===o.type&&(!u.namespace||u.namespace===o.namespace||u.namespace===Ax)&&a.eventMatches(a.context,u,o)){var h=[o];e!=null&&lb(h,e),a.beforeEmit(a.context,u,o),u.conf&&u.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==u}));var m=a.callbackContext(a.context,u,o),f=u.callback.apply(m,h);a.afterEmit(a.context,u,o),f===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<n;l++)s(l);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},t),this.emitting--,this};var Ox={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,i){var n=r.qualifier;return n!=null?e!==i.target&&oo(i.target)&&n.matches(i.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,i){return r.qualifier!=null?i.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ds=function(e){return ye(e)?new Rr(e):e},Zf={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],i=r._private;i.emitter||(i.emitter=new Ws(Ox,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,i){for(var n=ds(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,n,i)}return this},removeListener:function(e,r,i){for(var n=ds(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,n,i)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,i){for(var n=ds(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,n,i)}return this},once:function(e,r,i){for(var n=ds(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,n,i,{once:!0,onceCollection:this})}},emit:function(e,r){for(var i=0;i<this.length;i++){var n=this[i];n.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};at.eventAliasesOn(Zf);var Xf={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),i=0;i<this.length;i++){var n=this[i];n.isNode()?e.push(n):r.push(n)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(ye(e)||fi(e))return new Rr(e).filter(this);if(_t(e)){for(var i=this.spawn(),n=this,a=0;a<n.length;a++){var o=n[a],s=r?e.apply(r,[o,a,n]):e(o,a,n);s&&i.push(o)}return i}return this.spawn()},not:function(e){if(e){ye(e)&&(e=this.filter(e));for(var r=this.spawn(),i=0;i<this.length;i++){var n=this[i],a=e.has(n);a||r.push(n)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ye(e)){var r=e;return this.filter(r)}for(var i=this.spawn(),n=this,a=e,o=this.length<e.length,s=o?n:a,l=o?a:n,c=0;c<s.length;c++){var d=s[c];l.has(d)&&i.push(d)}return i},xor:function(e){var r=this._private.cy;ye(e)&&(e=r.$(e));var i=this.spawn(),n=this,a=e,o=function(l,c){for(var d=0;d<l.length;d++){var u=l[d],h=u._private.data.id,m=c.hasElementWithId(h);m||i.push(u)}};return o(n,a),o(a,n),i},diff:function(e){var r=this._private.cy;ye(e)&&(e=r.$(e));var i=this.spawn(),n=this.spawn(),a=this.spawn(),o=this,s=e,l=function(d,u,h){for(var m=0;m<d.length;m++){var f=d[m],g=f._private.data.id,v=u.hasElementWithId(g);v?a.merge(f):h.push(f)}};return l(o,s,i),l(s,o,n),{left:i,right:n,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(ye(e)){var i=e;e=r.mutableElements().filter(i)}for(var n=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&n.push(o)}return n},merge:function(e){var r=this._private,i=r.cy;if(!e)return this;if(e&&ye(e)){var n=e;e=i.mutableElements().filter(n)}for(var a=r.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,c=!a.has(l);if(c){var d=this.length++;this[d]=s,a.set(l,{ele:s,index:d})}}return this},unmergeAt:function(e){var r=this[e],i=r.id(),n=this._private,a=n.map;this[e]=void 0,a.delete(i);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],c=l._private.data.id;this[s]=void 0,this[e]=l,a.set(c,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,i=e._private.data.id,n=r.map,a=n.get(i);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&ye(e)){var i=e;e=r.mutableElements().filter(i)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var i=this[r];e(i)&&this.unmergeAt(r)}return this},map:function(e,r){for(var i=[],n=this,a=0;a<n.length;a++){var o=n[a],s=r?e.apply(r,[o,a,n]):e(o,a,n);i.push(s)}return i},reduce:function(e,r){for(var i=r,n=this,a=0;a<n.length;a++)i=e(i,n[a],a,n);return i},max:function(e,r){for(var i=-1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l>i&&(i=l,n=s)}return{value:i,ele:n}},min:function(e,r){for(var i=1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l<i&&(i=l,n=s)}return{value:i,ele:n}}},tt=Xf;tt.u=tt["|"]=tt["+"]=tt.union=tt.or=tt.add;tt["\\"]=tt["!"]=tt["-"]=tt.difference=tt.relativeComplement=tt.subtract=tt.not;tt.n=tt["&"]=tt["."]=tt.and=tt.intersection=tt.intersect;tt["^"]=tt["(+)"]=tt["(-)"]=tt.symmetricDifference=tt.symdiff=tt.xor;tt.fnFilter=tt.filterFn=tt.stdFilter=tt.filter;tt.complement=tt.abscomp=tt.absoluteComplement;var Rx={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Qf=function(e,r){var i=e.cy(),n=i.hasCompoundNodes();function a(d){var u=d.pstyle("z-compound-depth");return u.value==="auto"?n?d.zDepth():0:u.value==="bottom"?-1:u.value==="top"?Ac:0}var o=a(e)-a(r);if(o!==0)return o;function s(d){var u=d.pstyle("z-index-compare");return u.value==="auto"&&d.isNode()?1:0}var l=s(e)-s(r);if(l!==0)return l;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},As={forEach:function(e,r){if(_t(e))for(var i=this.length,n=0;n<i;n++){var a=this[n],o=r?e.apply(r,[a,n,this]):e(a,n,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var i=[],n=this.length;r==null&&(r=n),e==null&&(e=0),e<0&&(e=n+e),r<0&&(r=n+r);for(var a=e;a>=0&&a<r&&a<n;a++)i.push(this[a]);return this.spawn(i)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!_t(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Qf)},zDepth:function(){var e=this[0];if(e){var r=e._private,i=r.group;if(i==="nodes"){var n=r.data.parent?e.parents().size():0;return e.isParent()?n:Ac-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};As.each=As.forEach;var Fx=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ft(Symbol))!=e&&Ft(Symbol.iterator)!=e;r&&(As[Symbol.iterator]=function(){var i=this,n={value:void 0,done:!1},a=0,o=this.length;return Gh({next:function(){return a<o?n.value=i[a++]:(n.value=void 0,n.done=!0),n}},Symbol.iterator,function(){return this})})};Fx();var Px=Ut({nodeDimensionsIncludeLabels:!1}),gs={layoutDimensions:function(e){e=Px(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var i=this.boundingBox();r={w:i.w,h:i.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,i){var n=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),o=r.eles,s=function(w){return w.id()},l=Ya(i,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(w,x,D){var E={x:x.x1+x.w/2,y:x.y1+x.h/2},M={x:(D.x-E.x)*w,y:(D.y-E.y)*w};return{x:E.x+M.x,y:E.y+M.y}},d=r.spacingFactor&&r.spacingFactor!==1,u=function(){if(!d)return null;for(var w=hi(),x=0;x<n.length;x++){var D=n[x],E=l(D,x);Lb(w,E.x,E.y)}return w},h=u(),m=Ya(function(C,w){var x=l(C,w);if(d){var D=Math.abs(r.spacingFactor);x=c(D,h,x)}return r.transform!=null&&(x=r.transform(C,x)),x},s);if(r.animate){for(var f=0;f<n.length;f++){var g=n[f],v=m(g,f),p=r.animateFilter==null||r.animateFilter(g,f);if(p){var y=g.animation({position:v,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else g.position(v)}if(r.fit){var b=a.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var _=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Jn.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(m),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(ke({},e,{eles:this}))}};gs.createLayout=gs.makeLayout=gs.layout;function Jf(t,e,r){var i=r._private,n=i.styleCache=i.styleCache||[],a;return(a=n[t])!=null||(a=n[t]=e(r)),a}function qs(t,e){return t=dn(t),function(i){return Jf(t,e,i)}}function $s(t,e){t=dn(t);var r=function(n){return e.call(n)};return function(){var n=this[0];if(n)return Jf(t,r,n)}}var jt={recalculateRenderedStyle:function(e){var r=this.cy(),i=r.renderer(),n=r.styleEnabled();return i&&n&&i.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var i;i=this.spawnSelf().merge(this.descendants()).merge(this.parents()),i.merge(i.connectedEdges()),i.forEach(r)}else this.forEach(function(n){r(n),n.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var i=r._private.batchStyleEles;return i.merge(this),this}var n=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),n&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var i=this[r];i._private.styleDirty&&(i._private.styleDirty=!1,e.style().apply(i))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this[0],n=i.cy();if(n.styleEnabled()&&i){this.cleanStyle();var a=i._private.style[e];return a??(r?n.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var i=r.pstyle(e);return i.pfValue!==void 0?i.pfValue:i.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var i=this[0];if(i)return r.style().getRenderedStyle(i,e)},style:function(e,r){var i=this.cy();if(!i.styleEnabled())return this;var n=!1,a=i.style();if(Ye(e)){var o=e;a.applyBypass(this,o,n),this.emitAndNotify("style")}else if(ye(e))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,r,n),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,n=r.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];n.removeAllBypasses(s,i)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var c=a[l];n.removeBypasses(c,e,i)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),i=this[0];if(i){var n=i._private,a=i.pstyle("opacity").value;if(!r)return a;var o=n.data.parent?i.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=l.pstyle("opacity").value;a=c*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],i=r.cy().hasCompoundNodes();if(r)return i?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function nc(t,e){var r=t._private,i=r.data.parent?t.parents():null;if(i)for(var n=0;n<i.length;n++){var a=i[n];if(!e(a))return!1}return!0}function jc(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,i=t.parentOk||t.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],o=n.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||nc(a,i);var l=s.source,c=s.target;return r(l)&&(!o||nc(l,r))&&(l===c||r(c)&&(!o||nc(c,r)))}}}var ra=qs("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});jt.takesUpSpace=$s("takesUpSpace",jc({ok:ra}));var Lx=qs("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ra(t)}),Nx=qs("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ra(t)});jt.interactive=$s("interactive",jc({ok:Lx,parentOk:Nx,edgeOkViaNode:ra}));jt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Bx=qs("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ra(t)}),Vx=ra;jt.visible=$s("visible",jc({ok:Bx,edgeOkViaNode:Vx}));jt.hidden=function(){var t=this[0];if(t)return!t.visible()};jt.isBundledBezier=$s("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});jt.bypass=jt.css=jt.style;jt.renderedCss=jt.renderedStyle;jt.removeBypass=jt.removeCss=jt.removeStyle;jt.pstyle=jt.parsedStyle;var Mr={};function gh(t){return function(){var e=arguments,r=[];if(e.length===2){var i=e[0],n=e[1];this.on(t.event,i,n)}else if(e.length===1&&_t(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&ft(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],c=!t.ableField||l._private[t.ableField],d=l._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(l);if(u!==void 0&&(c=u,!u))return this}c&&(l._private[t.field]=t.value,d&&r.push(l))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),o&&h.emit(o)}return this}}function na(t){Mr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Mr[t.on]=gh({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Mr[t.off]=gh({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}na({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});na({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});na({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});na({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Mr.deselect=Mr.unselect;Mr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};na({field:"active",on:"activate",off:"unactivate"});na({field:"pannable",on:"panify",off:"unpanify"});Mr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Zt={},bh=function(e){return function(i){for(var n=this,a=[],o=0;o<n.length;o++){var s=n[o];if(s.isNode()){for(var l=!1,c=s.connectedEdges(),d=0;d<c.length;d++){var u=c[d],h=u.source(),m=u.target();if(e.noIncomingEdges&&m===s&&h!==s||e.noOutgoingEdges&&h===s&&m!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(i)}},yh=function(e){return function(r){for(var i=this,n=[],a=0;a<i.length;a++){var o=i[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var c=s[l],d=c.source(),u=c.target();e.outgoing&&d===o?(n.push(c),n.push(u)):e.incoming&&u===o&&(n.push(c),n.push(d))}}return this.spawn(n,!0).filter(r)}},_h=function(e){return function(r){for(var i=this,n=[],a={};;){var o=e.outgoing?i.outgoers():i.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var c=o[l],d=c.id();a[d]||(a[d]=!0,n.push(c),s=!0)}if(!s)break;i=o}return this.spawn(n,!0).filter(r)}};Zt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};ke(Zt,{roots:bh({noIncomingEdges:!0}),leaves:bh({noOutgoingEdges:!0}),outgoers:Ei(yh({outgoing:!0}),"outgoers"),successors:_h({outgoing:!0}),incomers:Ei(yh({incoming:!0}),"incomers"),predecessors:_h({incoming:!0})});ke(Zt,{neighborhood:Ei(function(t){for(var e=[],r=this.nodes(),i=0;i<r.length;i++)for(var n=r[i],a=n.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),c=s.target(),d=n===l?c:l;d.length>0&&e.push(d[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Zt.neighbourhood=Zt.neighborhood;Zt.closedNeighbourhood=Zt.closedNeighborhood;Zt.openNeighbourhood=Zt.openNeighborhood;ke(Zt,{source:Ei(function(e){var r=this[0],i;return r&&(i=r._private.source||r.cy().collection()),i&&e?i.filter(e):i},"source"),target:Ei(function(e){var r=this[0],i;return r&&(i=r._private.target||r.cy().collection()),i&&e?i.filter(e):i},"target"),sources:xh({attr:"source"}),targets:xh({attr:"target"})});function xh(t){return function(r){for(var i=[],n=0;n<this.length;n++){var a=this[n],o=a._private[t.attr];o&&i.push(o)}return this.spawn(i,!0).filter(r)}}ke(Zt,{edgesWith:Ei(wh(),"edgesWith"),edgesTo:Ei(wh({thisIsSrc:!0}),"edgesTo")});function wh(t){return function(r){var i=[],n=this._private.cy,a=t||{};ye(r)&&(r=n.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var c=s[l],d=c._private.data,u=this.hasElementWithId(d.source)&&r.hasElementWithId(d.target),h=r.hasElementWithId(d.source)&&this.hasElementWithId(d.target),m=u||h;m&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!u||a.thisIsTgt&&!h)||i.push(c))}return this.spawn(i,!0)}}ke(Zt,{connectedEdges:Ei(function(t){for(var e=[],r=this,i=0;i<r.length;i++){var n=r[i];if(n.isNode())for(var a=n._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Ei(function(t){for(var e=[],r=this,i=0;i<r.length;i++){var n=r[i];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Ei(Ch(),"parallelEdges"),codirectedEdges:Ei(Ch({codirected:!0}),"codirectedEdges")});function Ch(t){var e={codirected:!1};return t=ke({},e,t),function(i){for(var n=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],c=l._private,d=c.source,u=d._private.data.id,h=c.data.target,m=d._private.edges,f=0;f<m.length;f++){var g=m[f],v=g._private.data,p=v.target,y=v.source,b=p===h&&y===u,_=u===p&&h===y;(o.codirected&&b||!o.codirected&&(b||_))&&n.push(g)}return this.spawn(n,!0).filter(i)}}ke(Zt,{components:function(e){var r=this,i=r.cy(),n=i.collection(),a=e==null?r.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(d,u){n.merge(d),a.unmerge(d),u.merge(d)};if(a.empty())return r.spawn();var l=function(){var d=i.collection();o.push(d);var u=a[0];s(u,d),r.bfs({directed:!1,roots:u,visit:function(m){return s(m,d)}}),d.forEach(function(h){h.connectedEdges().forEach(function(m){r.has(m)&&d.has(m.source())&&d.has(m.target())&&d.merge(m)})})};do l();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Zt.componentsOf=Zt.components;var Ht=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Et("A collection must have a reference to the core");return}var a=new Ji,o=!1;if(!r)r=[];else if(r.length>0&&Ye(r[0])&&!oo(r[0])){o=!0;for(var s=[],l=new Qn,c=0,d=r.length;c<d;c++){var u=r[c];u.data==null&&(u.data={});var h=u.data;if(h.id==null)h.id=hf();else if(e.hasElementWithId(h.id)||l.has(h.id))continue;var m=new Ns(e,u,!1);s.push(m),l.add(h.id)}r=s}this.length=0;for(var f=0,g=r.length;f<g;f++){var v=r[f][0];if(v!=null){var p=v._private.data.id;(!i||!a.has(p))&&(i&&a.set(p,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new Ji,_=this.eles,C=0;C<_.length;C++){var w=_[C];b.set(w.id(),{index:C,ele:w})}}},i&&(this._private.map=a),o&&!n&&this.restore()},vt=Ns.prototype=Ht.prototype=Object.create(Array.prototype);vt.instanceString=function(){return"collection"};vt.spawn=function(t,e){return new Ht(this.cy(),t,e)};vt.spawnSelf=function(){return this.spawn(this)};vt.cy=function(){return this._private.cy};vt.renderer=function(){return this._private.cy.renderer()};vt.element=function(){return this[0]};vt.collection=function(){return Xh(this)?this:new Ht(this._private.cy,[this])};vt.unique=function(){return new Ht(this._private.cy,this,!0)};vt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};vt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Ht(e)};vt.$id=vt.getElementById;vt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};vt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};vt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};vt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var i=e._private;if(Ye(t)){if(r.startBatch(),t.data){e.data(t.data);var n=i.data;if(e.isEdge()){var a=!1,o={},s=t.data.source,l=t.data.target;s!=null&&s!=n.source&&(o.source=""+s,a=!0),l!=null&&l!=n.target&&(o.target=""+l,a=!0),a&&(e=e.move(o))}else{var c="parent"in t.data,d=t.data.parent;c&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),e=e.move({parent:d}))}}t.position&&e.position(t.position);var u=function(g,v,p){var y=t[g];y!=null&&y!==i[g]&&(y?e[v]():e[p]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:Qi(i.data),position:Qi(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};h.classes="";var m=0;return i.classes.forEach(function(f){return h.classes+=m++===0?f:" "+f}),h}}};vt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],i=r.json();t.push(i)}return t};vt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var i=this[r],n=i.json(),a=new Ns(t,n,!1);e.push(a)}return new Ht(t,e)};vt.copy=vt.clone;vt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=r.cy(),n=i._private,a=[],o=[],s,l=0,c=r.length;l<c;l++){var d=r[l];e&&!d.removed()||(d.isNode()?a.push(d):o.push(d))}s=a.concat(o);var u,h=function(){s.splice(u,1),u--};for(u=0;u<s.length;u++){var m=s[u],f=m._private,g=f.data;if(m.clearTraversalCache(),!(!e&&!f.removed)){if(g.id===void 0)g.id=hf();else if(le(g.id))g.id=""+g.id;else if(Tr(g.id)||!ye(g.id)){Et("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(i.hasElementWithId(g.id)){Et("Can not create second element with ID `"+g.id+"`"),h();continue}}var v=g.id;if(m.isNode()){var p=f.position;p.x==null&&(p.x=0),p.y==null&&(p.y=0)}if(m.isEdge()){for(var y=m,b=["source","target"],_=b.length,C=!1,w=0;w<_;w++){var x=b[w],D=g[x];le(D)&&(D=g[x]=""+g[x]),D==null||D===""?(Et("Can not create edge `"+v+"` with unspecified "+x),C=!0):i.hasElementWithId(D)||(Et("Can not create edge `"+v+"` with nonexistant "+x+" `"+D+"`"),C=!0)}if(C){h();continue}var E=i.getElementById(g.source),M=i.getElementById(g.target);E.same(M)?E._private.edges.push(y):(E._private.edges.push(y),M._private.edges.push(y)),y._private.source=E,y._private.target=M}f.map=new Ji,f.map.set(v,{ele:m,index:0}),f.removed=!1,e&&i.addToPool(m)}for(var I=0;I<a.length;I++){var A=a[I],T=A._private.data;le(T.parent)&&(T.parent=""+T.parent);var S=T.parent,F=S!=null;if(F||A._private.parent){var O=A._private.parent?i.collection().merge(A._private.parent):i.getElementById(S);if(O.empty())T.parent=void 0;else if(O[0].removed())ot("Node added with missing parent, reference to parent removed"),T.parent=void 0,A._private.parent=null;else{for(var R=!1,P=O;!P.empty();){if(A.same(P)){R=!0,T.parent=void 0;break}P=P.parent()}R||(O[0]._private.children.push(A),A._private.parent=O[0],n.hasCompoundNodes=!0)}}}if(s.length>0){for(var j=s.length===r.length?r:new Ht(i,s),H=0;H<j.length;H++){var V=j[H];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}var N;n.hasCompoundNodes?N=i.collection().merge(j).merge(j.connectedNodes()).merge(j.parent()):N=j,N.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?j.emitAndNotify("add"):e&&j.emit("add")}return r};vt.removed=function(){var t=this[0];return t&&t._private.removed};vt.inside=function(){var t=this[0];return t&&!t._private.removed};vt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=[],n={},a=r._private.cy;function o(S){for(var F=S._private.edges,O=0;O<F.length;O++)l(F[O])}function s(S){for(var F=S._private.children,O=0;O<F.length;O++)l(F[O])}function l(S){var F=n[S.id()];e&&S.removed()||F||(n[S.id()]=!0,S.isNode()?(i.push(S),o(S),s(S)):i.unshift(S))}for(var c=0,d=r.length;c<d;c++){var u=r[c];l(u)}function h(S,F){var O=S._private.edges;Or(O,F),S.clearTraversalCache()}function m(S){S.clearTraversalCache()}var f=[];f.ids={};function g(S,F){F=F[0],S=S[0];var O=S._private.children,R=S.id();Or(O,F),F._private.parent=null,f.ids[R]||(f.ids[R]=!0,f.push(S))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(i);for(var v=0;v<i.length;v++){var p=i[v];if(p.isEdge()){var y=p.source()[0],b=p.target()[0];h(y,p),h(b,p);for(var _=p.parallelEdges(),C=0;C<_.length;C++){var w=_[C];m(w),w.isBundledBezier()&&w.dirtyBoundingBoxCache()}}else{var x=p.parent();x.length!==0&&g(x,p)}e&&(p._private.removed=!0)}var D=a._private.elements;a._private.hasCompoundNodes=!1;for(var E=0;E<D.length;E++){var M=D[E];if(M.isParent()){a._private.hasCompoundNodes=!0;break}}var I=new Ht(this.cy(),i);I.size()>0&&(t?I.emitAndNotify("remove"):e&&I.emit("remove"));for(var A=0;A<f.length;A++){var T=f[A];(!e||!T.removed())&&T.updateStyle()}return I};vt.move=function(t){var e=this._private.cy,r=this,i=!1,n=!1,a=function(f){return f==null?f:""+f};if(t.source!==void 0||t.target!==void 0){var o=a(t.source),s=a(t.target),l=o!=null&&e.hasElementWithId(o),c=s!=null&&e.hasElementWithId(s);(l||c)&&(e.batch(function(){r.remove(i,n),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var f=r[m],g=f._private.data;f.isEdge()&&(l&&(g.source=o),c&&(g.target=s))}r.restore(i,n)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var d=a(t.parent),u=d===null||e.hasElementWithId(d);if(u){var h=d===null?void 0:d;e.batch(function(){var m=r.remove(i,n);m.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var g=r[f],v=g._private.data;g.isNode()&&(v.parent=h)}m.restore(i,n)}),r.emitAndNotify("move")}}return this};[kf,Z_,vs,Ar,Xn,hx,Us,Ix,Zf,Xf,Rx,As,gs,jt,Mr,Zt].forEach(function(t){ke(vt,t)});var zx={add:function(e){var r,i=this;if(fi(e)){var n=e;if(n._private.cy===i)r=n.restore();else{for(var a=[],o=0;o<n.length;o++){var s=n[o];a.push(s.json())}r=new Ht(i,a)}}else if(ft(e)){var l=e;r=new Ht(i,l)}else if(Ye(e)&&(ft(e.nodes)||ft(e.edges))){for(var c=e,d=[],u=["nodes","edges"],h=0,m=u.length;h<m;h++){var f=u[h],g=c[f];if(ft(g))for(var v=0,p=g.length;v<p;v++){var y=ke({group:f},g[v]);d.push(y)}}r=new Ht(i,d)}else{var b=e;r=new Ns(i,b).collection()}return r},remove:function(e){if(!fi(e)){if(ye(e)){var r=e;e=this.$(r)}}return e.remove()}};function jx(t,e,r,i){var n=4,a=.001,o=1e-7,s=10,l=11,c=1/(l-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var u=0;u<4;++u)if(typeof arguments[u]!="number"||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=d?new Float32Array(l):new Array(l);function m(M,I){return 1-3*I+3*M}function f(M,I){return 3*I-6*M}function g(M){return 3*M}function v(M,I,A){return((m(I,A)*M+f(I,A))*M+g(I))*M}function p(M,I,A){return 3*m(I,A)*M*M+2*f(I,A)*M+g(I)}function y(M,I){for(var A=0;A<n;++A){var T=p(I,t,r);if(T===0)return I;var S=v(I,t,r)-M;I-=S/T}return I}function b(){for(var M=0;M<l;++M)h[M]=v(M*c,t,r)}function _(M,I,A){var T,S,F=0;do S=I+(A-I)/2,T=v(S,t,r)-M,T>0?A=S:I=S;while(Math.abs(T)>o&&++F<s);return S}function C(M){for(var I=0,A=1,T=l-1;A!==T&&h[A]<=M;++A)I+=c;--A;var S=(M-h[A])/(h[A+1]-h[A]),F=I+S*c,O=p(F,t,r);return O>=a?y(M,F):O===0?F:_(M,I,I+c)}var w=!1;function x(){w=!0,(t!==e||r!==i)&&b()}var D=function(I){return w||x(),t===e&&r===i?I:I===0?0:I===1?1:v(C(I),e,i)};D.getControlPoints=function(){return[{x:t,y:e},{x:r,y:i}]};var E="generateBezier("+[t,e,r,i]+")";return D.toString=function(){return E},D}var Hx=function(){function t(i){return-i.tension*i.x-i.friction*i.v}function e(i,n,a){var o={x:i.x+a.dx*n,v:i.v+a.dv*n,tension:i.tension,friction:i.friction};return{dx:o.v,dv:t(o)}}function r(i,n){var a={dx:i.v,dv:t(i)},o=e(i,n*.5,a),s=e(i,n*.5,o),l=e(i,n,s),c=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),d=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return i.x=i.x+c*n,i.v=i.v+d*n,i}return function i(n,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],c=0,d=1/1e4,u=16/1e3,h,m,f;for(n=parseFloat(n)||500,a=parseFloat(a)||20,o=o||null,s.tension=n,s.friction=a,h=o!==null,h?(c=i(n,a),m=c/o*u):m=u;f=r(f||s,m),l.push(1+f.x),c+=16,Math.abs(f.x)>d&&Math.abs(f.v)>d;);return h?function(g){return l[g*(l.length-1)|0]}:c}}(),pt=function(e,r,i,n){var a=jx(e,r,i,n);return function(o,s,l){return o+(s-o)*a(l)}},bs={linear:function(e,r,i){return e+(r-e)*i},ease:pt(.25,.1,.25,1),"ease-in":pt(.42,0,1,1),"ease-out":pt(0,0,.58,1),"ease-in-out":pt(.42,0,.58,1),"ease-in-sine":pt(.47,0,.745,.715),"ease-out-sine":pt(.39,.575,.565,1),"ease-in-out-sine":pt(.445,.05,.55,.95),"ease-in-quad":pt(.55,.085,.68,.53),"ease-out-quad":pt(.25,.46,.45,.94),"ease-in-out-quad":pt(.455,.03,.515,.955),"ease-in-cubic":pt(.55,.055,.675,.19),"ease-out-cubic":pt(.215,.61,.355,1),"ease-in-out-cubic":pt(.645,.045,.355,1),"ease-in-quart":pt(.895,.03,.685,.22),"ease-out-quart":pt(.165,.84,.44,1),"ease-in-out-quart":pt(.77,0,.175,1),"ease-in-quint":pt(.755,.05,.855,.06),"ease-out-quint":pt(.23,1,.32,1),"ease-in-out-quint":pt(.86,0,.07,1),"ease-in-expo":pt(.95,.05,.795,.035),"ease-out-expo":pt(.19,1,.22,1),"ease-in-out-expo":pt(1,0,0,1),"ease-in-circ":pt(.6,.04,.98,.335),"ease-out-circ":pt(.075,.82,.165,1),"ease-in-out-circ":pt(.785,.135,.15,.86),spring:function(e,r,i){if(i===0)return bs.linear;var n=Hx(e,r,i);return function(a,o,s){return a+(o-a)*n(s)}},"cubic-bezier":pt};function Eh(t,e,r,i,n){if(i===1||e===r)return r;var a=n(e,r,i);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function kh(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Bn(t,e,r,i,n){var a=n!=null?n.type:null;r<0?r=0:r>1&&(r=1);var o=kh(t,n),s=kh(e,n);if(le(o)&&le(s))return Eh(a,o,s,r,i);if(ft(o)&&ft(s)){for(var l=[],c=0;c<s.length;c++){var d=o[c],u=s[c];if(d!=null&&u!=null){var h=Eh(a,d,u,r,i);l.push(h)}else l.push(u)}return l}}function Ux(t,e,r,i){var n=!i,a=t._private,o=e._private,s=o.easing,l=o.startTime,c=i?t:t.cy(),d=c.style();if(!o.easingImpl)if(s==null)o.easingImpl=bs.linear;else{var u;if(ye(s)){var h=d.parse("transition-timing-function",s);u=h.value}else u=s;var m,f;ye(u)?(m=u,f=[]):(m=u[1],f=u.slice(2).map(function(j){return+j})),f.length>0?(m==="spring"&&f.push(o.duration),o.easingImpl=bs[m].apply(null,f)):o.easingImpl=bs[m]}var g=o.easingImpl,v;if(o.duration===0?v=1:v=(r-l)/o.duration,o.applying&&(v=o.progress),v<0?v=0:v>1&&(v=1),o.delay==null){var p=o.startPosition,y=o.position;if(y&&n&&!t.locked()){var b={};za(p.x,y.x)&&(b.x=Bn(p.x,y.x,v,g)),za(p.y,y.y)&&(b.y=Bn(p.y,y.y,v,g)),t.position(b)}var _=o.startPan,C=o.pan,w=a.pan,x=C!=null&&i;x&&(za(_.x,C.x)&&(w.x=Bn(_.x,C.x,v,g)),za(_.y,C.y)&&(w.y=Bn(_.y,C.y,v,g)),t.emit("pan"));var D=o.startZoom,E=o.zoom,M=E!=null&&i;M&&(za(D,E)&&(a.zoom=Qa(a.minZoom,Bn(D,E,v,g),a.maxZoom)),t.emit("zoom")),(x||M)&&t.emit("viewport");var I=o.style;if(I&&I.length>0&&n){for(var A=0;A<I.length;A++){var T=I[A],S=T.name,F=T,O=o.startStyle[S],R=d.properties[O.name],P=Bn(O,F,v,g,R);d.overrideBypass(t,S,P)}t.emit("style")}}return o.progress=v,v}function za(t,e){return t==null||e==null?!1:le(t)&&le(e)?!0:!!(t&&e)}function Wx(t,e,r,i){var n=e._private;n.started=!0,n.startTime=r-n.progress*n.duration}function Dh(t,e){var r=e._private.aniEles,i=[];function n(d,u){var h=d._private,m=h.animation.current,f=h.animation.queue,g=!1;if(m.length===0){var v=f.shift();v&&m.push(v)}for(var p=function(w){for(var x=w.length-1;x>=0;x--){var D=w[x];D()}w.splice(0,w.length)},y=m.length-1;y>=0;y--){var b=m[y],_=b._private;if(_.stopped){m.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||Wx(d,b,t),Ux(d,b,t,u),_.applying&&(_.applying=!1),p(_.frames),_.step!=null&&_.step(t),b.completed()&&(m.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.completes)),g=!0)}return!u&&m.length===0&&f.length===0&&i.push(d),g}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=n(s);a=a||l}var c=n(e,!0);(a||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(i),e.emit("step")}var qx={animate:at.animate(),animation:at.animation(),animated:at.animated(),clearQueue:at.clearQueue(),delay:at.delay(),delayAnimation:at.delayAnimation(),stop:at.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Es(function(a){Dh(a,e),r()})}var i=e.renderer();i&&i.beforeRender?i.beforeRender(function(a,o){Dh(o,e)},i.beforeRenderPriorities.animations):r()}},$x={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,i){var n=r.qualifier;return n!=null?e!==i.target&&oo(i.target)&&n.matches(i.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,i){return r.qualifier!=null?i.target:e}},us=function(e){return ye(e)?new Rr(e):e},em={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Ws($x,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,i){return this.emitter().on(e,us(r),i),this},removeListener:function(e,r,i){return this.emitter().removeListener(e,us(r),i),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,i){return this.emitter().one(e,us(r),i),this},once:function(e,r,i){return this.emitter().one(e,us(r),i),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};at.eventAliasesOn(em);var pc={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};pc.jpeg=pc.jpg;var ys={layout:function(e){var r=this;if(e==null){Et("Layout options must be specified to make a layout");return}if(e.name==null){Et("A `name` must be specified to make a layout");return}var i=e.name,n=r.extension("layout",i);if(n==null){Et("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;ye(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var o=new n(ke({},e,{cy:r,eles:a}));return o}};ys.createLayout=ys.makeLayout=ys.layout;var Gx={notify:function(e,r){var i=this._private;if(this.batching()){i.batchNotifications=i.batchNotifications||{};var n=i.batchNotifications[e]=i.batchNotifications[e]||this.collection();r!=null&&n.merge(r);return}if(i.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(i){var n=e.batchNotifications[i];n.empty()?r.notify(i):r.notify(i,n)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var i=Object.keys(e),n=0;n<i.length;n++){var a=i[n],o=e[a],s=r.getElementById(a);s.data(o)}})}},Yx=Ut({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),vc={renderTo:function(e,r,i,n){var a=this._private.renderer;return a.renderTo(e,r,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,i=r.extension("renderer",e.name);if(i==null){Et("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ot("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=Yx(e);n.cy=r,r._private.renderer=new i(n),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(i){var n=i._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};vc.invalidateDimensions=vc.resize;var _s={collection:function(e,r){return ye(e)?this.$(e):fi(e)?e.collection():ft(e)?(r||(r={}),new Ht(this,e,r.unique,r.removed)):new Ht(this)},nodes:function(e){var r=this.$(function(i){return i.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(i){return i.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};_s.elements=_s.filter=_s.$;var Qt={},$a="t",Kx="f";Qt.apply=function(t){for(var e=this,r=e._private,i=r.cy,n=i.collection(),a=0;a<t.length;a++){var o=t[a],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),c=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var d=e.updateStyleHints(o);d&&n.push(o)}}return n};Qt.getPropertiesDiff=function(t,e){var r=this,i=r._private.propDiffs=r._private.propDiffs||{},n=t+"-"+e,a=i[n];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var c=r[l],d=t[l]===$a,u=e[l]===$a,h=d!==u,m=c.mappedProperties.length>0;if(h||u&&m){var f=void 0;h&&m||h?f=c.properties:m&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],p=v.name,y=!1,b=l+1;b<r.length;b++){var _=r[b],C=e[b]===$a;if(C&&(y=_.properties[v.name]!=null,y))break}!s[p]&&!y&&(s[p]=!0,o.push(p))}}}return i[n]=o,o};Qt.getContextMeta=function(t){for(var e=this,r="",i,n=t._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(t);s?r+=$a:r+=Kx}return i=e.getPropertiesDiff(n,r),t._private.styleCxtKey=r,{key:r,diffPropNames:i,empty:i.length===0}};Qt.getContextStyle=function(t){var e=t.key,r=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var n={_private:{key:e}},a=0;a<r.length;a++){var o=r[a],s=e[a]===$a;if(s)for(var l=0;l<o.properties.length;l++){var c=o.properties[l];n[c.name]=c}}return i[e]=n,n};Qt.applyContextStyle=function(t,e,r){for(var i=this,n=t.diffPropNames,a={},o=i.types,s=0;s<n.length;s++){var l=n[s],c=e[l],d=r.pstyle(l);if(!c)if(d)d.bypass?c={name:l,deleteBypassed:!0}:c={name:l,delete:!0};else continue;if(d!==c){if(c.mapped===o.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var u=d.mapping,h=u.fnValue=c.value(r);if(h===u.prevFnValue)continue}var m=a[l]={prev:d};i.applyParsedProperty(r,c),m.next=r.pstyle(l),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:a}};Qt.updateStyleHints=function(t){var e=t._private,r=this,i=r.propertyGroupNames,n=r.propertyGroupKeys,a=function(K,de,_e){return r.getPropertiesHash(K,de,_e)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;i=Object.keys(l);for(var c=0;c<n.length;c++){var d=n[c];e.styleKeys[d]=[jn,Ha]}for(var u=function(K,de){return e.styleKeys[de][0]=Ka(K,e.styleKeys[de][0])},h=function(K,de){return e.styleKeys[de][1]=Za(K,e.styleKeys[de][1])},m=function(K,de){u(K,de),h(K,de)},f=function(K,de){for(var _e=0;_e<K.length;_e++){var se=K.charCodeAt(_e);u(se,de),h(se,de)}},g=2e9,v=function(K){return-128<K&&K<128&&Math.floor(K)!==K?g-(K*1024|0):K},p=0;p<i.length;p++){var y=i[p],b=l[y];if(b!=null){var _=this.properties[y],C=_.type,w=_.groupKey,x=void 0;_.hashOverride!=null?x=_.hashOverride(t,b):b.pfValue!=null&&(x=b.pfValue);var D=_.enums==null?b.value:null,E=x!=null,M=D!=null,I=E||M,A=b.units;if(C.number&&I&&!C.multiple){var T=E?x:D;m(v(T),w),!E&&A!=null&&f(A,w)}else f(b.strValue,w)}}for(var S=[jn,Ha],F=0;F<n.length;F++){var O=n[F],R=e.styleKeys[O];S[0]=Ka(R[0],S[0]),S[1]=Za(R[1],S[1])}e.styleKey=eb(S[0],S[1]);var P=e.styleKeys;e.labelDimsKey=kr(P.labelDimensions);var j=a(t,["label"],P.labelDimensions);if(e.labelKey=kr(j),e.labelStyleKey=kr(is(P.commonLabel,j)),!s){var H=a(t,["source-label"],P.labelDimensions);e.sourceLabelKey=kr(H),e.sourceLabelStyleKey=kr(is(P.commonLabel,H));var V=a(t,["target-label"],P.labelDimensions);e.targetLabelKey=kr(V),e.targetLabelStyleKey=kr(is(P.commonLabel,V))}if(s){var N=e.styleKeys,$=N.nodeBody,X=N.nodeBorder,J=N.nodeOutline,ee=N.backgroundImage,te=N.compound,G=N.pie,L=[$,X,J,ee,te,G].filter(function(Y){return Y!=null}).reduce(is,[jn,Ha]);e.nodeKey=kr(L),e.hasPie=G!=null&&G[0]!==jn&&G[1]!==Ha}return o!==e.styleKey};Qt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Qt.applyParsedProperty=function(t,e){var r=this,i=e,n=t._private.style,a,o=r.types,s=r.properties[i.name].type,l=i.bypass,c=n[i.name],d=c&&c.bypass,u=t._private,h="mapping",m=function($){return $==null?null:$.pfValue!=null?$.pfValue:$.value},f=function(){var $=m(c),X=m(i);r.checkTriggers(t,i.name,$,X)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",l)),i.delete)return n[i.name]=void 0,f(),!0;if(i.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,f(),!0):!1:(f(),!0);if(i.deleteBypass)return c?c.bypass?(n[i.name]=c.bypassed,f(),!0):!1:(f(),!0);var g=function(){ot("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:{for(var v=i.field.split("."),p=u.data,y=0;y<v.length&&p;y++){var b=v[y];p=p[b]}if(p==null)return g(),!1;var _;if(le(p)){var C=i.fieldMax-i.fieldMin;C===0?_=0:_=(p-i.fieldMin)/C}else return ot("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+p+"` for `"+t.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),s.color){var w=i.valueMin[0],x=i.valueMax[0],D=i.valueMin[1],E=i.valueMax[1],M=i.valueMin[2],I=i.valueMax[2],A=i.valueMin[3]==null?1:i.valueMin[3],T=i.valueMax[3]==null?1:i.valueMax[3],S=[Math.round(w+(x-w)*_),Math.round(D+(E-D)*_),Math.round(M+(I-M)*_),Math.round(A+(T-A)*_)];a={bypass:i.bypass,name:i.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(s.number){var F=i.valueMin+(i.valueMax-i.valueMin)*_;a=this.parse(i.name,F,i.bypass,h)}else return!1;if(!a)return g(),!1;a.mapping=i,i=a;break}case o.data:{for(var O=i.field.split("."),R=u.data,P=0;P<O.length&&R;P++){var j=O[P];R=R[j]}if(R!=null&&(a=this.parse(i.name,R,i.bypass,h)),!a)return g(),!1;a.mapping=i,i=a;break}case o.fn:{var H=i.value,V=i.fnValue!=null?i.fnValue:H(t);if(i.prevFnValue=V,V==null)return ot("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(i.name,V,i.bypass,h),!a)return ot("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=Qi(i),i=a;break}case void 0:break;default:return!1}return l?(d?i.bypassed=c.bypassed:i.bypassed=c,n[i.name]=i):d?c.bypassed=i:n[i.name]=i,f(),!0};Qt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),!e)i._private.style={};else for(var n=i._private.style,a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s];l!=null&&(l.bypass?l.bypassed=null:n[s]=null)}}};Qt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Qt.updateTransitions=function(t,e){var r=this,i=t._private,n=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var s={},l=!1,c=0;c<n.length;c++){var d=n[c],u=t.pstyle(d),h=e[d];if(h){var m=h.prev,f=m,g=h.next!=null?h.next:u,v=!1,p=void 0,y=1e-6;f&&(le(f.pfValue)&&le(g.pfValue)?(v=g.pfValue-f.pfValue,p=f.pfValue+y*v):le(f.value)&&le(g.value)?(v=g.value-f.value,p=f.value+y*v):ft(f.value)&&ft(g.value)&&(v=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],p=f.strValue),v&&(s[d]=g.strValue,this.applyBypass(t,d,p),l=!0))}}if(!l)return;i.transitioning=!0,new Jn(function(b){o>0?t.delayAnimation(o).play().promise().then(b):b()}).then(function(){return t.animation({style:s,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,n),t.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(t,n),t.emitAndNotify("style"),i.transitioning=!1)};Qt.checkTrigger=function(t,e,r,i,n,a){var o=this.properties[e],s=n(o);s!=null&&s(r,i)&&a(o)};Qt.checkZOrderTrigger=function(t,e,r,i){var n=this;this.checkTrigger(t,e,r,i,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",t)})};Qt.checkBoundsTrigger=function(t,e,r,i){this.checkTrigger(t,e,r,i,function(n){return n.triggersBounds},function(n){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),n.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||i==="bezier")&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),n.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||i==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Qt.checkTriggers=function(t,e,r,i){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,i),this.checkBoundsTrigger(t,e,r,i)};var uo={};uo.applyBypass=function(t,e,r,i){var n=this,a=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<n.properties.length;s++){var l=n.properties[s],c=l.name,d=this.parse(c,r,!0);d&&a.push(d)}}else if(ye(e)){var u=this.parse(e,r,!0);u&&a.push(u)}else if(Ye(e)){var h=e;i=r;for(var m=Object.keys(h),f=0;f<m.length;f++){var g=m[f],v=h[g];if(v===void 0&&(v=h[Fs(g)]),v!==void 0){var p=this.parse(g,v,!0);p&&a.push(p)}}}else return!1;if(a.length===0)return!1;for(var y=!1,b=0;b<t.length;b++){for(var _=t[b],C={},w=void 0,x=0;x<a.length;x++){var D=a[x];if(i){var E=_.pstyle(D.name);w=C[D.name]={prev:E}}y=this.applyParsedProperty(_,Qi(D))||y,i&&(w.next=_.pstyle(D.name))}y&&this.updateStyleHints(_),i&&this.updateTransitions(_,C,o)}return y};uo.overrideBypass=function(t,e,r){e=Ic(e);for(var i=0;i<t.length;i++){var n=t[i],a=n._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,c=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(n)),this.checkTriggers(n,e,c,r)}};uo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};uo.removeBypasses=function(t,e,r){for(var i=!0,n=0;n<t.length;n++){for(var a=t[n],o={},s=0;s<e.length;s++){var l=e[s],c=this.properties[l],d=a.pstyle(c.name);if(!(!d||!d.bypass)){var u="",h=this.parse(l,u,!0),m=o[c.name]={prev:d};this.applyParsedProperty(a,h),m.next=a.pstyle(c.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,i)}};var Hc={};Hc.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Hc.containerCss=function(t){var e=this._private.cy,r=e.container(),i=e.window();if(i&&r&&i.getComputedStyle)return i.getComputedStyle(r).getPropertyValue(t)};var er={};er.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};er.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var i={},n=0;n<r.properties.length;n++){var a=r.properties[n],o=r.getStylePropertyValue(t,a.name,e);o!=null&&(i[a.name]=o,i[Fs(a.name)]=o)}return i}};er.getIndexedStyle=function(t,e,r,i){var n=t.pstyle(e)[r][i];return n??t.cy().style().getDefaultProperty(e)[r][0]};er.getStylePropertyValue=function(t,e,r){var i=this;if(t=t[0],t){var n=i.properties[e];n.alias&&(n=n.pointsTo);var a=n.type,o=t.pstyle(n.name);if(o){var s=o.value,l=o.units,c=o.strValue;if(r&&a.number&&s!=null&&le(s)){var d=t.cy().zoom(),u=function(v){return v*d},h=function(v,p){return u(v)+p},m=ft(s),f=m?l.every(function(g){return g!=null}):l!=null;return f?m?s.map(function(g,v){return h(g,l[v])}).join(" "):h(s,l):m?s.map(function(g){return ye(g)?g:""+u(g)}).join(" "):""+u(s)}else if(c!=null)return c}return null}};er.getAnimationStartStyle=function(t,e){for(var r={},i=0;i<e.length;i++){var n=e[i],a=n.name,o=t.pstyle(a);o!==void 0&&(Ye(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};er.getPropsList=function(t){var e=this,r=[],i=t,n=e.properties;if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s],c=n[s]||n[Ic(s)],d=this.parse(c.name,l);d&&r.push(d)}return r};er.getNonDefaultPropertiesHash=function(t,e,r){var i=r.slice(),n,a,o,s,l,c;for(l=0;l<e.length;l++)if(n=e[l],a=t.pstyle(n,!1),a!=null)if(a.pfValue!=null)i[0]=Ka(s,i[0]),i[1]=Za(s,i[1]);else for(o=a.strValue,c=0;c<o.length;c++)s=o.charCodeAt(c),i[0]=Ka(s,i[0]),i[1]=Za(s,i[1]);return i};er.getPropertiesHash=er.getNonDefaultPropertiesHash;var Gs={};Gs.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var i=t[r],n=i.selector,a=i.style||i.css,o=Object.keys(a);e.selector(n);for(var s=0;s<o.length;s++){var l=o[s],c=a[l];e.css(l,c)}}return e};Gs.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Gs.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],i=r.selector,n=r.properties,a={},o=0;o<n.length;o++){var s=n[o];a[s.name]=s.strValue}t.push({selector:i?i.toString():"core",style:a})}return t};var Uc={};Uc.appendFromString=function(t){var e=this,r=this,i=""+t,n,a,o;i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){i.length>n.length?i=i.substr(n.length):i=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var c=i.match(/^\s*$/);if(c)break;var d=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){ot("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}n=d[0];var u=d[1];if(u!=="core"){var h=new Rr(u);if(h.invalid){ot("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),s();continue}}var m=d[2],f=!1;a=m;for(var g=[];;){var v=a.match(/^\s*$/);if(v)break;var p=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){ot("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),f=!0;break}o=p[0];var y=p[1],b=p[2],_=e.properties[y];if(!_){ot("Skipping property: Invalid property name in: "+o),l();continue}var C=r.parse(y,b);if(!C){ot("Skipping property: Invalid property definition in: "+o),l();continue}g.push({name:y,val:b}),l()}if(f){s();break}r.selector(u);for(var w=0;w<g.length;w++){var x=g[w];r.css(x.name,x.val)}s()}return r};Uc.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var zt={};(function(){var t=Rt,e=rg,r=ag,i=og,n=sg,a=function(L){return"^"+L+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(L){var Y=t+"|\\w+|"+e+"|"+r+"|"+i+"|"+n;return"^"+L+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+Y+")\\s*\\,\\s*("+Y+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];zt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(L,Y){switch(L.length){case 2:return Y[0]!=="deg"&&Y[0]!=="rad"&&Y[1]!=="deg"&&Y[1]!=="rad";case 1:return ye(L[0])||Y[0]==="deg"||Y[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(L){var Y=L.length;return Y===1||Y===2||Y===4}}};var l={zeroNonZero:function(L,Y){return(L==null||Y==null)&&L!==Y||L==0&&Y!=0?!0:L!=0&&Y==0},any:function(L,Y){return L!=Y},emptyNonEmpty:function(L,Y){var K=Tr(L),de=Tr(Y);return K&&!de||!K&&de}},c=zt.types,d=[{name:"label",type:c.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any}],u=[{name:"source-label",type:c.text,triggersBounds:l.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:c.size,triggersBounds:l.any}],h=[{name:"target-label",type:c.text,triggersBounds:l.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:c.size,triggersBounds:l.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:l.any},{name:"font-style",type:c.fontStyle,triggersBounds:l.any},{name:"font-weight",type:c.fontWeight,triggersBounds:l.any},{name:"font-size",type:c.size,triggersBounds:l.any},{name:"text-transform",type:c.textTransform,triggersBounds:l.any},{name:"text-wrap",type:c.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:c.size,triggersBounds:l.any},{name:"text-outline-width",type:c.size,triggersBounds:l.any},{name:"line-height",type:c.positiveNumber,triggersBounds:l.any}],f=[{name:"text-valign",type:c.valign,triggersBounds:l.any},{name:"text-halign",type:c.halign,triggersBounds:l.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:l.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:l.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:c.justification}],g=[{name:"events",type:c.bool,triggersZOrder:l.any},{name:"text-events",type:c.bool,triggersZOrder:l.any}],v=[{name:"display",type:c.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:c.visibility,triggersZOrder:l.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:c.number,triggersZOrder:l.any}],p=[{name:"overlay-padding",type:c.size,triggersBounds:l.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:c.cornerRadius}],y=[{name:"underlay-padding",type:c.size,triggersBounds:l.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:c.cornerRadius}],b=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],_=function(L,Y){return Y.value==="label"?-L.poolIndex():Y.pfValue},C=[{name:"height",type:c.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"width",type:c.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"shape",type:c.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:l.any}],w=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:l.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],x=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:l.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:l.any}],D=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],E=[{name:"position",type:c.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:c.size,triggersBounds:l.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:c.size,triggersBounds:l.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:l.any}],M=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:c.size,triggersBounds:l.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-radii",type:c.numbers,triggersBounds:l.any},{name:"radius-type",type:c.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:l.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:c.number,triggersBounds:l.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:c.angle,triggersBounds:l.any},{name:"loop-sweep",type:c.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:c.size,triggersBounds:l.any},{name:"target-distance-from-node",type:c.size,triggersBounds:l.any}],I=[{name:"ghost",type:c.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:c.zeroOneNumber}],A=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],T=[];zt.pieBackgroundN=16,T.push({name:"pie-size",type:c.sizeMaybePercent});for(var S=1;S<=zt.pieBackgroundN;S++)T.push({name:"pie-"+S+"-background-color",type:c.color}),T.push({name:"pie-"+S+"-background-size",type:c.percent}),T.push({name:"pie-"+S+"-background-opacity",type:c.zeroOneNumber});var F=[],O=zt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(G){O.forEach(function(L){var Y=L+"-"+G.name,K=G.type,de=G.triggersBounds;F.push({name:Y,type:K,triggersBounds:de})})},{});var R=zt.properties=[].concat(g,b,v,p,y,I,f,m,d,u,h,C,w,x,D,T,E,M,F,A),P=zt.propertyGroups={behavior:g,transition:b,visibility:v,overlay:p,underlay:y,ghost:I,commonLabel:f,labelDimensions:m,mainLabel:d,sourceLabel:u,targetLabel:h,nodeBody:C,nodeBorder:w,nodeOutline:x,backgroundImage:D,pie:T,compound:E,edgeLine:M,edgeArrow:F,core:A},j=zt.propertyGroupNames={},H=zt.propertyGroupKeys=Object.keys(P);H.forEach(function(G){j[G]=P[G].map(function(L){return L.name}),P[G].forEach(function(L){return L.groupKey=G})});var V=zt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];zt.propertyNames=R.map(function(G){return G.name});for(var N=0;N<R.length;N++){var $=R[N];R[$.name]=$}for(var X=0;X<V.length;X++){var J=V[X],ee=R[J.pointsTo],te={name:J.name,alias:!0,pointsTo:ee};R.push(te),R[J.name]=te}})();zt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};zt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,c){for(var d=1;d<=zt.pieBackgroundN;d++){var u=c.name.replace("{{i}}",d),h=c.value;l[u]=h}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,c){return zt.arrowPrefixes.forEach(function(d){var u=d+"-"+c.name,h=c.value;l[u]=h}),l},{})),r={},i=0;i<this.properties.length;i++){var n=this.properties[i];if(!n.pointsTo){var a=n.name,o=e[a],s=this.parse(a,o);r[a]=s}}return t.defaultProperties=r,t.defaultProperties};zt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ys={};Ys.parse=function(t,e,r,i){var n=this;if(_t(e))return n.parseImplWarn(t,e,r,i);var a=i==="mapping"||i===!0||i===!1||i==null?"dontcare":i,o=r?"t":"f",s=""+e,l=cf(t,s,o,a),c=n.propCache=n.propCache||[],d;return(d=c[l])||(d=c[l]=n.parseImplWarn(t,e,r,i)),(r||i==="mapping")&&(d=Qi(d),d&&(d.value=Qi(d.value))),d};Ys.parseImplWarn=function(t,e,r,i){var n=this.parseImpl(t,e,r,i);return!n&&e!=null&&ot("The style property `".concat(t,": ").concat(e,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&e==="label"&&ot("The style value of `label` is deprecated for `"+n.name+"`"),n};Ys.parseImpl=function(t,e,r,i){var n=this;t=Ic(t);var a=n.properties[t],o=e,s=n.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=ye(e);l&&(e=e.trim());var c=a.type;if(!c)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(_t(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var d,u;if(!(!l||i||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(d=new RegExp(s.data.regex).exec(e))){if(r)return!1;var h=s.data;return{name:t,value:d,strValue:""+e,mapped:h,field:d[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(u=new RegExp(s.mapData.regex).exec(e))){if(r||c.multiple)return!1;var m=s.mapData;if(!(c.color||c.number))return!1;var f=this.parse(t,u[4]);if(!f||f.mapped)return!1;var g=this.parse(t,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return ot("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+f.strValue+"`"),this.parse(t,f.strValue);if(c.color){var v=f.value,p=g.value,y=v[0]===p[0]&&v[1]===p[1]&&v[2]===p[2]&&(v[3]===p[3]||(v[3]==null||v[3]===1)&&(p[3]==null||p[3]===1));if(y)return!1}return{name:t,value:u,strValue:""+e,mapped:m,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:r}}}if(c.multiple&&i!=="multiple"){var b;if(l?b=e.split(/\s+/):ft(e)?b=e:b=[e],c.evenMultiple&&b.length%2!==0)return null;for(var _=[],C=[],w=[],x="",D=!1,E=0;E<b.length;E++){var M=n.parse(t,b[E],r,"multiple");D=D||ye(M.value),_.push(M.value),w.push(M.pfValue!=null?M.pfValue:M.value),C.push(M.units),x+=(E>0?" ":"")+M.strValue}return c.validate&&!c.validate(_,C)?null:c.singleEnum&&D?_.length===1&&ye(_[0])?{name:t,value:_[0],strValue:_[0],bypass:r}:null:{name:t,value:_,pfValue:w,strValue:x,bypass:r,units:C}}var I=function(){for(var L=0;L<c.enums.length;L++){var Y=c.enums[L];if(Y===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var A,T="px";if(c.units&&(A=c.units),c.implicitUnits&&(T=c.implicitUnits),!c.unitless)if(l){var S="px|em"+(c.allowPercent?"|\\%":"");A&&(S=A);var F=e.match("^("+Rt+")("+S+")?$");F&&(e=F[1],A=F[2]||T)}else(!A||c.implicitUnits)&&(A=T);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=o,I();if(c.integer&&!Zv(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var O={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:r};return c.unitless||A!=="px"&&A!=="em"?O.pfValue=e:O.pfValue=A==="px"||!A?e:this.getEmSizeInPixels()*e,(A==="ms"||A==="s")&&(O.pfValue=A==="ms"?e:1e3*e),(A==="deg"||A==="rad")&&(O.pfValue=A==="rad"?e:Mb(e)),A==="%"&&(O.pfValue=e/100),O}else if(c.propList){var R=[],P=""+e;if(P!=="none"){for(var j=P.split(/\s*,\s*|\s+/),H=0;H<j.length;H++){var V=j[H].trim();n.properties[V]?R.push(V):ot("`"+V+"` is not a valid property name")}if(R.length===0)return null}return{name:t,value:R,strValue:R.length===0?"none":R.join(" "),bypass:r}}else if(c.color){var N=fg(e);return N?{name:t,value:N,pfValue:N,strValue:"rgb("+N[0]+","+N[1]+","+N[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var $=I();if($)return $}for(var X=c.regexes?c.regexes:[c.regex],J=0;J<X.length;J++){var ee=new RegExp(X[J]),te=ee.exec(e);if(te)return{name:t,value:c.singleRegexMatchValue?te[1]:te,strValue:""+e,bypass:r}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?I():null};var Kt=function t(e){if(!(this instanceof t))return new t(e);if(!Sc(e)){Et("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Xt=Kt.prototype;Xt.instanceString=function(){return"style"};Xt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),i=0;i<this.length;i++)this[i]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Xt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Xt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Xt.selector=function(t){var e=t==="core"?null:new Rr(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Xt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],i=0;i<t.properties.length;i++){var n=t.properties[i],a=r[n.name];a===void 0&&(a=r[Fs(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Xt.style=Xt.css;Xt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var i=this.length-1;this[i].properties.push(r),this[i].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[i].mappedProperties.push(r);var n=!this[i].selector;n&&(this._private.coreStyle[r.name]=r)}return this};Xt.append=function(t){return Qh(t)?t.appendToStyle(this):ft(t)?this.appendFromJson(t):ye(t)&&this.appendFromString(t),this};Kt.fromJson=function(t,e){var r=new Kt(t);return r.fromJson(e),r};Kt.fromString=function(t,e){return new Kt(t).fromString(e)};[Qt,uo,Hc,er,Gs,Uc,zt,Ys].forEach(function(t){ke(Xt,t)});Kt.types=Xt.types;Kt.properties=Xt.properties;Kt.propertyGroups=Xt.propertyGroups;Kt.propertyGroupNames=Xt.propertyGroupNames;Kt.propertyGroupKeys=Xt.propertyGroupKeys;var Zx={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Qh(e)?r.style=e.generateStyle(this):ft(e)?r.style=Kt.fromJson(this,e):ye(e)?r.style=Kt.fromString(this,e):r.style=Kt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Xx="single",mn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Xx),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,i,n,a,o,s;switch(e.length){case 0:return r;case 1:if(ye(e[0]))return i=e[0],r[i];if(Ye(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,le(o)&&(r.x=o),le(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;i=e[0],n=e[1],(i==="x"||i==="y")&&le(n)&&(r[i]=n),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var i=arguments,n=this._private.pan,a,o,s,l,c;if(!this._private.panningEnabled)return this;switch(i.length){case 1:Ye(e)&&(s=i[0],l=s.x,c=s.y,le(l)&&(n.x+=l),le(c)&&(n.y+=c),this.emit("pan viewport"));break;case 2:a=e,o=r,(a==="x"||a==="y")&&le(o)&&(n[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var i=this.getFitViewport(e,r);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(le(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var i;if(ye(e)){var n=e;e=this.$(n)}else if(Jv(e)){var a=e;i={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},i.w=i.x2-i.x1,i.h=i.y2-i.y1}else fi(e)||(e=this.mutableElements());if(!(fi(e)&&e.empty())){i=i||e.boundingBox();var o=this.width(),s=this.height(),l;if(r=le(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0){l=Math.min((o-2*r)/i.w,(s-2*r)/i.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var c={x:(o-l*(i.x1+i.x2))/2,y:(s-l*(i.y1+i.y2))/2};return{zoom:l,pan:c}}}}},zoomRange:function(e,r){var i=this._private;if(r==null){var n=e;e=n.min,r=n.max}return le(e)&&le(r)&&e<=r?(i.minZoom=e,i.maxZoom=r):le(e)&&r===void 0&&e<=i.maxZoom?i.minZoom=e:le(r)&&e===void 0&&r>=i.minZoom&&(i.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,i=r.pan,n=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),le(e)?o=e:Ye(e)&&(o=e.level,e.position!=null?a=Bs(e.position,n,i):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!le(o)||o===n||a!=null&&(!le(a.x)||!le(a.y)))return null;if(a!=null){var l=i,c=n,d=o,u={x:-d/c*(a.x-l.x)+a.x,y:-d/c*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:d,pan:u}}else return{zoomed:!0,panned:!1,zoom:o,pan:i}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),i=this._private;return r==null||!r.zoomed?this:(i.zoom=r.zoom,r.panned&&(i.pan.x=r.pan.x,i.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,i=!0,n=!0,a=[],o=!1,s=!1;if(!e)return this;if(le(e.zoom)||(i=!1),Ye(e.pan)||(n=!1),!i&&!n)return this;if(i){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(n&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;le(c.x)&&(r.pan.x=c.x,s=!1),le(c.y)&&(r.pan.y=c.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(ye(e)){var i=e;e=this.mutableElements().filter(i)}else fi(e)||(e=this.mutableElements());if(e.length!==0){var n=e.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(n.x1+n.x2))/2,y:(o-r*(n.y1+n.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,i=this;return e.sizeCache=e.sizeCache||(r?function(){var n=i.window().getComputedStyle(r),a=function(s){return parseFloat(n.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-e.x)/r,x2:(i.x2-e.x)/r,y1:(i.y1-e.y)/r,y2:(i.y2-e.y)/r};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};mn.centre=mn.center;mn.autolockNodes=mn.autolock;mn.autoungrabifyNodes=mn.autoungrabify;var ro={data:at.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:at.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:at.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:at.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ro.attr=ro.data;ro.removeAttr=ro.removeData;var no=function(e){var r=this;e=ke({},e);var i=e.container;i&&!Cs(i)&&Cs(i[0])&&(i=i[0]);var n=i?i._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var a=n.readies=n.readies||[];i&&(i._cyreg=n),n.cy=r;var o=Ot!==void 0&&i!==void 0&&!e.headless,s=e;s.layout=ke({name:o?"grid":"null"},s.layout),s.renderer=ke({name:o?"canvas":"null"},s.renderer);var l=function(f,g,v){return g!==void 0?g:v!==void 0?v:f},c=this._private={container:i,ready:!1,options:s,elements:new Ht(this),listeners:[],aniEles:new Ht(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:le(s.zoom)?s.zoom:1,pan:{x:Ye(s.pan)&&le(s.pan.x)?s.pan.x:0,y:Ye(s.pan)&&le(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var d=function(f,g){var v=f.some(eg);if(v)return Jn.all(f).then(g);g(f)};c.styleEnabled&&r.setStyle([]);var u=ke({},s,s.renderer);r.initRenderer(u);var h=function(f,g,v){r.notifications(!1);var p=r.mutableElements();p.length>0&&p.remove(),f!=null&&(Ye(f)||ft(f))&&r.add(f),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",v),r.emit("done")});var y=ke({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};d([s.style,s.elements],function(m){var f=m[0],g=m[1];c.styleEnabled&&r.style().append(f),h(g,function(){r.startAnimationLoop(),c.ready=!0,_t(s.ready)&&r.on("ready",s.ready);for(var v=0;v<a.length;v++){var p=a[v];r.on("ready",p)}n&&(n.readies=[]),r.emit("ready")},s.done)})},Ms=no.prototype;ke(Ms,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ot;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ot:r.defaultView||Ot},mount:function(e){if(e!=null){var r=this,i=r._private,n=i.options;return!Cs(e)&&Cs(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),i.container=e,i.styleEnabled=!0,r.invalidateSize(),r.initRenderer(ke({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),r.startAnimationLoop(),r.style(n.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Qi(this._private.options)},json:function(e){var r=this,i=r._private,n=r.mutableElements(),a=function(_){return r.getElementById(_.id())};if(Ye(e)){if(r.startBatch(),e.elements){var o={},s=function(_,C){for(var w=[],x=[],D=0;D<_.length;D++){var E=_[D];if(!E.data.id){ot("cy.json() cannot handle elements without an ID attribute");continue}var M=""+E.data.id,I=r.getElementById(M);o[M]=!0,I.length!==0?x.push({ele:I,json:E}):(C&&(E.group=C),w.push(E))}r.add(w);for(var A=0;A<x.length;A++){var T=x[A],S=T.ele,F=T.json;S.json(F)}};if(ft(e.elements))s(e.elements);else for(var l=["nodes","edges"],c=0;c<l.length;c++){var d=l[c],u=e.elements[d];ft(u)&&s(u,d)}var h=r.collection();n.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?h.merge(b):b.remove()}),h.forEach(function(b){return b.children().move({parent:null})}),h.forEach(function(b){return a(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==i.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==i.pan.x||e.pan.y!==i.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<m.length;f++){var g=m[f];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var v=!!e,p={};v?p.elements=this.elements().map(function(b){return b.json()}):(p.elements={},n.forEach(function(b){var _=b.group();p.elements[_]||(p.elements[_]=[]),p.elements[_].push(b.json())})),this._private.styleEnabled&&(p.style=r.style().json()),p.data=Qi(r.data());var y=i.options;return p.zoomingEnabled=i.zoomingEnabled,p.userZoomingEnabled=i.userZoomingEnabled,p.zoom=i.zoom,p.minZoom=i.minZoom,p.maxZoom=i.maxZoom,p.panningEnabled=i.panningEnabled,p.userPanningEnabled=i.userPanningEnabled,p.pan=Qi(i.pan),p.boxSelectionEnabled=i.boxSelectionEnabled,p.renderer=Qi(y.renderer),p.hideEdgesOnViewport=y.hideEdgesOnViewport,p.textureOnViewport=y.textureOnViewport,p.wheelSensitivity=y.wheelSensitivity,p.motionBlur=y.motionBlur,p.multiClickDebounceTime=y.multiClickDebounceTime,p}}});Ms.$id=Ms.getElementById;[zx,qx,em,pc,ys,Gx,vc,_s,Zx,mn,ro].forEach(function(t){ke(Ms,t)});var Qx={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Jx={maximal:!1,acyclic:!1},Vn=function(e){return e.scratch("breadthfirst")},Sh=function(e,r){return e.scratch("breadthfirst",r)};function tm(t){this.options=ke({},Qx,Jx,t)}tm.prototype.run=function(){var t=this.options,e=t,r=t.cy,i=e.eles,n=i.nodes().filter(function(se){return!se.isParent()}),a=i,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=hi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c;if(fi(e.roots))c=e.roots;else if(ft(e.roots)){for(var d=[],u=0;u<e.roots.length;u++){var h=e.roots[u],m=r.getElementById(h);d.push(m)}c=r.collection(d)}else if(ye(e.roots))c=r.$(e.roots);else if(o)c=n.roots();else{var f=i.components();c=r.collection();for(var g=function(ce){var he=f[ce],ge=he.maxDegree(!1),me=he.filter(function(we){return we.degree(!1)===ge});c=c.add(me)},v=0;v<f.length;v++)g(v)}var p=[],y={},b=function(ce,he){p[he]==null&&(p[he]=[]);var ge=p[he].length;p[he].push(ce),Sh(ce,{index:ge,depth:he})},_=function(ce,he){var ge=Vn(ce),me=ge.depth,we=ge.index;p[me][we]=null,b(ce,he)};a.bfs({roots:c,directed:e.directed,visit:function(ce,he,ge,me,we){var nt=ce[0],$e=nt.id();b(nt,we),y[$e]=!0}});for(var C=[],w=0;w<n.length;w++){var x=n[w];y[x.id()]||C.push(x)}var D=function(ce){for(var he=p[ce],ge=0;ge<he.length;ge++){var me=he[ge];if(me==null){he.splice(ge,1),ge--;continue}Sh(me,{depth:ce,index:ge})}},E=function(){for(var ce=0;ce<p.length;ce++)D(ce)},M=function(ce,he){for(var ge=Vn(ce),me=ce.incomers().filter(function(k){return k.isNode()&&i.has(k)}),we=-1,nt=ce.id(),$e=0;$e<me.length;$e++){var Le=me[$e],Ke=Vn(Le);we=Math.max(we,Ke.depth)}if(ge.depth<=we){if(!e.acyclic&&he[nt])return null;var Q=we+1;return _(ce,Q),he[nt]=Q,!0}return!1};if(o&&s){var I=[],A={},T=function(ce){return I.push(ce)},S=function(){return I.shift()};for(n.forEach(function(se){return I.push(se)});I.length>0;){var F=S(),O=M(F,A);if(O)F.outgoers().filter(function(se){return se.isNode()&&i.has(se)}).forEach(T);else if(O===null){ot("Detected double maximal shift for node `"+F.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var R=0;if(e.avoidOverlap)for(var P=0;P<n.length;P++){var j=n[P],H=j.layoutDimensions(e),V=H.w,N=H.h;R=Math.max(R,V,N)}var $={},X=function(ce){if($[ce.id()])return $[ce.id()];for(var he=Vn(ce).depth,ge=ce.neighborhood(),me=0,we=0,nt=0;nt<ge.length;nt++){var $e=ge[nt];if(!($e.isEdge()||$e.isParent()||!n.has($e))){var Le=Vn($e);if(Le!=null){var Ke=Le.index,Q=Le.depth;if(!(Ke==null||Q==null)){var k=p[Q].length;Q<he&&(me+=Ke/k,we++)}}}}return we=Math.max(1,we),me=me/we,we===0&&(me=0),$[ce.id()]=me,me},J=function(ce,he){var ge=X(ce),me=X(he),we=ge-me;return we===0?ef(ce.id(),he.id()):we};e.depthSort!==void 0&&(J=e.depthSort);for(var ee=0;ee<p.length;ee++)p[ee].sort(J),D(ee);for(var te=[],G=0;G<C.length;G++)te.push(C[G]);p.unshift(te),E();for(var L=0,Y=0;Y<p.length;Y++)L=Math.max(p[Y].length,L);var K={x:l.x1+l.w/2,y:l.x1+l.h/2},de=p.reduce(function(se,ce){return Math.max(se,ce.length)},0),_e=function(ce){var he=Vn(ce),ge=he.depth,me=he.index,we=p[ge].length,nt=Math.max(l.w/((e.grid?de:we)+1),R),$e=Math.max(l.h/(p.length+1),R),Le=Math.min(l.w/2/p.length,l.h/2/p.length);if(Le=Math.max(Le,R),e.circle){var Q=Le*ge+Le-(p.length>0&&p[0].length<=3?Le/2:0),k=2*Math.PI/p[ge].length*me;return ge===0&&p[0].length===1&&(Q=1),{x:K.x+Q*Math.cos(k),y:K.y+Q*Math.sin(k)}}else{var Ke={x:K.x+(me+1-(we+1)/2)*nt,y:(ge+1)*$e};return Ke}};return i.nodes().layoutPositions(this,e,_e),this};var ew={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function im(t){this.options=ke({},ew,t)}im.prototype.run=function(){var t=this.options,e=t,r=t.cy,i=e.eles,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=i.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=hi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,c=l/Math.max(1,a.length-1),d,u=0,h=0;h<a.length;h++){var m=a[h],f=m.layoutDimensions(e),g=f.w,v=f.h;u=Math.max(u,g,v)}if(le(e.radius)?d=e.radius:a.length<=1?d=0:d=Math.min(o.h,o.w)/2-u,a.length>1&&e.avoidOverlap){u*=1.75;var p=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),b=Math.sqrt(u*u/(p*p+y*y));d=Math.max(b,d)}var _=function(w,x){var D=e.startAngle+x*c*(n?1:-1),E=d*Math.cos(D),M=d*Math.sin(D),I={x:s.x+E,y:s.y+M};return I};return i.nodes().layoutPositions(this,e,_),this};var tw={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function rm(t){this.options=ke({},tw,t)}rm.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=t.cy,n=e.eles,a=n.nodes().not(":parent"),o=hi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],c=0,d=0;d<a.length;d++){var u=a[d],h=void 0;h=e.concentric(u),l.push({value:h,node:u}),u._private.scratch.concentric=h}a.updateStyle();for(var m=0;m<a.length;m++){var f=a[m],g=f.layoutDimensions(e);c=Math.max(c,g.w,g.h)}l.sort(function(se,ce){return ce.value-se.value});for(var v=e.levelWidth(a),p=[[]],y=p[0],b=0;b<l.length;b++){var _=l[b];if(y.length>0){var C=Math.abs(y[0].value-_.value);C>=v&&(y=[],p.push(y))}y.push(_)}var w=c+e.minNodeSpacing;if(!e.avoidOverlap){var x=p.length>0&&p[0].length>1,D=Math.min(o.w,o.h)/2-w,E=D/(p.length+x?1:0);w=Math.min(w,E)}for(var M=0,I=0;I<p.length;I++){var A=p[I],T=e.sweep===void 0?2*Math.PI-2*Math.PI/A.length:e.sweep,S=A.dTheta=T/Math.max(1,A.length-1);if(A.length>1&&e.avoidOverlap){var F=Math.cos(S)-Math.cos(0),O=Math.sin(S)-Math.sin(0),R=Math.sqrt(w*w/(F*F+O*O));M=Math.max(R,M)}A.r=M,M+=w}if(e.equidistant){for(var P=0,j=0,H=0;H<p.length;H++){var V=p[H],N=V.r-j;P=Math.max(P,N)}j=0;for(var $=0;$<p.length;$++){var X=p[$];$===0&&(j=X.r),X.r=j,j+=P}}for(var J={},ee=0;ee<p.length;ee++)for(var te=p[ee],G=te.dTheta,L=te.r,Y=0;Y<te.length;Y++){var K=te[Y],de=e.startAngle+(r?1:-1)*G*Y,_e={x:s.x+L*Math.cos(de),y:s.y+L*Math.sin(de)};J[K.node.id()]=_e}return n.nodes().layoutPositions(this,e,function(se){var ce=se.id();return J[ce]}),this};var ac,iw={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ks(t){this.options=ke({},iw,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),i=r.filter(function(n){var a=n.source().data("id"),o=n.target().data("id"),s=e.some(function(c){return c.data("id")===a}),l=e.some(function(c){return c.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(i)}Ks.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?ac=!0:ac=!1;var i=rw(e,r,t);ac&&ow(i),t.randomize&&sw(i);var n=dr(),a=function(){lw(i,e,t),t.fit===!0&&e.fit(t.padding)},o=function(h){return!(r.stopped||h>=t.numIter||(cw(i,t),i.temperature=i.temperature*t.coolingFactor,i.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),m=nm(i,t,h);h.layoutPositions(r,t,m)}},l=0,c=!0;if(t.animate===!0){var d=function u(){for(var h=0;c&&h<t.refresh;)c=o(l),l++,h++;if(!c)Ah(i,t),s();else{var m=dr();m-n>=t.animationThreshold&&a(),Es(u)}};d()}else{for(;c;)c=o(l),l++;Ah(i,t),s()}return this};Ks.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ks.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var rw=function(e,r,i){for(var n=i.eles.edges(),a=i.eles.nodes(),o=hi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:i.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=i.eles.components(),c={},d=0;d<l.length;d++)for(var u=l[d],h=0;h<u.length;h++){var m=u[h];c[m.id()]=d}for(var d=0;d<s.nodeSize;d++){var f=a[d],g=f.layoutDimensions(i),v={};v.isLocked=f.locked(),v.id=f.data("id"),v.parentId=f.data("parent"),v.cmptId=c[f.id()],v.children=[],v.positionX=f.position("x"),v.positionY=f.position("y"),v.offsetX=0,v.offsetY=0,v.height=g.w,v.width=g.h,v.maxX=v.positionX+v.width/2,v.minX=v.positionX-v.width/2,v.maxY=v.positionY+v.height/2,v.minY=v.positionY-v.height/2,v.padLeft=parseFloat(f.style("padding")),v.padRight=parseFloat(f.style("padding")),v.padTop=parseFloat(f.style("padding")),v.padBottom=parseFloat(f.style("padding")),v.nodeRepulsion=_t(i.nodeRepulsion)?i.nodeRepulsion(f):i.nodeRepulsion,s.layoutNodes.push(v),s.idToIndex[v.id]=d}for(var p=[],y=0,b=-1,_=[],d=0;d<s.nodeSize;d++){var f=s.layoutNodes[d],C=f.parentId;C!=null?s.layoutNodes[s.idToIndex[C]].children.push(f.id):(p[++b]=f.id,_.push(f.id))}for(s.graphSet.push(_);y<=b;){var w=p[y++],x=s.idToIndex[w],m=s.layoutNodes[x],D=m.children;if(D.length>0){s.graphSet.push(D);for(var d=0;d<D.length;d++)p[++b]=D[d]}}for(var d=0;d<s.graphSet.length;d++)for(var E=s.graphSet[d],h=0;h<E.length;h++){var M=s.idToIndex[E[h]];s.indexToGraph[M]=d}for(var d=0;d<s.edgeSize;d++){var I=n[d],A={};A.id=I.data("id"),A.sourceId=I.data("source"),A.targetId=I.data("target");var T=_t(i.idealEdgeLength)?i.idealEdgeLength(I):i.idealEdgeLength,S=_t(i.edgeElasticity)?i.edgeElasticity(I):i.edgeElasticity,F=s.idToIndex[A.sourceId],O=s.idToIndex[A.targetId],R=s.indexToGraph[F],P=s.indexToGraph[O];if(R!=P){for(var j=nw(A.sourceId,A.targetId,s),H=s.graphSet[j],V=0,v=s.layoutNodes[F];H.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],V++;for(v=s.layoutNodes[O];H.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],V++;T*=V*i.nestingFactor}A.idealLength=T,A.elasticity=S,s.layoutEdges.push(A)}return s},nw=function(e,r,i){var n=aw(e,r,0,i);return 2>n.count?0:n.graph},aw=function t(e,r,i,n){var a=n.graphSet[i];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:i};for(var o=0,s=0;s<a.length;s++){var l=a[s],c=n.idToIndex[l],d=n.layoutNodes[c].children;if(d.length!==0){var u=n.indexToGraph[n.idToIndex[d[0]]],h=t(e,r,u,n);if(h.count!==0)if(h.count===1){if(o++,o===2)break}else return h}}return{count:o,graph:i}},ow,sw=function(e,r){for(var i=e.clientWidth,n=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*i,o.positionY=Math.random()*n)}},nm=function(e,r,i){var n=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(i.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var c=(l.positionX-a.x1)/a.w,d=(l.positionY-a.y1)/a.h;return{x:n.x1+c*n.w,y:n.y1+d*n.h}}else return{x:l.positionX,y:l.positionY}}},lw=function(e,r,i){var n=i.layout,a=i.eles.nodes(),o=nm(e,i,a);a.positions(o),e.ready!==!0&&(e.ready=!0,n.one("layoutready",i.ready),n.emit({type:"layoutready",layout:this}))},cw=function(e,r,i){dw(e,r),fw(e),mw(e,r),pw(e),vw(e)},dw=function(e,r){for(var i=0;i<e.graphSet.length;i++)for(var n=e.graphSet[i],a=n.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[n[o]]],l=o+1;l<a;l++){var c=e.layoutNodes[e.idToIndex[n[l]]];uw(s,c,e,r)}},Ih=function(e){return-e+2*e*Math.random()},uw=function(e,r,i,n){var a=e.cmptId,o=r.cmptId;if(!(a!==o&&!i.isCompound)){var s=r.positionX-e.positionX,l=r.positionY-e.positionY,c=1;s===0&&l===0&&(s=Ih(c),l=Ih(c));var d=hw(e,r,s,l);if(d>0)var u=n.nodeOverlap*d,h=Math.sqrt(s*s+l*l),m=u*s/h,f=u*l/h;else var g=Ts(e,s,l),v=Ts(r,-1*s,-1*l),p=v.x-g.x,y=v.y-g.y,b=p*p+y*y,h=Math.sqrt(b),u=(e.nodeRepulsion+r.nodeRepulsion)/b,m=u*p/h,f=u*y/h;e.isLocked||(e.offsetX-=m,e.offsetY-=f),r.isLocked||(r.offsetX+=m,r.offsetY+=f)}},hw=function(e,r,i,n){if(i>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(n>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},Ts=function(e,r,i){var n=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,l=i/r,c=o/s,d={};return r===0&&0<i||r===0&&0>i?(d.x=n,d.y=a+o/2,d):0<r&&-1*c<=l&&l<=c?(d.x=n+s/2,d.y=a+s*i/2/r,d):0>r&&-1*c<=l&&l<=c?(d.x=n-s/2,d.y=a-s*i/2/r,d):0<i&&(l<=-1*c||l>=c)?(d.x=n+o*r/2/i,d.y=a+o/2,d):(0>i&&(l<=-1*c||l>=c)&&(d.x=n-o*r/2/i,d.y=a-o/2),d)},fw=function(e,r){for(var i=0;i<e.edgeSize;i++){var n=e.layoutEdges[i],a=e.idToIndex[n.sourceId],o=e.layoutNodes[a],s=e.idToIndex[n.targetId],l=e.layoutNodes[s],c=l.positionX-o.positionX,d=l.positionY-o.positionY;if(!(c===0&&d===0)){var u=Ts(o,c,d),h=Ts(l,-1*c,-1*d),m=h.x-u.x,f=h.y-u.y,g=Math.sqrt(m*m+f*f),v=Math.pow(n.idealLength-g,2)/n.elasticity;if(g!==0)var p=v*m/g,y=v*f/g;else var p=0,y=0;o.isLocked||(o.offsetX+=p,o.offsetY+=y),l.isLocked||(l.offsetX-=p,l.offsetY-=y)}}},mw=function(e,r){if(r.gravity!==0)for(var i=1,n=0;n<e.graphSet.length;n++){var a=e.graphSet[n],o=a.length;if(n===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[a[0]]],d=e.layoutNodes[e.idToIndex[c.parentId]],s=d.positionX,l=d.positionY;for(var u=0;u<o;u++){var h=e.layoutNodes[e.idToIndex[a[u]]];if(!h.isLocked){var m=s-h.positionX,f=l-h.positionY,g=Math.sqrt(m*m+f*f);if(g>i){var v=r.gravity*m/g,p=r.gravity*f/g;h.offsetX+=v,h.offsetY+=p}}}}},pw=function(e,r){var i=[],n=0,a=-1;for(i.push.apply(i,e.graphSet[0]),a+=e.graphSet[0].length;n<=a;){var o=i[n++],s=e.idToIndex[o],l=e.layoutNodes[s],c=l.children;if(0<c.length&&!l.isLocked){for(var d=l.offsetX,u=l.offsetY,h=0;h<c.length;h++){var m=e.layoutNodes[e.idToIndex[c[h]]];m.offsetX+=d,m.offsetY+=u,i[++a]=c[h]}l.offsetX=0,l.offsetY=0}}},vw=function(e,r){for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];if(!(0<n.children.length||n.isLocked)){var a=gw(n.offsetX,n.offsetY,e.temperature);n.positionX+=a.x,n.positionY+=a.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,bw(n,e)}}for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},gw=function(e,r,i){var n=Math.sqrt(e*e+r*r);if(n>i)var a={x:i*e/n,y:i*r/n};else var a={x:e,y:r};return a},bw=function t(e,r){var i=e.parentId;if(i!=null){var n=r.layoutNodes[r.idToIndex[i]],a=!1;if((n.maxX==null||e.maxX+n.padRight>n.maxX)&&(n.maxX=e.maxX+n.padRight,a=!0),(n.minX==null||e.minX-n.padLeft<n.minX)&&(n.minX=e.minX-n.padLeft,a=!0),(n.maxY==null||e.maxY+n.padBottom>n.maxY)&&(n.maxY=e.maxY+n.padBottom,a=!0),(n.minY==null||e.minY-n.padTop<n.minY)&&(n.minY=e.minY-n.padTop,a=!0),a)return t(n,r)}},Ah=function(e,r){for(var i=e.layoutNodes,n=[],a=0;a<i.length;a++){var o=i[a],s=o.cmptId,l=n[s]=n[s]||[];l.push(o)}for(var c=0,a=0;a<n.length;a++){var d=n[a];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var u=0;u<d.length;u++){var h=d[u];d.x1=Math.min(d.x1,h.positionX-h.width/2),d.x2=Math.max(d.x2,h.positionX+h.width/2),d.y1=Math.min(d.y1,h.positionY-h.height/2),d.y2=Math.max(d.y2,h.positionY+h.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}n.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var m=0,f=0,g=0,v=0,p=Math.sqrt(c)*e.clientWidth/e.clientHeight,a=0;a<n.length;a++){var d=n[a];if(d){for(var u=0;u<d.length;u++){var h=d[u];h.isLocked||(h.positionX+=m-d.x1,h.positionY+=f-d.y1)}m+=d.w+r.componentSpacing,g+=d.w+r.componentSpacing,v=Math.max(v,d.h),g>p&&(f+=v+r.componentSpacing,m=0,g=0,v=0)}}},yw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function am(t){this.options=ke({},yw,t)}am.prototype.run=function(){var t=this.options,e=t,r=t.cy,i=e.eles,n=i.nodes().not(":parent");e.sort&&(n=n.sort(e.sort));var a=hi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)i.nodes().layoutPositions(this,e,function($){return{x:a.x1,y:a.y1}});else{var o=n.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),c=Math.round(a.w/a.h*s),d=function(X){if(X==null)return Math.min(l,c);var J=Math.min(l,c);J==l?l=X:c=X},u=function(X){if(X==null)return Math.max(l,c);var J=Math.max(l,c);J==l?l=X:c=X},h=e.rows,m=e.cols!=null?e.cols:e.columns;if(h!=null&&m!=null)l=h,c=m;else if(h!=null&&m==null)l=h,c=Math.ceil(o/l);else if(h==null&&m!=null)c=m,l=Math.ceil(o/c);else if(c*l>o){var f=d(),g=u();(f-1)*g>=o?d(f-1):(g-1)*f>=o&&u(g-1)}else for(;c*l<o;){var v=d(),p=u();(p+1)*v>=o?u(p+1):d(v+1)}var y=a.w/c,b=a.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var _=0;_<n.length;_++){var C=n[_],w=C._private.position;(w.x==null||w.y==null)&&(w.x=0,w.y=0);var x=C.layoutDimensions(e),D=e.avoidOverlapPadding,E=x.w+D,M=x.h+D;y=Math.max(y,E),b=Math.max(b,M)}for(var I={},A=function(X,J){return!!I["c-"+X+"-"+J]},T=function(X,J){I["c-"+X+"-"+J]=!0},S=0,F=0,O=function(){F++,F>=c&&(F=0,S++)},R={},P=0;P<n.length;P++){var j=n[P],H=e.position(j);if(H&&(H.row!==void 0||H.col!==void 0)){var V={row:H.row,col:H.col};if(V.col===void 0)for(V.col=0;A(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;A(V.row,V.col);)V.row++;R[j.id()]=V,T(V.row,V.col)}}var N=function(X,J){var ee,te;if(X.locked()||X.isParent())return!1;var G=R[X.id()];if(G)ee=G.col*y+y/2+a.x1,te=G.row*b+b/2+a.y1;else{for(;A(S,F);)O();ee=F*y+y/2+a.x1,te=S*b+b/2+a.y1,T(S,F),O()}return{x:ee,y:te}};n.layoutPositions(this,e,N)}return this};var _w={ready:function(){},stop:function(){}};function Wc(t){this.options=ke({},_w,t)}Wc.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Wc.prototype.stop=function(){return this};var xw={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function om(t){this.options=ke({},xw,t)}om.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),i=_t(t.positions);function n(a){if(t.positions==null)return kb(a.position());if(i)return t.positions(a);var o=t.positions[a._private.data.id];return o??null}return r.layoutPositions(this,t,function(a,o){var s=n(a);return a.locked()||s==null?!1:s}),this};var ww={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sm(t){this.options=ke({},ww,t)}sm.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,i=hi(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),n=function(o,s){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};return r.nodes().layoutPositions(this,t,n),this};var Cw=[{name:"breadthfirst",impl:tm},{name:"circle",impl:im},{name:"concentric",impl:rm},{name:"cose",impl:Ks},{name:"grid",impl:am},{name:"null",impl:Wc},{name:"preset",impl:om},{name:"random",impl:sm}];function lm(t){this.options=t,this.notifications=0}var Mh=function(){},Th=function(){throw new Error("A headless instance can not render images")};lm.prototype={recalculateRenderedStyle:Mh,notify:function(){this.notifications++},init:Mh,isHeadless:function(){return!0},png:Th,jpg:Th};var qc={};qc.arrowShapeWidth=.3;qc.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(c,d,u,h,m,f,g){var v=m.x-u/2-g,p=m.x+u/2+g,y=m.y-u/2-g,b=m.y+u/2+g,_=v<=c&&c<=p&&y<=d&&d<=b;return _},i=function(c,d,u,h,m){var f=c*Math.cos(h)-d*Math.sin(h),g=c*Math.sin(h)+d*Math.cos(h),v=f*u,p=g*u,y=v+m.x,b=p+m.y;return{x:y,y:b}},n=function(c,d,u,h){for(var m=[],f=0;f<c.length;f+=2){var g=c[f],v=c[f+1];m.push(i(g,v,d,u,h))}return m},a=function(c){for(var d=[],u=0;u<c.length;u++){var h=c[u];d.push(h.x,h.y)}return d},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},s=function(c,d){ye(d)&&(d=t[d]),t[c]=ke({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,m,f,g,v,p){var y=a(n(this.points,f+2*p,g,v)),b=ui(h,m,y);return b},roughCollide:r,draw:function(h,m,f,g){var v=n(this.points,m,f,g);e.arrowShapeImpl("polygon")(h,v)},spacing:function(h){return 0},gap:o},d)};s("none",{collide:ks,roughCollide:ks,draw:Mc,spacing:ju,gap:ju}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=this.controlPoint,v=i(g[0],g[1],d,u,h);e.arrowShapeImpl(this.name)(c,f,v)},gap:function(c){return o(c)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,u,h,m,f,g){var v=a(n(this.points,u+2*g,h,m)),p=a(n(this.pointsTee,u+2*g,h,m)),y=ui(c,d,v)||ui(c,d,p);return y},draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=n(this.pointsTee,d,u,h);e.arrowShapeImpl(this.name)(c,f,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,u,h,m,f,g){var v=m,p=Math.pow(v.x-c,2)+Math.pow(v.y-d,2)<=Math.pow((u+2*g)*this.radius,2),y=a(n(this.points,u+2*g,h,m));return ui(c,d,y)||p},draw:function(c,d,u,h,m){var f=n(this.pointsTr,d,u,h);e.arrowShapeImpl(this.name)(c,f,h.x,h.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var u=this.baseCrossLinePts.slice(),h=d/c,m=3,f=5;return u[m]=u[m]-h,u[f]=u[f]-h,u},collide:function(c,d,u,h,m,f,g){var v=a(n(this.points,u+2*g,h,m)),p=a(n(this.crossLinePts(u,f),u+2*g,h,m)),y=ui(c,d,v)||ui(c,d,p);return y},draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=n(this.crossLinePts(d,m),d,u,h);e.arrowShapeImpl(this.name)(c,f,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),s("circle",{radius:.15,collide:function(c,d,u,h,m,f,g){var v=m,p=Math.pow(v.x-c,2)+Math.pow(v.y-d,2)<=Math.pow((u+2*g)*this.radius,2);return p},draw:function(c,d,u,h,m){e.arrowShapeImpl(this.name)(c,h.x,h.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var vn={};vn.projectIntoViewport=function(t,e){var r=this.cy,i=this.findContainerClientCoords(),n=i[0],a=i[1],o=i[4],s=r.pan(),l=r.zoom(),c=((t-n)/o-s.x)/l,d=((e-a)/o-s.y)/l;return[c,d]};vn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),i=function(p){return parseFloat(r.getPropertyValue(p))},n={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,l=n.left+n.right,c=n.top+n.bottom,d=a.left+a.right,u=e.width/(o+d),h=o-l,m=s-c,f=e.left+n.left+a.left,g=e.top+n.top+a.top;return this.containerBB=[f,g,h,m,u]};vn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};vn.findNearestElement=function(t,e,r,i){return this.findNearestElements(t,e,r,i)[0]};vn.findNearestElements=function(t,e,r,i){var n=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),c=a.cy.hasCompoundNodes(),d=(i?24:8)/l,u=(i?8:2)/l,h=(i?8:2)/l,m=1/0,f,g;r&&(o=o.interactive);function v(x,D){if(x.isNode()){if(g)return;g=x,s.push(x)}if(x.isEdge()&&(D==null||D<m))if(f){if(f.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&f.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var E=0;E<s.length;E++)if(s[E].isEdge()){s[E]=x,f=x,m=D??m;break}}}else s.push(x),f=x,m=D??m}function p(x){var D=x.outerWidth()+2*u,E=x.outerHeight()+2*u,M=D/2,I=E/2,A=x.position(),T=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,S=x._private.rscratch;if(A.x-M<=t&&t<=A.x+M&&A.y-I<=e&&e<=A.y+I){var F=a.nodeShapes[n.getNodeShape(x)];if(F.checkPoint(t,e,0,D,E,A.x,A.y,T,S))return v(x,0),!0}}function y(x){var D=x._private,E=D.rscratch,M=x.pstyle("width").pfValue,I=x.pstyle("arrow-scale").value,A=M/2+d,T=A*A,S=A*2,P=D.source,j=D.target,F;if(E.edgeType==="segments"||E.edgeType==="straight"||E.edgeType==="haystack"){for(var O=E.allpts,R=0;R+3<O.length;R+=2)if(Bb(t,e,O[R],O[R+1],O[R+2],O[R+3],S)&&T>(F=Ub(t,e,O[R],O[R+1],O[R+2],O[R+3])))return v(x,F),!0}else if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"){for(var O=E.allpts,R=0;R+5<E.allpts.length;R+=4)if(Vb(t,e,O[R],O[R+1],O[R+2],O[R+3],O[R+4],O[R+5],S)&&T>(F=Hb(t,e,O[R],O[R+1],O[R+2],O[R+3],O[R+4],O[R+5])))return v(x,F),!0}for(var P=P||D.source,j=j||D.target,H=n.getArrowWidth(M,I),V=[{name:"source",x:E.arrowStartX,y:E.arrowStartY,angle:E.srcArrowAngle},{name:"target",x:E.arrowEndX,y:E.arrowEndY,angle:E.tgtArrowAngle},{name:"mid-source",x:E.midX,y:E.midY,angle:E.midsrcArrowAngle},{name:"mid-target",x:E.midX,y:E.midY,angle:E.midtgtArrowAngle}],R=0;R<V.length;R++){var N=V[R],$=a.arrowShapes[x.pstyle(N.name+"-arrow-shape").value],X=x.pstyle("width").pfValue;if($.roughCollide(t,e,H,N.angle,{x:N.x,y:N.y},X,d)&&$.collide(t,e,H,N.angle,{x:N.x,y:N.y},X,d))return v(x),!0}c&&s.length>0&&(p(P),p(j))}function b(x,D,E){return Ni(x,D,E)}function _(x,D){var E=x._private,M=h,I;D?I=D+"-":I="",x.boundingBox();var A=E.labelBounds[D||"main"],T=x.pstyle(I+"label").value,S=x.pstyle("text-events").strValue==="yes";if(!(!S||!T)){var F=b(E.rscratch,"labelX",D),O=b(E.rscratch,"labelY",D),R=b(E.rscratch,"labelAngle",D),P=x.pstyle(I+"text-margin-x").pfValue,j=x.pstyle(I+"text-margin-y").pfValue,H=A.x1-M-P,V=A.x2+M-P,N=A.y1-M-j,$=A.y2+M-j;if(R){var X=Math.cos(R),J=Math.sin(R),ee=function(_e,se){return _e=_e-F,se=se-O,{x:_e*X-se*J+F,y:_e*J+se*X+O}},te=ee(H,N),G=ee(H,$),L=ee(V,N),Y=ee(V,$),K=[te.x+P,te.y+j,L.x+P,L.y+j,Y.x+P,Y.y+j,G.x+P,G.y+j];if(ui(t,e,K))return v(x),!0}else if(Kn(A,t,e))return v(x),!0}}for(var C=o.length-1;C>=0;C--){var w=o[C];w.isNode()?p(w)||_(w):y(w)||_(w)||_(w,"source")||_(w,"target")}return s};vn.getAllInBox=function(t,e,r,i){var n=this.getCachedZSortedEles().interactive,a=[],o=Math.min(t,r),s=Math.max(t,r),l=Math.min(e,i),c=Math.max(e,i);t=o,r=s,e=l,i=c;for(var d=hi({x1:t,y1:e,x2:r,y2:i}),u=0;u<n.length;u++){var h=n[u];if(h.isNode()){var m=h,f=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Rc(d,f)&&!gf(f,d)&&a.push(m)}else{var g=h,v=g._private,p=v.rscratch;if(p.startX!=null&&p.startY!=null&&!Kn(d,p.startX,p.startY)||p.endX!=null&&p.endY!=null&&!Kn(d,p.endX,p.endY))continue;if(p.edgeType==="bezier"||p.edgeType==="multibezier"||p.edgeType==="self"||p.edgeType==="compound"||p.edgeType==="segments"||p.edgeType==="haystack"){for(var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,b=!0,_=0;_<y.length;_++)if(!Nb(d,y[_])){b=!1;break}b&&a.push(g)}else(p.edgeType==="haystack"||p.edgeType==="straight")&&a.push(g)}}return a};var Os={};Os.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",i=e.edgeType==="bezier",n=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,c,d,u,h,m,p,y;if(r?(d=e.haystackPts[0],u=e.haystackPts[1],h=e.haystackPts[2],m=e.haystackPts[3]):(d=e.arrowStartX,u=e.arrowStartY,h=e.arrowEndX,m=e.arrowEndY),p=e.midX,y=e.midY,a)l=d-e.segpts[0],c=u-e.segpts[1];else if(n||o||s||i){var f=e.allpts,g=Nt(f[0],f[2],f[4],.1),v=Nt(f[1],f[3],f[5],.1);l=d-g,c=u-v}else l=d-p,c=u-y;e.srcArrowAngle=rs(l,c);var p=e.midX,y=e.midY;if(r&&(p=(d+h)/2,y=(u+m)/2),l=h-d,c=m-u,a){var f=e.allpts;if(f.length/2%2===0){var b=f.length/2,_=b-2;l=f[b]-f[_],c=f[b+1]-f[_+1]}else if(e.isRound)l=e.midVector[1],c=-e.midVector[0];else{var b=f.length/2-1,_=b-2;l=f[b]-f[_],c=f[b+1]-f[_+1]}}else if(n||o||s){var f=e.allpts,C=e.ctrlpts,w,x,D,E;if(C.length/2%2===0){var M=f.length/2-1,I=M+2,A=I+2;w=Nt(f[M],f[I],f[A],0),x=Nt(f[M+1],f[I+1],f[A+1],0),D=Nt(f[M],f[I],f[A],1e-4),E=Nt(f[M+1],f[I+1],f[A+1],1e-4)}else{var I=f.length/2-1,M=I-2,A=I+2;w=Nt(f[M],f[I],f[A],.4999),x=Nt(f[M+1],f[I+1],f[A+1],.4999),D=Nt(f[M],f[I],f[A],.5),E=Nt(f[M+1],f[I+1],f[A+1],.5)}l=D-w,c=E-x}if(e.midtgtArrowAngle=rs(l,c),e.midDispX=l,e.midDispY=c,l*=-1,c*=-1,a){var f=e.allpts;if(f.length/2%2!==0){if(!e.isRound){var b=f.length/2-1,T=b+2;l=-(f[T]-f[b]),c=-(f[T+1]-f[b+1])}}}if(e.midsrcArrowAngle=rs(l,c),a)l=h-e.segpts[e.segpts.length-2],c=m-e.segpts[e.segpts.length-1];else if(n||o||s||i){var f=e.allpts,S=f.length,g=Nt(f[S-6],f[S-4],f[S-2],.9),v=Nt(f[S-5],f[S-3],f[S-1],.9);l=h-g,c=m-v}else l=h-p,c=m-y;e.tgtArrowAngle=rs(l,c)};Os.getArrowWidth=Os.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},i=r[t+", "+e];return i||(i=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=i,i)};var gc,bc,Xi={},wi={},Oh,Rh,sn,xs,cr,tn,on,Zi,zn,hs,cm,dm,yc,_c,Fh,Ph=function(e,r,i){i.x=r.x-e.x,i.y=r.y-e.y,i.len=Math.sqrt(i.x*i.x+i.y*i.y),i.nx=i.x/i.len,i.ny=i.y/i.len,i.ang=Math.atan2(i.ny,i.nx)},Ew=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},kw=function(e,r,i,n,a){if(e!==Fh?Ph(r,e,Xi):Ew(wi,Xi),Ph(r,i,wi),Oh=Xi.nx*wi.ny-Xi.ny*wi.nx,Rh=Xi.nx*wi.nx-Xi.ny*-wi.ny,cr=Math.asin(Math.max(-1,Math.min(1,Oh))),Math.abs(cr)<1e-6){gc=r.x,bc=r.y,on=zn=0;return}sn=1,xs=!1,Rh<0?cr<0?cr=Math.PI+cr:(cr=Math.PI-cr,sn=-1,xs=!0):cr>0&&(sn=-1,xs=!0),r.radius!==void 0?zn=r.radius:zn=n,tn=cr/2,hs=Math.min(Xi.len/2,wi.len/2),a?(Zi=Math.abs(Math.cos(tn)*zn/Math.sin(tn)),Zi>hs?(Zi=hs,on=Math.abs(Zi*Math.sin(tn)/Math.cos(tn))):on=zn):(Zi=Math.min(hs,zn),on=Math.abs(Zi*Math.sin(tn)/Math.cos(tn))),yc=r.x+wi.nx*Zi,_c=r.y+wi.ny*Zi,gc=yc-wi.ny*on*sn,bc=_c+wi.nx*on*sn,cm=r.x+Xi.nx*Zi,dm=r.y+Xi.ny*Zi,Fh=r};function um(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function $c(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return i===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(kw(t,e,r,i,n),{cx:gc,cy:bc,radius:on,startX:cm,startY:dm,stopX:yc,stopY:_c,startAngle:Xi.ang+Math.PI/2*sn,endAngle:wi.ang-Math.PI/2*sn,counterClockwise:xs})}var Jt={};Jt.findMidptPtsEtc=function(t,e){var r=e.posPts,i=e.intersectionPts,n=e.vectorNormInverse,a,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,c=function(C,w,x,D){var E=D-w,M=x-C,I=Math.sqrt(M*M+E*E);return{x:-E/I,y:M/I}},d=t.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=i;break;case"endpoints":{if(l){var u=this.manualEndptToPx(t.source()[0],o),h=Pi(u,2),m=h[0],f=h[1],g=this.manualEndptToPx(t.target()[0],s),v=Pi(g,2),p=v[0],y=v[1],b={x1:m,y1:f,x2:p,y2:y};n=c(m,f,p,y),a=b}else ot("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=i;break}}return{midptPts:a,vectorNormInverse:n}};Jt.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],i=r._private,n=i.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var o=i.source,s=i.target,l=o.position(),c=s.position(),d=o.width(),u=s.width(),h=o.height(),m=s.height(),f=r.pstyle("haystack-radius").value,g=f/2;n.haystackPts=n.allpts=[n.source.x*d*g+l.x,n.source.y*h*g+l.y,n.target.x*u*g+c.x,n.target.y*m*g+c.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Jt.findSegmentsPoints=function(t,e){var r=t._private.rscratch,i=t.pstyle("segment-weights"),n=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),s=Math.min(i.pfValue.length,n.pfValue.length),l=a.pfValue[a.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<s;d++){var u=i.pfValue[d],h=n.pfValue[d],m=1-u,f=u,g=this.findMidptPtsEtc(t,e),v=g.midptPts,p=g.vectorNormInverse,y={x:v.x1*m+v.x2*f,y:v.y1*m+v.y2*f};r.segpts.push(y.x+p.x*h,y.y+p.y*h),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:l),r.isArcRadius.push((o.pfValue[d]!==void 0?o.pfValue[d]:c)==="arc-radius")}};Jt.findLoopPoints=function(t,e,r,i){var n=t._private.rscratch,a=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;n.edgeType="self";var h=r,m=u;i&&(h=0,m=l);var f=c-Math.PI/2,g=f-d/2,v=f+d/2,p=c+"_"+d;h=a[p]===void 0?a[p]=0:++a[p],n.ctrlpts=[o.x+Math.cos(g)*1.4*m*(h/3+1),o.y+Math.sin(g)*1.4*m*(h/3+1),o.x+Math.cos(v)*1.4*m*(h/3+1),o.y+Math.sin(v)*1.4*m*(h/3+1)]};Jt.findCompoundLoopPoints=function(t,e,r,i){var n=t._private.rscratch;n.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,c=e.tgtW,d=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),m=h?h.pfValue[0]:void 0,f=r,g=u;i&&(f=0,g=m);var v=50,p={x:a.x-s/2,y:a.y-l/2},y={x:o.x-c/2,y:o.y-d/2},b={x:Math.min(p.x,y.x),y:Math.min(p.y,y.y)},_=.5,C=Math.max(_,Math.log(s*.01)),w=Math.max(_,Math.log(c*.01));n.ctrlpts=[b.x,b.y-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*C,b.x-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*w,b.y]};Jt.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Jt.findBezierPoints=function(t,e,r,i,n){var a=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),c=s&&l?Math.min(s.value.length,l.value.length):1,d=s?s.pfValue[0]:void 0,u=l.value[0],h=i;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var m=0;m<c;m++){var f=(.5-e.eles.length/2+r)*o*(n?-1:1),g=void 0,v=pf(f);h&&(d=s?s.pfValue[m]:o,u=l.value[m]),i?g=d:g=d!==void 0?v*d:void 0;var p=g!==void 0?g:f,y=1-u,b=u,_=this.findMidptPtsEtc(t,e),C=_.midptPts,w=_.vectorNormInverse,x={x:C.x1*y+C.x2*b,y:C.y1*y+C.y2*b};a.ctrlpts.push(x.x+w.x*p,x.y+w.y*p)}};Jt.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var i="vertical",n="horizontal",a="leftward",o="rightward",s="downward",l="upward",c="auto",d=e.posPts,u=e.srcW,h=e.srcH,m=e.tgtW,f=e.tgtH,g=t.pstyle("edge-distances").value,v=g!=="node-position",p=t.pstyle("taxi-direction").value,y=p,b=t.pstyle("taxi-turn"),_=b.units==="%",C=b.pfValue,w=C<0,x=t.pstyle("taxi-turn-min-distance").pfValue,D=v?(u+m)/2:0,E=v?(h+f)/2:0,M=d.x2-d.x1,I=d.y2-d.y1,A=function(Ce,Ee){return Ce>0?Math.max(Ce-Ee,0):Math.min(Ce+Ee,0)},T=A(M,D),S=A(I,E),F=!1;y===c?p=Math.abs(T)>Math.abs(S)?n:i:y===l||y===s?(p=i,F=!0):(y===a||y===o)&&(p=n,F=!0);var O=p===i,R=O?S:T,P=O?I:M,j=pf(P),H=!1;!(F&&(_||w))&&(y===s&&P<0||y===l&&P>0||y===a&&P>0||y===o&&P<0)&&(j*=-1,R=j*Math.abs(R),H=!0);var V;if(_){var N=C<0?1+C:C;V=N*R}else{var $=C<0?R:0;V=$+C*j}var X=function(Ce){return Math.abs(Ce)<x||Math.abs(Ce)>=Math.abs(R)},J=X(V),ee=X(Math.abs(R)-Math.abs(V)),te=J||ee;if(te&&!H)if(O){var G=Math.abs(P)<=h/2,L=Math.abs(M)<=m/2;if(G){var Y=(d.x1+d.x2)/2,K=d.y1,de=d.y2;r.segpts=[Y,K,Y,de]}else if(L){var _e=(d.y1+d.y2)/2,se=d.x1,ce=d.x2;r.segpts=[se,_e,ce,_e]}else r.segpts=[d.x1,d.y2]}else{var he=Math.abs(P)<=u/2,ge=Math.abs(I)<=f/2;if(he){var me=(d.y1+d.y2)/2,we=d.x1,nt=d.x2;r.segpts=[we,me,nt,me]}else if(ge){var $e=(d.x1+d.x2)/2,Le=d.y1,Ke=d.y2;r.segpts=[$e,Le,$e,Ke]}else r.segpts=[d.x2,d.y1]}else if(O){var Q=d.y1+V+(v?h/2*j:0),k=d.x1,z=d.x2;r.segpts=[k,Q,z,Q]}else{var Z=d.x1+V+(v?u/2*j:0),W=d.y1,U=d.y2;r.segpts=[Z,W,Z,U]}if(r.isRound){var oe=t.pstyle("taxi-radius").value,q=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(oe),r.isArcRadius=new Array(r.segpts.length/2).fill(q)}};Jt.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var i=e.srcPos,n=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,c=e.srcShape,d=e.tgtShape,u=e.srcCornerRadius,h=e.tgtCornerRadius,m=e.srcRs,f=e.tgtRs,g=!le(r.startX)||!le(r.startY),v=!le(r.arrowStartX)||!le(r.arrowStartY),p=!le(r.endX)||!le(r.endY),y=!le(r.arrowEndX)||!le(r.arrowEndY),b=3,_=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=b*_,w=un({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),x=w<C,D=un({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),E=D<C,M=!1;if(g||v||x){M=!0;var I={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},A=Math.sqrt(I.x*I.x+I.y*I.y),T={x:I.x/A,y:I.y/A},S=Math.max(a,o),F={x:r.ctrlpts[0]+T.x*2*S,y:r.ctrlpts[1]+T.y*2*S},O=c.intersectLine(i.x,i.y,a,o,F.x,F.y,0,u,m);x?(r.ctrlpts[0]=r.ctrlpts[0]+T.x*(C-w),r.ctrlpts[1]=r.ctrlpts[1]+T.y*(C-w)):(r.ctrlpts[0]=O[0]+T.x*C,r.ctrlpts[1]=O[1]+T.y*C)}if(p||y||E){M=!0;var R={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},P=Math.sqrt(R.x*R.x+R.y*R.y),j={x:R.x/P,y:R.y/P},H=Math.max(a,o),V={x:r.ctrlpts[0]+j.x*2*H,y:r.ctrlpts[1]+j.y*2*H},N=d.intersectLine(n.x,n.y,s,l,V.x,V.y,0,h,f);E?(r.ctrlpts[0]=r.ctrlpts[0]+j.x*(C-D),r.ctrlpts[1]=r.ctrlpts[1]+j.y*(C-D)):(r.ctrlpts[0]=N[0]+j.x*C,r.ctrlpts[1]=N[1]+j.y*C)}M&&this.findEndpoints(t)}};Jt.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var i,n;e.ctrlpts.length/2%2===0?(i=e.allpts.length/2-1,e.midX=e.allpts[i],e.midY=e.allpts[i+1]):(i=e.allpts.length/2-3,n=.5,e.midX=Nt(e.allpts[i],e.allpts[i+2],e.allpts[i+4],n),e.midY=Nt(e.allpts[i+1],e.allpts[i+3],e.allpts[i+5],n))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],s=e.isArcRadius[a/2-1];e.roundCorners.push($c({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,s))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,c=l-2;e.midX=(e.segpts[c]+e.segpts[l])/2,e.midY=(e.segpts[c+1]+e.segpts[l+1])/2}else{var d=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[d],e.midY=e.segpts[d+1];else{var u={x:e.segpts[d],y:e.segpts[d+1]},h=e.roundCorners[d/2],m=[u.x-h.cx,u.y-h.cy],f=h.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(g){return g*f}),e.midX=h.cx+m[0],e.midY=h.cy+m[1],e.midVector=m}}}};Jt.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||le(e.startX)&&le(e.startY)&&le(e.endX)&&le(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ot("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Jt.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,i=r.cy,n=i.hasCompoundNodes(),a={map:new Ji,get:function(x){var D=this.map.get(x[0]);return D!=null?D.get(x[1]):null},set:function(x,D){var E=this.map.get(x[0]);E==null&&(E=new Ji,this.map.set(x[0],E)),E.set(x[1],D)}},o=[],s=[],l=0;l<t.length;l++){var c=t[l],d=c._private,u=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(u==="haystack"){s.push(c);continue}var h=u==="unbundled-bezier"||u.endsWith("segments")||u==="straight"||u==="straight-triangle"||u.endsWith("taxi"),m=u==="unbundled-bezier"||u==="bezier",f=d.source,g=d.target,v=f.poolIndex(),p=g.poolIndex(),y=[v,p].sort(),b=a.get(y);b==null&&(b={eles:[]},a.set(y,b),o.push(y)),b.eles.push(c),h&&(b.hasUnbundled=!0),m&&(b.hasBezier=!0)}}for(var _=function(x){var D=o[x],E=a.get(D),M=void 0;if(!E.hasUnbundled){var I=E.eles[0].parallelEdges().filter(function(Z){return Z.isBundledBezier()});Tc(E.eles),I.forEach(function(Z){return E.eles.push(Z)}),E.eles.sort(function(Z,W){return Z.poolIndex()-W.poolIndex()})}var A=E.eles[0],T=A.source(),S=A.target();if(T.poolIndex()>S.poolIndex()){var F=T;T=S,S=F}var O=E.srcPos=T.position(),R=E.tgtPos=S.position(),P=E.srcW=T.outerWidth(),j=E.srcH=T.outerHeight(),H=E.tgtW=S.outerWidth(),V=E.tgtH=S.outerHeight(),N=E.srcShape=r.nodeShapes[e.getNodeShape(T)],$=E.tgtShape=r.nodeShapes[e.getNodeShape(S)],X=E.srcCornerRadius=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,J=E.tgtCornerRadius=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,ee=E.tgtRs=S._private.rscratch,te=E.srcRs=T._private.rscratch;E.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var G=0;G<E.eles.length;G++){var L=E.eles[G],Y=L[0]._private.rscratch,K=L.pstyle("curve-style").value,de=K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi"),_e=!T.same(L.source());if(!E.calculatedIntersection&&T!==S&&(E.hasBezier||E.hasUnbundled)){E.calculatedIntersection=!0;var se=N.intersectLine(O.x,O.y,P,j,R.x,R.y,0,X,te),ce=E.srcIntn=se,he=$.intersectLine(R.x,R.y,H,V,O.x,O.y,0,J,ee),ge=E.tgtIntn=he,me=E.intersectionPts={x1:se[0],x2:he[0],y1:se[1],y2:he[1]},we=E.posPts={x1:O.x,x2:R.x,y1:O.y,y2:R.y},nt=he[1]-se[1],$e=he[0]-se[0],Le=Math.sqrt($e*$e+nt*nt),Ke=E.vector={x:$e,y:nt},Q=E.vectorNorm={x:Ke.x/Le,y:Ke.y/Le},k={x:-Q.y,y:Q.x};E.nodesOverlap=!le(Le)||$.checkPoint(se[0],se[1],0,H,V,R.x,R.y,J,ee)||N.checkPoint(he[0],he[1],0,P,j,O.x,O.y,X,te),E.vectorNormInverse=k,M={nodesOverlap:E.nodesOverlap,dirCounts:E.dirCounts,calculatedIntersection:!0,hasBezier:E.hasBezier,hasUnbundled:E.hasUnbundled,eles:E.eles,srcPos:R,tgtPos:O,srcW:H,srcH:V,tgtW:P,tgtH:j,srcIntn:ge,tgtIntn:ce,srcShape:$,tgtShape:N,posPts:{x1:we.x2,y1:we.y2,x2:we.x1,y2:we.y1},intersectionPts:{x1:me.x2,y1:me.y2,x2:me.x1,y2:me.y1},vector:{x:-Ke.x,y:-Ke.y},vectorNorm:{x:-Q.x,y:-Q.y},vectorNormInverse:{x:-k.x,y:-k.y}}}var z=_e?M:E;Y.nodesOverlap=z.nodesOverlap,Y.srcIntn=z.srcIntn,Y.tgtIntn=z.tgtIntn,Y.isRound=K.startsWith("round"),n&&(T.isParent()||T.isChild()||S.isParent()||S.isChild())&&(T.parents().anySame(S)||S.parents().anySame(T)||T.same(S)&&T.isParent())?e.findCompoundLoopPoints(L,z,G,de):T===S?e.findLoopPoints(L,z,G,de):K.endsWith("segments")?e.findSegmentsPoints(L,z):K.endsWith("taxi")?e.findTaxiPoints(L,z):K==="straight"||!de&&E.eles.length%2===1&&G===Math.floor(E.eles.length/2)?e.findStraightEdgePoints(L):e.findBezierPoints(L,z,G,de,_e),e.findEndpoints(L),e.tryToCorrectInvalidPoints(L,z),e.checkForInvalidEdgeWarning(L),e.storeAllpts(L),e.storeEdgeProjections(L),e.calculateArrowAngles(L),e.recalculateEdgeLabelProjections(L),e.calculateLabelAngles(L)}},C=0;C<o.length;C++)_(C);this.findHaystackPoints(s)}};function hm(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var i=t[r],n=t[r+1];e.push({x:i,y:n})}return e}}Jt.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),hm(e.segpts)};Jt.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),hm(e.ctrlpts)};Jt.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ho={};ho.manualEndptToPx=function(t,e){var r=this,i=t.position(),n=t.outerWidth(),a=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*n),e.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=i.x,s[1]+=i.y,s}else{var l=e.pfValue[0];l=-Math.PI/2+l;var c=2*Math.max(n,a),d=[i.x+Math.cos(l)*c,i.y+Math.sin(l)*c];return r.nodeShapes[this.getNodeShape(t)].intersectLine(i.x,i.y,n,a,d[0],d[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};ho.findEndpoints=function(t){var e=this,r,i=t.source()[0],n=t.target()[0],a=i.position(),o=n.position(),s=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,d=t.pstyle("source-distance-from-node").pfValue,u=i._private.rscratch,h=n._private.rscratch,m=t.pstyle("curve-style").value,f=t._private.rscratch,g=f.edgeType,v=m==="taxi",p=g==="self"||g==="compound",y=g==="bezier"||g==="multibezier"||p,b=g!=="bezier",_=g==="straight"||g==="segments",C=g==="segments",w=y||b||_,x=p||v,D=t.pstyle("source-endpoint"),E=x?"outside-to-node":D.value,M=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue,I=t.pstyle("target-endpoint"),A=x?"outside-to-node":I.value,T=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue;f.srcManEndpt=D,f.tgtManEndpt=I;var S,F,O,R;if(y){var P=[f.ctrlpts[0],f.ctrlpts[1]],j=b?[f.ctrlpts[f.ctrlpts.length-2],f.ctrlpts[f.ctrlpts.length-1]]:P;S=j,F=P}else if(_){var H=C?f.segpts.slice(0,2):[o.x,o.y],V=C?f.segpts.slice(f.segpts.length-2):[a.x,a.y];S=V,F=H}if(A==="inside-to-node")r=[o.x,o.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(A==="outside-to-line")r=f.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?O=S:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(O=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),O[0],O[1],0,T,h),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var N=n._private.rscratch,$=N.labelWidth,X=N.labelHeight,J=N.labelX,ee=N.labelY,te=$/2,G=X/2,L=n.pstyle("text-valign").value;L==="top"?ee-=G:L==="bottom"&&(ee+=G);var Y=n.pstyle("text-halign").value;Y==="left"?J-=te:Y==="right"&&(J+=te);var K=Ja(O[0],O[1],[J-te,ee-G,J+te,ee-G,J+te,ee+G,J-te,ee+G],o.x,o.y);if(K.length>0){var de=a,_e=nn(de,Hn(r)),se=nn(de,Hn(K)),ce=_e;if(se<_e&&(r=K,ce=se),K.length>2){var he=nn(de,{x:K[2],y:K[3]});he<ce&&(r=[K[2],K[3]])}}}var ge=ns(r,S,e.arrowShapes[s].spacing(t)+c),me=ns(r,S,e.arrowShapes[s].gap(t)+c);if(f.endX=me[0],f.endY=me[1],f.arrowEndX=ge[0],f.arrowEndY=ge[1],E==="inside-to-node")r=[a.x,a.y];else if(D.units)r=this.manualEndptToPx(i,D);else if(E==="outside-to-line")r=f.srcIntn;else if(E==="outside-to-node"||E==="outside-to-node-or-label"?R=F:(E==="outside-to-line"||E==="outside-to-line-or-label")&&(R=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(a.x,a.y,i.outerWidth(),i.outerHeight(),R[0],R[1],0,M,u),E==="outside-to-node-or-label"||E==="outside-to-line-or-label"){var we=i._private.rscratch,nt=we.labelWidth,$e=we.labelHeight,Le=we.labelX,Ke=we.labelY,Q=nt/2,k=$e/2,z=i.pstyle("text-valign").value;z==="top"?Ke-=k:z==="bottom"&&(Ke+=k);var Z=i.pstyle("text-halign").value;Z==="left"?Le-=Q:Z==="right"&&(Le+=Q);var W=Ja(R[0],R[1],[Le-Q,Ke-k,Le+Q,Ke-k,Le+Q,Ke+k,Le-Q,Ke+k],a.x,a.y);if(W.length>0){var U=o,oe=nn(U,Hn(r)),q=nn(U,Hn(W)),ne=oe;if(q<oe&&(r=[W[0],W[1]],ne=q),W.length>2){var Ce=nn(U,{x:W[2],y:W[3]});Ce<ne&&(r=[W[2],W[3]])}}}var Ee=ns(r,F,e.arrowShapes[l].spacing(t)+d),pe=ns(r,F,e.arrowShapes[l].gap(t)+d);f.startX=pe[0],f.startY=pe[1],f.arrowStartX=Ee[0],f.arrowStartY=Ee[1],w&&(!le(f.startX)||!le(f.startY)||!le(f.endX)||!le(f.endY)?f.badLine=!0:f.badLine=!1)};ho.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ho.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Gc={};function Dw(t,e,r){for(var i=function(c,d,u,h){return Nt(c,d,u,h)},n=e._private,a=n.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];a.push({x:i(r[0],r[2],r[4],s),y:i(r[1],r[3],r[5],s)})}}Gc.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,i=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,i==="multibezier"||i==="bezier"||i==="self"||i==="compound"){e.rstyle.bezierPts=[];for(var n=0;n+5<r.allpts.length;n+=4)Dw(this,t,r.allpts.slice(n,n+6))}else if(i==="segments")for(var a=e.rstyle.linePts=[],n=0;n+1<r.allpts.length;n+=2)a.push({x:r.allpts[n],y:r.allpts[n+1]});else if(i==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Gc.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var tr={};tr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Tr(e)){var r,i,n=t._private,a=t.width(),o=t.height(),s=t.padding(),l=t.position(),c=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,u=n.rscratch,h=n.rstyle;switch(c){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(d){case"top":i=l.y-o/2-s;break;case"bottom":i=l.y+o/2+s;break;default:i=l.y}u.labelX=r,u.labelY=i,h.labelX=r,h.labelY=i,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var fm=function(e,r){var i=Math.atan(r/e);return e===0&&i<0&&(i=i*-1),i},mm=function(e,r){var i=r.x-e.x,n=r.y-e.y;return fm(i,n)},Sw=function(e,r,i,n){var a=Qa(0,n-.001,1),o=Qa(0,n+.001,1),s=Wn(e,r,i,a),l=Wn(e,r,i,o);return mm(s,l)};tr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,i=r.rscratch,n=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:i.midX,y:i.midY};var o=function(u,h,m){Sr(r.rscratch,u,h,m),Sr(r.rstyle,u,h,m)};o("labelX",null,e.x),o("labelY",null,e.y);var s=fm(i.midDispX,i.midDispY);o("labelAutoAngle",null,s);var l=function d(){if(d.cache)return d.cache;for(var u=[],h=0;h+5<i.allpts.length;h+=4){var m={x:i.allpts[h],y:i.allpts[h+1]},f={x:i.allpts[h+2],y:i.allpts[h+3]},g={x:i.allpts[h+4],y:i.allpts[h+5]};u.push({p0:m,p1:f,p2:g,startDist:0,length:0,segments:[]})}var v=r.rstyle.bezierPts,p=n.bezierProjPcts.length;function y(x,D,E,M,I){var A=un(D,E),T=x.segments[x.segments.length-1],S={p0:D,p1:E,t0:M,t1:I,startDist:T?T.startDist+T.length:0,length:A};x.segments.push(S),x.length+=A}for(var b=0;b<u.length;b++){var _=u[b],C=u[b-1];C&&(_.startDist=C.startDist+C.length),y(_,_.p0,v[b*p],0,n.bezierProjPcts[0]);for(var w=0;w<p-1;w++)y(_,v[b*p+w],v[b*p+w+1],n.bezierProjPcts[w],n.bezierProjPcts[w+1]);y(_,v[b*p+p-1],_.p2,n.bezierProjPcts[p-1],1)}return d.cache=u},c=function(u){var h,m=u==="source";if(a[u]){var f=t.pstyle(u+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),v,p=0,y=0,b=0;b<g.length;b++){for(var _=g[m?b:g.length-1-b],C=0;C<_.segments.length;C++){var w=_.segments[m?C:_.segments.length-1-C],x=b===g.length-1&&C===_.segments.length-1;if(p=y,y+=w.length,y>=f||x){v={cp:_,segment:w};break}}if(v)break}var D=v.cp,E=v.segment,M=(f-p)/E.length,I=E.t1-E.t0,A=m?E.t0+I*M:E.t1-I*M;A=Qa(0,A,1),e=Wn(D.p0,D.p1,D.p2,A),h=Sw(D.p0,D.p1,D.p2,A);break}case"straight":case"segments":case"haystack":{for(var T=0,S,F,O,R,P=i.allpts.length,j=0;j+3<P&&(m?(O={x:i.allpts[j],y:i.allpts[j+1]},R={x:i.allpts[j+2],y:i.allpts[j+3]}):(O={x:i.allpts[P-2-j],y:i.allpts[P-1-j]},R={x:i.allpts[P-4-j],y:i.allpts[P-3-j]}),S=un(O,R),F=T,T+=S,!(T>=f));j+=2);var H=f-F,V=H/S;V=Qa(0,V,1),e=Ob(O,R,V),h=mm(O,R);break}}o("labelX",u,e.x),o("labelY",u,e.y),o("labelAutoAngle",u,h)}};c("source"),c("target"),this.applyLabelDimensions(t)}};tr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};tr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,i=this.getLabelText(t,e),n=this.calculateLabelDimensions(t,i),a=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=Ni(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),c=n.height/l,d=c*a,u=n.width,h=n.height+(l-1)*(a-1)*c;Sr(r.rstyle,"labelWidth",e,u),Sr(r.rscratch,"labelWidth",e,u),Sr(r.rstyle,"labelHeight",e,h),Sr(r.rscratch,"labelHeight",e,h),Sr(r.rscratch,"labelLineHeight",e,d)};tr.getLabelText=function(t,e){var r=t._private,i=e?e+"-":"",n=t.pstyle(i+"label").strValue,a=t.pstyle("text-transform").value,o=function($,X){return X?(Sr(r.rscratch,$,e,X),X):Ni(r.rscratch,$,e)};if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var c="\u200B",d=n.split(`
`),u=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,m=h==="anywhere",f=[],g=/[\s\u200b]+|$/g,v=0;v<d.length;v++){var p=d[v],y=this.calculateLabelDimensions(t,p),b=y.width;if(m){var _=p.split("").join(c);p=_}if(b>u){var C=p.matchAll(g),w="",x=0,D=Kh(C),E;try{for(D.s();!(E=D.n()).done;){var M=E.value,I=M[0],A=p.substring(x,M.index);x=M.index+I.length;var T=w.length===0?A:w+A+I,S=this.calculateLabelDimensions(t,T),F=S.width;F<=u?w+=A+I:(w&&f.push(w),w=A+I)}}catch(N){D.e(N)}finally{D.f()}w.match(/^[\s\u200b]+$/)||f.push(w)}else f.push(p)}o("labelWrapCachedLines",f),n=o("labelWrapCachedText",f.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var O=t.pstyle("text-max-width").pfValue,R="",P="\u2026",j=!1;if(this.calculateLabelDimensions(t,n).width<O)return n;for(var H=0;H<n.length;H++){var V=this.calculateLabelDimensions(t,R+n[H]+P).width;if(V>O)break;R+=n[H],H===n.length-1&&(j=!0)}return j||(R+=P),R}return n};tr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};tr.calculateLabelDimensions=function(t,e){var r=this,i=r.cy.window(),n=i.document,a=dn(e,t._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),s=o[a];if(s!=null)return s;var l=0,c=t.pstyle("font-style").strValue,d=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,h=t.pstyle("font-weight").strValue,m=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!m){m=this.labelCalcCanvas=n.createElement("canvas"),f=this.labelCalcCanvasContext=m.getContext("2d");var g=m.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}f.font="".concat(c," ").concat(h," ").concat(d,"px ").concat(u);for(var v=0,p=0,y=e.split(`
`),b=0;b<y.length;b++){var _=y[b],C=f.measureText(_),w=Math.ceil(C.width),x=d;v=Math.max(w,v),p+=x}return v+=l,p+=l,o[a]={width:v,height:p}};tr.calculateLabelAngle=function(t,e){var r=t._private,i=r.rscratch,n=t.isEdge(),a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:n&&s==="autorotate"?i.labelAutoAngle:s==="autorotate"?0:o.pfValue};tr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),i=t._private,n=i.rscratch;n.labelAngle=e.calculateLabelAngle(t),r&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var pm={},Lh=28,Nh=!1;pm.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Lh||t.height()<Lh))return Nh||(ot("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Nh=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var i=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(i).name}return r};var Zs={};Zs.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var c=o[l],d=c._private,u=d.rstyle;u.clean=!1,u.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;i(s)}).on("style.* background.*",function(o){var s=o.target;i(s,!1)});var n=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var c=e[l],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(i(c.connectedEdges()),d.cleanConnected=!0)}if(s)for(var u=0;u<s.length;u++){var h=s[u];h(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){n(!0)},r.beforeRender(n,r.beforeRenderPriorities.eleCalcs)};Zs.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Zs.recalculateRenderedStyle=function(t,e){var r=function(_){return _._private.rstyle.cleanConnected},i=[],n=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var o=t[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?n.push(o):i.push(o),l.clean=!0)}for(var c=0;c<n.length;c++){var d=n[c],u=d._private,h=u.rstyle,m=d.position();this.recalculateNodeLabelProjection(d),h.nodeX=m.x,h.nodeY=m.y,h.nodeW=d.pstyle("width").pfValue,h.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var f=0;f<i.length;f++){var g=i[f],v=g._private,p=v.rstyle,y=v.rscratch;p.srcX=y.arrowStartX,p.srcY=y.arrowStartY,p.tgtX=y.arrowEndX,p.tgtY=y.arrowEndY,p.midX=y.midX,p.midY=y.midY,p.labelAngle=y.labelAngle,p.sourceLabelAngle=y.sourceLabelAngle,p.targetLabelAngle=y.targetLabelAngle}}};var Xs={};Xs.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var i=t[r],n=i._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):n.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(var r=0;r<e.length;r++){var i=e[r];t.drag.push(i)}}};Xs.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Xs.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Qf),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var vm={};[vn,Os,Jt,ho,Gc,tr,pm,Zs,Xs].forEach(function(t){ke(vm,t)});var gm={};gm.getCachedImage=function(t,e,r){var i=this,n=i.imageCache=i.imageCache||{},a=n[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=n[t]=n[t]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=t.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var aa={};aa.registerBinding=function(t,e,r,i){var n=Array.prototype.slice.apply(arguments,[1]),a=this.binder(t);return a.on.apply(a,n)};aa.binder=function(t){var e=this,r=e.cy.window(),i=t===r||t===r.document||t===r.document.body||Qv(t);if(e.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var o=function(l,c,d){var u=Array.prototype.slice.call(arguments);return i&&e.supportsPassiveEvents&&(u[2]={capture:d??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:u}),(t.addEventListener||t.on).apply(t,u),this};return{on:o,addEventListener:o,addListener:o,bind:o}};aa.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};aa.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};aa.load=function(){var t=this,e=t.cy.window(),r=function(k){return k.selected()},i=function(k,z,Z,W){k==null&&(k=t.cy);for(var U=0;U<z.length;U++){var oe=z[U];k.emit({originalEvent:Z,type:oe,position:W})}},n=function(k){return k.shiftKey||k.metaKey||k.ctrlKey},a=function(k,z){var Z=!0;if(t.cy.hasCompoundNodes()&&k&&k.pannable())for(var W=0;z&&W<z.length;W++){var k=z[W];if(k.isNode()&&k.isParent()&&!k.pannable()){Z=!1;break}}else Z=!0;return Z},o=function(k){k[0]._private.grabbed=!0},s=function(k){k[0]._private.grabbed=!1},l=function(k){k[0]._private.rscratch.inDragLayer=!0},c=function(k){k[0]._private.rscratch.inDragLayer=!1},d=function(k){k[0]._private.rscratch.isGrabTarget=!0},u=function(k){k[0]._private.rscratch.isGrabTarget=!1},h=function(k,z){var Z=z.addToList,W=Z.has(k);!W&&k.grabbable()&&!k.locked()&&(Z.merge(k),o(k))},m=function(k,z){if(k.cy().hasCompoundNodes()&&!(z.inDragLayer==null&&z.addToList==null)){var Z=k.descendants();z.inDragLayer&&(Z.forEach(l),Z.connectedEdges().forEach(l)),z.addToList&&h(Z,z)}},f=function(k,z){z=z||{};var Z=k.cy().hasCompoundNodes();z.inDragLayer&&(k.forEach(l),k.neighborhood().stdFilter(function(W){return!Z||W.isEdge()}).forEach(l)),z.addToList&&k.forEach(function(W){h(W,z)}),m(k,z),p(k,{inDragLayer:z.inDragLayer}),t.updateCachedGrabbedEles()},g=f,v=function(k){k&&(t.getCachedZSortedEles().forEach(function(z){s(z),c(z),u(z)}),t.updateCachedGrabbedEles())},p=function(k,z){if(!(z.inDragLayer==null&&z.addToList==null)&&k.cy().hasCompoundNodes()){var Z=k.ancestors().orphans();if(!Z.same(k)){var W=Z.descendants().spawnSelf().merge(Z).unmerge(k).unmerge(k.descendants()),U=W.connectedEdges();z.inDragLayer&&(U.forEach(l),W.forEach(l)),z.addToList&&W.forEach(function(oe){h(oe,z)})}}},y=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},b=typeof MutationObserver<"u",_=typeof ResizeObserver<"u";b?(t.removeObserver=new MutationObserver(function(Q){for(var k=0;k<Q.length;k++){var z=Q[k],Z=z.removedNodes;if(Z)for(var W=0;W<Z.length;W++){var U=Z[W];if(U===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Q){t.destroy()});var C=Ls(function(){t.cy.resize()},100);b&&(t.styleObserver=new MutationObserver(C),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",C),_&&(t.resizeObserver=new ResizeObserver(C),t.resizeObserver.observe(t.container));var w=function(k,z){for(;k!=null;)z(k),k=k.parentNode},x=function(){t.invalidateContainerClientCoordsCache()};w(t.container,function(Q){t.registerBinding(Q,"transitionend",x),t.registerBinding(Q,"animationend",x),t.registerBinding(Q,"scroll",x)}),t.registerBinding(t.container,"contextmenu",function(Q){Q.preventDefault()});var D=function(){return t.selection[4]!==0},E=function(k){for(var z=t.findContainerClientCoords(),Z=z[0],W=z[1],U=z[2],oe=z[3],q=k.touches?k.touches:[k],ne=!1,Ce=0;Ce<q.length;Ce++){var Ee=q[Ce];if(Z<=Ee.clientX&&Ee.clientX<=Z+U&&W<=Ee.clientY&&Ee.clientY<=W+oe){ne=!0;break}}if(!ne)return!1;for(var pe=t.container,Ie=k.target,fe=Ie.parentNode,xe=!1;fe;){if(fe===pe){xe=!0;break}fe=fe.parentNode}return!!xe};t.registerBinding(t.container,"mousedown",function(k){if(E(k)&&!(t.hoverData.which===1&&k.which!==1)){k.preventDefault(),y(),t.hoverData.capture=!0,t.hoverData.which=k.which;var z=t.cy,Z=[k.clientX,k.clientY],W=t.projectIntoViewport(Z[0],Z[1]),U=t.selection,oe=t.findNearestElements(W[0],W[1],!0,!1),q=oe[0],ne=t.dragData.possibleDragElements;t.hoverData.mdownPos=W,t.hoverData.mdownGPos=Z;var Ce=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var bt=t.hoverData.down;bt?bt.emit({originalEvent:k,type:"taphold",position:{x:W[0],y:W[1]}}):z.emit({originalEvent:k,type:"taphold",position:{x:W[0],y:W[1]}})}},t.tapholdDuration)};if(k.which==3){t.hoverData.cxtStarted=!0;var Ee={originalEvent:k,type:"cxttapstart",position:{x:W[0],y:W[1]}};q?(q.activate(),q.emit(Ee),t.hoverData.down=q):z.emit(Ee),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(k.which==1){q&&q.activate();{if(q!=null&&t.nodeIsGrabbable(q)){var pe=function(bt){return{originalEvent:k,type:bt,position:{x:W[0],y:W[1]}}},Ie=function(bt){bt.emit(pe("grab"))};if(d(q),!q.selected())ne=t.dragData.possibleDragElements=z.collection(),g(q,{addToList:ne}),q.emit(pe("grabon")).emit(pe("grab"));else{ne=t.dragData.possibleDragElements=z.collection();var fe=z.$(function(xe){return xe.isNode()&&xe.selected()&&t.nodeIsGrabbable(xe)});f(fe,{addToList:ne}),q.emit(pe("grabon")),fe.forEach(Ie)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=q,t.hoverData.downs=oe,t.hoverData.downTime=new Date().getTime()}i(q,["mousedown","tapstart","vmousedown"],k,{x:W[0],y:W[1]}),q==null?(U[4]=1,t.data.bgActivePosistion={x:W[0],y:W[1]},t.redrawHint("select",!0),t.redraw()):q.pannable()&&(U[4]=1),Ce()}U[0]=U[2]=W[0],U[1]=U[3]=W[1]}},!1),t.registerBinding(e,"mousemove",function(k){var z=t.hoverData.capture;if(!(!z&&!E(k))){var Z=!1,W=t.cy,U=W.zoom(),oe=[k.clientX,k.clientY],q=t.projectIntoViewport(oe[0],oe[1]),ne=t.hoverData.mdownPos,Ce=t.hoverData.mdownGPos,Ee=t.selection,pe=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(pe=t.findNearestElement(q[0],q[1],!0,!1));var Ie=t.hoverData.last,fe=t.hoverData.down,xe=[q[0]-Ee[2],q[1]-Ee[3]],bt=t.dragData.possibleDragElements,ut;if(Ce){var ti=oe[0]-Ce[0],Bt=ti*ti,Mt=oe[1]-Ce[1],ci=Mt*Mt,Vt=Bt+ci;t.hoverData.isOverThresholdDrag=ut=Vt>=t.desktopTapThreshold2}var ii=n(k);ut&&(t.hoverData.tapholdCancelled=!0);var Ai=function(){var Wi=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Wi.length===0?(Wi.push(xe[0]),Wi.push(xe[1])):(Wi[0]+=xe[0],Wi[1]+=xe[1])};Z=!0,i(pe,["mousemove","vmousemove","tapdrag"],k,{x:q[0],y:q[1]});var gi=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||W.emit({originalEvent:k,type:"boxstart",position:{x:q[0],y:q[1]}}),Ee[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ut){var di={originalEvent:k,type:"cxtdrag",position:{x:q[0],y:q[1]}};fe?fe.emit(di):W.emit(di),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||pe!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:q[0],y:q[1]}}),t.hoverData.cxtOver=pe,pe&&pe.emit({originalEvent:k,type:"cxtdragover",position:{x:q[0],y:q[1]}}))}}else if(t.hoverData.dragging){if(Z=!0,W.panningEnabled()&&W.userPanningEnabled()){var Ui;if(t.hoverData.justStartedPan){var ar=t.hoverData.mdownPos;Ui={x:(q[0]-ar[0])*U,y:(q[1]-ar[1])*U},t.hoverData.justStartedPan=!1}else Ui={x:xe[0]*U,y:xe[1]*U};W.panBy(Ui),W.emit("dragpan"),t.hoverData.dragged=!0}q=t.projectIntoViewport(k.clientX,k.clientY)}else if(Ee[4]==1&&(fe==null||fe.pannable())){if(ut){if(!t.hoverData.dragging&&W.boxSelectionEnabled()&&(ii||!W.panningEnabled()||!W.userPanningEnabled()))gi();else if(!t.hoverData.selecting&&W.panningEnabled()&&W.userPanningEnabled()){var Mi=a(fe,t.hoverData.downs);Mi&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ee[4]=0,t.data.bgActivePosistion=Hn(ne),t.redrawHint("select",!0),t.redraw())}fe&&fe.pannable()&&fe.active()&&fe.unactivate()}}else{if(fe&&fe.pannable()&&fe.active()&&fe.unactivate(),(!fe||!fe.grabbed())&&pe!=Ie&&(Ie&&i(Ie,["mouseout","tapdragout"],k,{x:q[0],y:q[1]}),pe&&i(pe,["mouseover","tapdragover"],k,{x:q[0],y:q[1]}),t.hoverData.last=pe),fe)if(ut){if(W.boxSelectionEnabled()&&ii)fe&&fe.grabbed()&&(v(bt),fe.emit("freeon"),bt.emit("free"),t.dragData.didDrag&&(fe.emit("dragfreeon"),bt.emit("dragfree"))),gi();else if(fe&&fe.grabbed()&&t.nodeIsDraggable(fe)){var Tt=!t.dragData.didDrag;Tt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||f(bt,{inDragLayer:!0});var Lt={x:0,y:0};if(le(xe[0])&&le(xe[1])&&(Lt.x+=xe[0],Lt.y+=xe[1],Tt)){var $t=t.hoverData.dragDelta;$t&&le($t[0])&&le($t[1])&&(Lt.x+=$t[0],Lt.y+=$t[1])}t.hoverData.draggingEles=!0,bt.silentShift(Lt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ai();Z=!0}if(Ee[2]=q[0],Ee[3]=q[1],Z)return k.stopPropagation&&k.stopPropagation(),k.preventDefault&&k.preventDefault(),!1}},!1);var M,I,A;t.registerBinding(e,"mouseup",function(k){if(!(t.hoverData.which===1&&k.which!==1&&t.hoverData.capture)){var z=t.hoverData.capture;if(z){t.hoverData.capture=!1;var Z=t.cy,W=t.projectIntoViewport(k.clientX,k.clientY),U=t.selection,oe=t.findNearestElement(W[0],W[1],!0,!1),q=t.dragData.possibleDragElements,ne=t.hoverData.down,Ce=n(k);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ne&&ne.unactivate(),t.hoverData.which===3){var Ee={originalEvent:k,type:"cxttapend",position:{x:W[0],y:W[1]}};if(ne?ne.emit(Ee):Z.emit(Ee),!t.hoverData.cxtDragged){var pe={originalEvent:k,type:"cxttap",position:{x:W[0],y:W[1]}};ne?ne.emit(pe):Z.emit(pe)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(oe,["mouseup","tapend","vmouseup"],k,{x:W[0],y:W[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(ne,["click","tap","vclick"],k,{x:W[0],y:W[1]}),I=!1,k.timeStamp-A<=Z.multiClickDebounceTime()?(M&&clearTimeout(M),I=!0,A=null,i(ne,["dblclick","dbltap","vdblclick"],k,{x:W[0],y:W[1]})):(M=setTimeout(function(){I||i(ne,["oneclick","onetap","voneclick"],k,{x:W[0],y:W[1]})},Z.multiClickDebounceTime()),A=k.timeStamp)),ne==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(k)&&(Z.$(r).unselect(["tapunselect"]),q.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=q=Z.collection()),oe==ne&&!t.dragData.didDrag&&!t.hoverData.selecting&&oe!=null&&oe._private.selectable&&(t.hoverData.dragging||(Z.selectionType()==="additive"||Ce?oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]):Ce||(Z.$(r).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ie=Z.collection(t.getAllInBox(U[0],U[1],U[2],U[3]));t.redrawHint("select",!0),Ie.length>0&&t.redrawHint("eles",!0),Z.emit({type:"boxend",originalEvent:k,position:{x:W[0],y:W[1]}});var fe=function(ut){return ut.selectable()&&!ut.selected()};Z.selectionType()==="additive"||Ce||Z.$(r).unmerge(Ie).unselect(),Ie.emit("box").stdFilter(fe).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!U[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var xe=ne&&ne.grabbed();v(q),xe&&(ne.emit("freeon"),q.emit("free"),t.dragData.didDrag&&(ne.emit("dragfreeon"),q.emit("dragfree")))}}U[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var T=function(k){if(!t.scrollingPage){var z=t.cy,Z=z.zoom(),W=z.pan(),U=t.projectIntoViewport(k.clientX,k.clientY),oe=[U[0]*Z+W.x,U[1]*Z+W.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||D()){k.preventDefault();return}if(z.panningEnabled()&&z.userPanningEnabled()&&z.zoomingEnabled()&&z.userZoomingEnabled()){k.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var q;k.deltaY!=null?q=k.deltaY/-250:k.wheelDeltaY!=null?q=k.wheelDeltaY/1e3:q=k.wheelDelta/1e3,q=q*t.wheelSensitivity;var ne=k.deltaMode===1;ne&&(q*=33);var Ce=z.zoom()*Math.pow(10,q);k.type==="gesturechange"&&(Ce=t.gestureStartZoom*k.scale),z.zoom({level:Ce,renderedPosition:{x:oe[0],y:oe[1]}}),z.emit(k.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",T,!0),t.registerBinding(e,"scroll",function(k){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(k){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||k.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Q){t.hasTouchStarted||T(Q)},!0),t.registerBinding(t.container,"mouseout",function(k){var z=t.projectIntoViewport(k.clientX,k.clientY);t.cy.emit({originalEvent:k,type:"mouseout",position:{x:z[0],y:z[1]}})},!1),t.registerBinding(t.container,"mouseover",function(k){var z=t.projectIntoViewport(k.clientX,k.clientY);t.cy.emit({originalEvent:k,type:"mouseover",position:{x:z[0],y:z[1]}})},!1);var S,F,O,R,P,j,H,V,N,$,X,J,ee,te=function(k,z,Z,W){return Math.sqrt((Z-k)*(Z-k)+(W-z)*(W-z))},G=function(k,z,Z,W){return(Z-k)*(Z-k)+(W-z)*(W-z)},L;t.registerBinding(t.container,"touchstart",L=function(k){if(t.hasTouchStarted=!0,!!E(k)){y(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var z=t.cy,Z=t.touchData.now,W=t.touchData.earlier;if(k.touches[0]){var U=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);Z[0]=U[0],Z[1]=U[1]}if(k.touches[1]){var U=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);Z[2]=U[0],Z[3]=U[1]}if(k.touches[2]){var U=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);Z[4]=U[0],Z[5]=U[1]}if(k.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var oe=t.findContainerClientCoords();N=oe[0],$=oe[1],X=oe[2],J=oe[3],S=k.touches[0].clientX-N,F=k.touches[0].clientY-$,O=k.touches[1].clientX-N,R=k.touches[1].clientY-$,ee=0<=S&&S<=X&&0<=O&&O<=X&&0<=F&&F<=J&&0<=R&&R<=J;var q=z.pan(),ne=z.zoom();P=te(S,F,O,R),j=G(S,F,O,R),H=[(S+O)/2,(F+R)/2],V=[(H[0]-q.x)/ne,(H[1]-q.y)/ne];var Ce=200,Ee=Ce*Ce;if(j<Ee&&!k.touches[2]){var pe=t.findNearestElement(Z[0],Z[1],!0,!0),Ie=t.findNearestElement(Z[2],Z[3],!0,!0);pe&&pe.isNode()?(pe.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),t.touchData.start=pe):Ie&&Ie.isNode()?(Ie.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),t.touchData.start=Ie):z.emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(k.touches[2])z.boxSelectionEnabled()&&k.preventDefault();else if(!k.touches[1]){if(k.touches[0]){var fe=t.findNearestElements(Z[0],Z[1],!0,!0),xe=fe[0];if(xe!=null&&(xe.activate(),t.touchData.start=xe,t.touchData.starts=fe,t.nodeIsGrabbable(xe))){var bt=t.dragData.touchDragEles=z.collection(),ut=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),xe.selected()?(ut=z.$(function(Vt){return Vt.selected()&&t.nodeIsGrabbable(Vt)}),f(ut,{addToList:bt})):g(xe,{addToList:bt}),d(xe);var ti=function(ii){return{originalEvent:k,type:ii,position:{x:Z[0],y:Z[1]}}};xe.emit(ti("grabon")),ut?ut.forEach(function(Vt){Vt.emit(ti("grab"))}):xe.emit(ti("grab"))}i(xe,["touchstart","tapstart","vmousedown"],k,{x:Z[0],y:Z[1]}),xe==null&&(t.data.bgActivePosistion={x:U[0],y:U[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],k,{x:Z[0],y:Z[1]})},t.tapholdDuration)}}if(k.touches.length>=1){for(var Bt=t.touchData.startPosition=[null,null,null,null,null,null],Mt=0;Mt<Z.length;Mt++)Bt[Mt]=W[Mt]=Z[Mt];var ci=k.touches[0];t.touchData.startGPosition=[ci.clientX,ci.clientY]}}},!1);var Y;t.registerBinding(e,"touchmove",Y=function(k){var z=t.touchData.capture;if(!(!z&&!E(k))){var Z=t.selection,W=t.cy,U=t.touchData.now,oe=t.touchData.earlier,q=W.zoom();if(k.touches[0]){var ne=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}if(k.touches[1]){var ne=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);U[2]=ne[0],U[3]=ne[1]}if(k.touches[2]){var ne=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);U[4]=ne[0],U[5]=ne[1]}var Ce=t.touchData.startGPosition,Ee;if(z&&k.touches[0]&&Ce){for(var pe=[],Ie=0;Ie<U.length;Ie++)pe[Ie]=U[Ie]-oe[Ie];var fe=k.touches[0].clientX-Ce[0],xe=fe*fe,bt=k.touches[0].clientY-Ce[1],ut=bt*bt,ti=xe+ut;Ee=ti>=t.touchTapThreshold2}if(z&&t.touchData.cxt){k.preventDefault();var Bt=k.touches[0].clientX-N,Mt=k.touches[0].clientY-$,ci=k.touches[1].clientX-N,Vt=k.touches[1].clientY-$,ii=G(Bt,Mt,ci,Vt),Ai=ii/j,gi=150,di=gi*gi,Ui=1.5,ar=Ui*Ui;if(Ai>=ar||ii>=di){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Mi={originalEvent:k,type:"cxttapend",position:{x:U[0],y:U[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Mi),t.touchData.start=null):W.emit(Mi)}}if(z&&t.touchData.cxt){var Mi={originalEvent:k,type:"cxtdrag",position:{x:U[0],y:U[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Mi):W.emit(Mi),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Tt=t.findNearestElement(U[0],U[1],!0,!0);(!t.touchData.cxtOver||Tt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:U[0],y:U[1]}}),t.touchData.cxtOver=Tt,Tt&&Tt.emit({originalEvent:k,type:"cxtdragover",position:{x:U[0],y:U[1]}}))}else if(z&&k.touches[2]&&W.boxSelectionEnabled())k.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||W.emit({originalEvent:k,type:"boxstart",position:{x:U[0],y:U[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,Z[4]=1,!Z||Z.length===0||Z[0]===void 0?(Z[0]=(U[0]+U[2]+U[4])/3,Z[1]=(U[1]+U[3]+U[5])/3,Z[2]=(U[0]+U[2]+U[4])/3+1,Z[3]=(U[1]+U[3]+U[5])/3+1):(Z[2]=(U[0]+U[2]+U[4])/3,Z[3]=(U[1]+U[3]+U[5])/3),t.redrawHint("select",!0),t.redraw();else if(z&&k.touches[1]&&!t.touchData.didSelect&&W.zoomingEnabled()&&W.panningEnabled()&&W.userZoomingEnabled()&&W.userPanningEnabled()){k.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Lt=t.dragData.touchDragEles;if(Lt){t.redrawHint("drag",!0);for(var $t=0;$t<Lt.length;$t++){var Dn=Lt[$t]._private;Dn.grabbed=!1,Dn.rscratch.inDragLayer=!1}}var Wi=t.touchData.start,Bt=k.touches[0].clientX-N,Mt=k.touches[0].clientY-$,ci=k.touches[1].clientX-N,Vt=k.touches[1].clientY-$,Xd=te(Bt,Mt,ci,Vt),Ov=Xd/P;if(ee){var Rv=Bt-S,Fv=Mt-F,Pv=ci-O,Lv=Vt-R,Nv=(Rv+Pv)/2,Bv=(Fv+Lv)/2,Ta=W.zoom(),Ul=Ta*Ov,Wo=W.pan(),Qd=V[0]*Ta+Wo.x,Jd=V[1]*Ta+Wo.y,Vv={x:-Ul/Ta*(Qd-Wo.x-Nv)+Qd,y:-Ul/Ta*(Jd-Wo.y-Bv)+Jd};if(Wi&&Wi.active()){var Lt=t.dragData.touchDragEles;v(Lt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Wi.unactivate().emit("freeon"),Lt.emit("free"),t.dragData.didDrag&&(Wi.emit("dragfreeon"),Lt.emit("dragfree"))}W.viewport({zoom:Ul,pan:Vv,cancelOnFailedZoom:!0}),W.emit("pinchzoom"),P=Xd,S=Bt,F=Mt,O=ci,R=Vt,t.pinching=!0}if(k.touches[0]){var ne=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}if(k.touches[1]){var ne=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);U[2]=ne[0],U[3]=ne[1]}if(k.touches[2]){var ne=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);U[4]=ne[0],U[5]=ne[1]}}else if(k.touches[0]&&!t.touchData.didSelect){var Ti=t.touchData.start,Wl=t.touchData.last,Tt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Tt=t.findNearestElement(U[0],U[1],!0,!0)),z&&Ti!=null&&k.preventDefault(),z&&Ti!=null&&t.nodeIsDraggable(Ti))if(Ee){var Lt=t.dragData.touchDragEles,eu=!t.dragData.didDrag;eu&&f(Lt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Oa={x:0,y:0};if(le(pe[0])&&le(pe[1])&&(Oa.x+=pe[0],Oa.y+=pe[1],eu)){t.redrawHint("eles",!0);var Oi=t.touchData.dragDelta;Oi&&le(Oi[0])&&le(Oi[1])&&(Oa.x+=Oi[0],Oa.y+=Oi[1])}t.hoverData.draggingEles=!0,Lt.silentShift(Oa).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==oe[0]&&t.touchData.startPosition[1]==oe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Oi=t.touchData.dragDelta=t.touchData.dragDelta||[];Oi.length===0?(Oi.push(pe[0]),Oi.push(pe[1])):(Oi[0]+=pe[0],Oi[1]+=pe[1])}if(i(Ti||Tt,["touchmove","tapdrag","vmousemove"],k,{x:U[0],y:U[1]}),(!Ti||!Ti.grabbed())&&Tt!=Wl&&(Wl&&Wl.emit({originalEvent:k,type:"tapdragout",position:{x:U[0],y:U[1]}}),Tt&&Tt.emit({originalEvent:k,type:"tapdragover",position:{x:U[0],y:U[1]}})),t.touchData.last=Tt,z)for(var $t=0;$t<U.length;$t++)U[$t]&&t.touchData.startPosition[$t]&&Ee&&(t.touchData.singleTouchMoved=!0);if(z&&(Ti==null||Ti.pannable())&&W.panningEnabled()&&W.userPanningEnabled()){var zv=a(Ti,t.touchData.starts);zv&&(k.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Hn(t.touchData.startPosition)),t.swipePanning?(W.panBy({x:pe[0]*q,y:pe[1]*q}),W.emit("dragpan")):Ee&&(t.swipePanning=!0,W.panBy({x:fe*q,y:bt*q}),W.emit("dragpan"),Ti&&(Ti.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ne=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ne[0],U[1]=ne[1]}}for(var Ie=0;Ie<U.length;Ie++)oe[Ie]=U[Ie];z&&k.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var K;t.registerBinding(e,"touchcancel",K=function(k){var z=t.touchData.start;t.touchData.capture=!1,z&&z.unactivate()});var de,_e,se,ce;if(t.registerBinding(e,"touchend",de=function(k){var z=t.touchData.start,Z=t.touchData.capture;if(Z)k.touches.length===0&&(t.touchData.capture=!1),k.preventDefault();else return;var W=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var U=t.cy,oe=U.zoom(),q=t.touchData.now,ne=t.touchData.earlier;if(k.touches[0]){var Ce=t.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);q[0]=Ce[0],q[1]=Ce[1]}if(k.touches[1]){var Ce=t.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);q[2]=Ce[0],q[3]=Ce[1]}if(k.touches[2]){var Ce=t.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);q[4]=Ce[0],q[5]=Ce[1]}z&&z.unactivate();var Ee;if(t.touchData.cxt){if(Ee={originalEvent:k,type:"cxttapend",position:{x:q[0],y:q[1]}},z?z.emit(Ee):U.emit(Ee),!t.touchData.cxtDragged){var pe={originalEvent:k,type:"cxttap",position:{x:q[0],y:q[1]}};z?z.emit(pe):U.emit(pe)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!k.touches[2]&&U.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ie=U.collection(t.getAllInBox(W[0],W[1],W[2],W[3]));W[0]=void 0,W[1]=void 0,W[2]=void 0,W[3]=void 0,W[4]=0,t.redrawHint("select",!0),U.emit({type:"boxend",originalEvent:k,position:{x:q[0],y:q[1]}});var fe=function(di){return di.selectable()&&!di.selected()};Ie.emit("box").stdFilter(fe).select().emit("boxselect"),Ie.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(z?.unactivate(),k.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!k.touches[1]){if(!k.touches[0]){if(!k.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var xe=t.dragData.touchDragEles;if(z!=null){var bt=z._private.grabbed;v(xe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),bt&&(z.emit("freeon"),xe.emit("free"),t.dragData.didDrag&&(z.emit("dragfreeon"),xe.emit("dragfree"))),i(z,["touchend","tapend","vmouseup","tapdragout"],k,{x:q[0],y:q[1]}),z.unactivate(),t.touchData.start=null}else{var ut=t.findNearestElement(q[0],q[1],!0,!0);i(ut,["touchend","tapend","vmouseup","tapdragout"],k,{x:q[0],y:q[1]})}var ti=t.touchData.startPosition[0]-q[0],Bt=ti*ti,Mt=t.touchData.startPosition[1]-q[1],ci=Mt*Mt,Vt=Bt+ci,ii=Vt*oe*oe;t.touchData.singleTouchMoved||(z||U.$(":selected").unselect(["tapunselect"]),i(z,["tap","vclick"],k,{x:q[0],y:q[1]}),_e=!1,k.timeStamp-ce<=U.multiClickDebounceTime()?(se&&clearTimeout(se),_e=!0,ce=null,i(z,["dbltap","vdblclick"],k,{x:q[0],y:q[1]})):(se=setTimeout(function(){_e||i(z,["onetap","voneclick"],k,{x:q[0],y:q[1]})},U.multiClickDebounceTime()),ce=k.timeStamp)),z!=null&&!t.dragData.didDrag&&z._private.selectable&&ii<t.touchTapThreshold2&&!t.pinching&&(U.selectionType()==="single"?(U.$(r).unmerge(z).unselect(["tapunselect"]),z.select(["tapselect"])):z.selected()?z.unselect(["tapunselect"]):z.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ai=0;Ai<q.length;Ai++)ne[Ai]=q[Ai];t.dragData.didDrag=!1,k.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),k.touches.length<2&&(k.touches.length===1&&(t.touchData.startGPosition=[k.touches[0].clientX,k.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var he=[],ge=function(k){return{clientX:k.clientX,clientY:k.clientY,force:1,identifier:k.pointerId,pageX:k.pageX,pageY:k.pageY,radiusX:k.width/2,radiusY:k.height/2,screenX:k.screenX,screenY:k.screenY,target:k.target}},me=function(k){return{event:k,touch:ge(k)}},we=function(k){he.push(me(k))},nt=function(k){for(var z=0;z<he.length;z++){var Z=he[z];if(Z.event.pointerId===k.pointerId){he.splice(z,1);return}}},$e=function(k){var z=he.filter(function(Z){return Z.event.pointerId===k.pointerId})[0];z.event=k,z.touch=ge(k)},Le=function(k){k.touches=he.map(function(z){return z.touch})},Ke=function(k){return k.pointerType==="mouse"||k.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Q){Ke(Q)||(Q.preventDefault(),we(Q),Le(Q),L(Q))}),t.registerBinding(t.container,"pointerup",function(Q){Ke(Q)||(nt(Q),Le(Q),de(Q))}),t.registerBinding(t.container,"pointercancel",function(Q){Ke(Q)||(nt(Q),Le(Q),K(Q))}),t.registerBinding(t.container,"pointermove",function(Q){Ke(Q)||(Q.preventDefault(),$e(Q),Le(Q),Y(Q))})}};var mr={};mr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(i,n,a,o,s,l){this.renderer.nodeShapeImpl("polygon",i,n,a,o,s,this.points)},intersectLine:function(i,n,a,o,s,l,c,d){return Ja(s,l,this.points,i,n,a/2,o/2,c)},checkPoint:function(i,n,a,o,s,l,c,d){return ur(i,n,this.points,l,c,o,s,[0,-1],a)}}};mr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,i,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,i,n,a)},intersectLine:function(e,r,i,n,a,o,s,l){return qb(a,o,e,r,i/2+s,n/2+s)},checkPoint:function(e,r,i,n,a,o,s,l){return ln(e,r,n,a,o,s,i)}}};mr.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(i,n,a,o,s,l,c){if(l[c]!==void 0&&l[c+"-cx"]===i&&l[c+"-cy"]===n)return l[c];l[c]=new Array(e.length/2),l[c+"-cx"]=i,l[c+"-cy"]=n;var d=a/2,u=o/2;s=s==="auto"?_f(a,o):s;for(var h=new Array(e.length/2),m=0;m<e.length/2;m++)h[m]={x:i+d*e[m*2],y:n+u*e[m*2+1]};var f,g,v,p,y=h.length;for(g=h[y-1],f=0;f<y;f++)v=h[f%y],p=h[(f+1)%y],l[c][f]=$c(g,v,p,s),g=v,v=p;return l[c]},draw:function(i,n,a,o,s,l,c){this.renderer.nodeShapeImpl("round-polygon",i,n,a,o,s,this.points,this.getOrCreateCorners(n,a,o,s,l,c,"drawCorners"))},intersectLine:function(i,n,a,o,s,l,c,d,u){return $b(s,l,this.points,i,n,a,o,c,this.getOrCreateCorners(i,n,a,o,d,u,"corners"))},checkPoint:function(i,n,a,o,s,l,c,d,u){return Wb(i,n,this.points,l,c,o,s,this.getOrCreateCorners(l,c,o,s,d,u,"corners"))}}};mr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:li(4,0),draw:function(e,r,i,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,i,n,a,this.points,o)},intersectLine:function(e,r,i,n,a,o,s,l){return bf(a,o,e,r,i,n,s,l)},checkPoint:function(e,r,i,n,a,o,s,l){var c=n/2,d=a/2;l=l==="auto"?hn(n,a):l,l=Math.min(c,d,l);var u=l*2;return!!(ur(e,r,this.points,o,s,n,a-u,[0,-1],i)||ur(e,r,this.points,o,s,n-u,a,[0,-1],i)||ln(e,r,u,u,o-c+l,s-d+l,i)||ln(e,r,u,u,o+c-l,s-d+l,i)||ln(e,r,u,u,o+c-l,s+d-l,i)||ln(e,r,u,u,o-c+l,s+d-l,i))}}};mr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Fc(),points:li(4,0),draw:function(e,r,i,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,i,n,a,null,o)},generateCutTrianglePts:function(e,r,i,n,a){var o=a==="auto"?this.cornerLength:a,s=r/2,l=e/2,c=i-l,d=i+l,u=n-s,h=n+s;return{topLeft:[c,u+o,c+o,u,c+o,u+o],topRight:[d-o,u,d,u+o,d-o,u+o],bottomRight:[d,h-o,d-o,h,d-o,h-o],bottomLeft:[c+o,h,c,h-o,c+o,h-o]}},intersectLine:function(e,r,i,n,a,o,s,l){var c=this.generateCutTrianglePts(i+2*s,n+2*s,e,r,l),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Ja(a,o,d,e,r)},checkPoint:function(e,r,i,n,a,o,s,l){var c=l==="auto"?this.cornerLength:l;if(ur(e,r,this.points,o,s,n,a-2*c,[0,-1],i)||ur(e,r,this.points,o,s,n-2*c,a,[0,-1],i))return!0;var d=this.generateCutTrianglePts(n,a,o,s);return ui(e,r,d.topLeft)||ui(e,r,d.topRight)||ui(e,r,d.bottomRight)||ui(e,r,d.bottomLeft)}}};mr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:li(4,0),draw:function(e,r,i,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,i,n,a)},intersectLine:function(e,r,i,n,a,o,s,l){var c=.15,d=.5,u=.85,h=this.generateBarrelBezierPts(i+2*s,n+2*s,e,r),m=function(v){var p=Wn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},c),y=Wn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},d),b=Wn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},u);return[v[0],v[1],p.x,p.y,y.x,y.y,b.x,b.y,v[4],v[5]]},f=[].concat(m(h.topLeft),m(h.topRight),m(h.bottomRight),m(h.bottomLeft));return Ja(a,o,f,e,r)},generateBarrelBezierPts:function(e,r,i,n){var a=r/2,o=e/2,s=i-o,l=i+o,c=n-a,d=n+a,u=dc(e,r),h=u.heightOffset,m=u.widthOffset,f=u.ctrlPtOffsetPct*e,g={topLeft:[s,c+h,s+f,c,s+m,c],topRight:[l-m,c,l-f,c,l,c+h],bottomRight:[l,d-h,l-f,d,l-m,d],bottomLeft:[s+m,d,s+f,d,s,d-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,i,n,a,o,s,l){var c=dc(n,a),d=c.heightOffset,u=c.widthOffset;if(ur(e,r,this.points,o,s,n,a-2*d,[0,-1],i)||ur(e,r,this.points,o,s,n-2*u,a,[0,-1],i))return!0;for(var h=this.generateBarrelBezierPts(n,a,o,s),m=function(D,E,M){var I=M[4],A=M[2],T=M[0],S=M[5],F=M[1],O=Math.min(I,T),R=Math.max(I,T),P=Math.min(S,F),j=Math.max(S,F);if(O<=D&&D<=R&&P<=E&&E<=j){var H=Gb(I,A,T),V=zb(H[0],H[1],H[2],D),N=V.filter(function($){return 0<=$&&$<=1});if(N.length>0)return N[0]}return null},f=Object.keys(h),g=0;g<f.length;g++){var v=f[g],p=h[v],y=m(e,r,p);if(y!=null){var b=p[5],_=p[3],C=p[1],w=Nt(b,_,C,y);if(p.isTop&&w<=r||p.isBottom&&r<=w)return!0}}return!1}}};mr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:li(4,0),draw:function(e,r,i,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,i,n,a,this.points,o)},intersectLine:function(e,r,i,n,a,o,s,l){var c=e-(i/2+s),d=r-(n/2+s),u=d,h=e+(i/2+s),m=Ir(a,o,e,r,c,d,h,u,!1);return m.length>0?m:bf(a,o,e,r,i,n,s,l)},checkPoint:function(e,r,i,n,a,o,s,l){l=l==="auto"?hn(n,a):l;var c=2*l;if(ur(e,r,this.points,o,s,n,a-c,[0,-1],i)||ur(e,r,this.points,o,s,n-c,a,[0,-1],i))return!0;var d=n/2+2*i,u=a/2+2*i,h=[o-d,s-u,o-d,s,o+d,s,o+d,s-u];return!!(ui(e,r,h)||ln(e,r,c,c,o+n/2-l,s+a/2-l,i)||ln(e,r,c,c,o-n/2+l,s+a/2-l,i))}}};mr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",li(3,0)),this.generateRoundPolygon("round-triangle",li(3,0)),this.generatePolygon("rectangle",li(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",li(5,0)),this.generateRoundPolygon("round-pentagon",li(5,0)),this.generatePolygon("hexagon",li(6,0)),this.generateRoundPolygon("round-hexagon",li(6,0)),this.generatePolygon("heptagon",li(7,0)),this.generateRoundPolygon("round-heptagon",li(7,0)),this.generatePolygon("octagon",li(8,0)),this.generateRoundPolygon("round-octagon",li(8,0));var i=new Array(20);{var n=cc(5,0),a=cc(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)i[s*4]=n[s*2],i[s*4+1]=n[s*2+1],i[s*4+2]=a[s*2],i[s*4+3]=a[s*2+1]}i=yf(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(c){var d=c.join("$"),u="polygon-"+d,h;return(h=this[u])?h:e.generatePolygon(u,c)}};var fo={};fo.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};fo.redraw=function(t){t=t||ff();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};fo.beforeRender=function(t,e){if(!this.destroyed){e==null&&Et("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(i,n){return n.priority-i.priority})}};var Bh=function(e,r,i){for(var n=e.beforeRenderCallbacks,a=0;a<n.length;a++)n[a].fn(r,i)};fo.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function i(n){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Bh(t,!0,n);var a=dr();t.render(t.renderOptions);var o=t.lastDrawTime=dr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-a;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Bh(t,!1,n);t.skipFrame=!1,Es(i)}};Es(r)}};var Iw=function(e){this.init(e)},bm=Iw,oa=bm.prototype;oa.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];oa.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),i=e.cy.window();if(i){var n=i.document,a=n.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=n.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var c=n.createElement("style");c.id=o,c.textContent="."+s+" { position: relative; }",a.insertBefore(c,a.children[0])}var d=i.getComputedStyle(r),u=d.getPropertyValue("position");u==="static"&&ot("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=le(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};oa.notify=function(t,e){var r=this,i=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&i.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};oa.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],i=r,n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};oa.isHeadless=function(){return!1};[qc,vm,gm,aa,mr,fo].forEach(function(t){ke(oa,t)});var oc=1e3/60,ym={setupDequeueing:function(e){return function(){var i=this,n=this.renderer;if(!i.dequeueingSetup){i.dequeueingSetup=!0;var a=Ls(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=function(c,d){var u=dr(),h=n.averageRedrawTime,m=n.lastRedrawTime,f=[],g=n.cy.extent(),v=n.getPixelRatio();for(c||n.flushRenderedStyleQueue();;){var p=dr(),y=p-u,b=p-d;if(m<oc){var _=oc-(c?h:0);if(b>=e.deqFastCost*_)break}else if(c){if(y>=e.deqCost*m||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*oc)break;var C=e.deq(i,v,g);if(C.length>0)for(var w=0;w<C.length;w++)f.push(C[w]);else break}f.length>0&&(e.onDeqd(i,f),!c&&e.shouldRedraw(i,f,v,g)&&a())},s=e.priority||Mc;n.beforeRender(o,s(i))}}}},Aw=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ks;kc(this,t),this.idsByKey=new Ji,this.keyForId=new Ji,this.cachesByLvl=new Ji,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Dc(t,[{key:"getIdsFor",value:function(r){r==null&&Et("Can not get id list for null key");var i=this.idsByKey,n=this.idsByKey.get(r);return n||(n=new Qn,i.set(r,n)),n}},{key:"addIdForKey",value:function(r,i){r!=null&&this.getIdsFor(r).add(i)}},{key:"deleteIdForKey",value:function(r,i){r!=null&&this.getIdsFor(r).delete(i)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var i=r.id(),n=this.keyForId.get(i),a=this.getKey(r);this.deleteIdForKey(n,i),this.addIdForKey(a,i),this.keyForId.set(i,a)}},{key:"deleteKeyMappingFor",value:function(r){var i=r.id(),n=this.keyForId.get(i);this.deleteIdForKey(n,i),this.keyForId.delete(i)}},{key:"keyHasChangedFor",value:function(r){var i=r.id(),n=this.keyForId.get(i),a=this.getKey(r);return n!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var i=this.cachesByLvl,n=this.lvls,a=i.get(r);return a||(a=new Ji,i.set(r,a),n.push(r)),a}},{key:"getCache",value:function(r,i){return this.getCachesAt(i).get(r)}},{key:"get",value:function(r,i){var n=this.getKey(r),a=this.getCache(n,i);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,i){var n=this.keyForId.get(r.id()),a=this.getCache(n,i);return a}},{key:"hasCache",value:function(r,i){return this.getCachesAt(i).has(r)}},{key:"has",value:function(r,i){var n=this.getKey(r);return this.hasCache(n,i)}},{key:"setCache",value:function(r,i,n){n.key=r,this.getCachesAt(i).set(r,n)}},{key:"set",value:function(r,i,n){var a=this.getKey(r);this.setCache(a,i,n),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,i){this.getCachesAt(i).delete(r)}},{key:"delete",value:function(r,i){var n=this.getKey(r);this.deleteCache(n,i)}},{key:"invalidateKey",value:function(r){var i=this;this.lvls.forEach(function(n){return i.deleteCache(r,n)})}},{key:"invalidate",value:function(r){var i=r.id(),n=this.keyForId.get(i);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(n),a||this.getNumberOfIdsForKey(n)===0}}]),t}(),Vh=25,fs=50,ws=-4,xc=3,Mw=7.99,Tw=8,Ow=1024,Rw=1024,Fw=1024,Pw=.2,Lw=.8,Nw=10,Bw=.15,Vw=.1,zw=.9,jw=.9,Hw=100,Uw=1,Un={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ww=Ut({getKey:null,doesEleInvalidateKey:ks,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:df,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qa=function(e,r){var i=this;i.renderer=e,i.onDequeues=[];var n=Ww(r);ke(i,n),i.lookup=new Aw(n.getKey,n.doesEleInvalidateKey),i.setupDequeueing()},Pt=qa.prototype;Pt.reasons=Un;Pt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Pt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},i=r[t]=r[t]||[];return i};Pt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new lo(function(r,i){return i.reqs-r.reqs});return e};Pt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Pt.getElement=function(t,e,r,i,n){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(i==null&&(i=Math.ceil(Oc(s*r))),i<ws)i=ws;else if(s>=Mw||i>xc)return null;var c=Math.pow(2,i),d=e.h*c,u=e.w*c,h=o.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,h))return null;var m=l.get(t,i);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var f;if(d<=Vh?f=Vh:d<=fs?f=fs:f=Math.ceil(d/fs)*fs,d>Fw||u>Rw)return null;var g=a.getTextureQueue(f),v=g[g.length-2],p=function(){return a.recycleTexture(f,u)||a.addTexture(f,u)};v||(v=g[g.length-1]),v||(v=p()),v.width-v.usedWidth<u&&(v=p());for(var y=function(O){return O&&O.scaledLabelShown===h},b=n&&n===Un.dequeue,_=n&&n===Un.highQuality,C=n&&n===Un.downscale,w,x=i+1;x<=xc;x++){var D=l.get(t,x);if(D){w=D;break}}var E=w&&w.level===i+1?w:null,M=function(){v.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,v.usedWidth,0,u,d)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,u,f),y(E))M();else if(y(w))if(_){for(var I=w.level;I>i;I--)E=a.getElement(t,e,r,I,Un.downscale);M()}else return a.queueElement(t,w.level-1),w;else{var A;if(!b&&!_&&!C)for(var T=i-1;T>=ws;T--){var S=l.get(t,T);if(S){A=S;break}}if(y(A))return a.queueElement(t,i),A;v.context.translate(v.usedWidth,0),v.context.scale(c,c),this.drawElement(v.context,t,e,h,!1),v.context.scale(1/c,1/c),v.context.translate(-v.usedWidth,0)}return m={x:v.usedWidth,texture:v,level:i,scale:c,width:u,height:d,scaledLabelShown:h},v.usedWidth+=Math.ceil(u+Tw),v.eleCaches.push(m),l.set(t,i,m),a.checkTextureFullness(v),m};Pt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Pt.invalidateElement=function(t){var e=this,r=e.lookup,i=[],n=r.isInvalid(t);if(n){for(var a=ws;a<=xc;a++){var o=r.getForCachedKey(t,a);o&&i.push(o)}var s=r.invalidate(t);if(s)for(var l=0;l<i.length;l++){var c=i[l],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(t)}};Pt.checkTextureUtility=function(t){t.invalidatedWidth>=Pw*t.width&&this.retireTexture(t)};Pt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>Lw&&t.fullnessChecks>=Nw?Or(r,t):t.fullnessChecks++};Pt.retireTexture=function(t){var e=this,r=t.height,i=e.getTextureQueue(r),n=this.lookup;Or(i,t),t.retired=!0;for(var a=t.eleCaches,o=0;o<a.length;o++){var s=a[o];n.deleteCache(s.key,s.level)}Tc(a);var l=e.getRetiredTextureQueue(r);l.push(t)};Pt.addTexture=function(t,e){var r=this,i=r.getTextureQueue(t),n={};return i.push(n),n.eleCaches=[],n.height=t,n.width=Math.max(Ow,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=r.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n};Pt.recycleTexture=function(t,e){for(var r=this,i=r.getTextureQueue(t),n=r.getRetiredTextureQueue(t),a=0;a<n.length;a++){var o=n[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Tc(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Or(n,o),i.push(o),o}};Pt.queueElement=function(t,e){var r=this,i=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(t),o=n[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,i.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:a};i.push(s),n[a]=s}};Pt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),i=e.getElementKeyToQueue(),n=[],a=e.lookup,o=0;o<Uw&&r.size()>0;o++){var s=r.pop(),l=s.key,c=s.eles[0],d=a.hasCache(c,s.level);if(i[l]=null,d)continue;n.push(s);var u=e.getBoundingBox(c);e.getElement(c,u,t,s.level,Un.dequeue)}return n};Pt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),i=e.getElementKeyToQueue(),n=this.getKey(t),a=i[n];a!=null&&(a.eles.length===1?(a.reqs=Ac,r.updateItem(a),r.pop(),i[n]=null):a.eles.unmerge(t))};Pt.onDequeue=function(t){this.onDequeues.push(t)};Pt.offDequeue=function(t){Or(this.onDequeues,t)};Pt.setupDequeueing=ym.setupDequeueing({deqRedrawThreshold:Hw,deqCost:Bw,deqAvgCost:Vw,deqNoDrawCost:zw,deqFastCost:jw,deq:function(e,r,i){return e.dequeue(r,i)},onDeqd:function(e,r){for(var i=0;i<e.onDequeues.length;i++){var n=e.onDequeues[i];n(r)}},shouldRedraw:function(e,r,i,n){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(Rc(l,n))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var qw=1,Ga=-4,Rs=2,$w=3.99,Gw=50,Yw=50,Kw=.15,Zw=.1,Xw=.9,Qw=.9,Jw=1,zh=250,eC=4e3*4e3,tC=!0,_m=function(e){var r=this,i=r.renderer=e,n=i.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=dr()-2*zh,r.skipping=!1,r.eleTxrDeqs=n.collection(),r.scheduleElementRefinement=Ls(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Yw),i.beforeRender(function(o,s){s-r.lastInvalidationTime<=zh?r.skipping=!0:r.skipping=!1},i.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new lo(a),r.setupDequeueing()},Wt=_m.prototype,jh=0,iC=Math.pow(2,53)-1;Wt.makeLayer=function(t,e){var r=Math.pow(2,e),i=Math.ceil(t.w*r),n=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(i,n),o={id:jh=++jh%iC,bb:t,level:e,width:i,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,c=-o.bb.y1;return s.scale(r,r),s.translate(l,c),o};Wt.getLayers=function(t,e,r){var i=this,n=i.renderer,a=n.cy,o=a.zoom(),s=i.firstGet;if(i.firstGet=!1,r==null){if(r=Math.ceil(Oc(o*e)),r<Ga)r=Ga;else if(o>=$w||r>Rs)return null}i.validateLayersElesOrdering(r,t);var l=i.layersByLevel,c=Math.pow(2,r),d=l[r]=l[r]||[],u,h=i.levelIsComplete(r,t),m,f=function(){var M=function(F){if(i.validateLayersElesOrdering(F,t),i.levelIsComplete(F,t))return m=l[F],!0},I=function(F){if(!m)for(var O=r+F;Ga<=O&&O<=Rs&&!M(O);O+=F);};I(1),I(-1);for(var A=d.length-1;A>=0;A--){var T=d[A];T.invalid&&Or(d,T)}};if(!h)f();else return d;var g=function(){if(!u){u=hi();for(var M=0;M<t.length;M++)vf(u,t[M].boundingBox())}return u},v=function(M){M=M||{};var I=M.after;g();var A=u.w*c*(u.h*c);if(A>eC)return null;var T=i.makeLayer(u,r);if(I!=null){var S=d.indexOf(I)+1;d.splice(S,0,T)}else(M.insert===void 0||M.insert)&&d.unshift(T);return T};if(i.skipping&&!s)return null;for(var p=null,y=t.length/qw,b=!s,_=0;_<t.length;_++){var C=t[_],w=C._private.rscratch,x=w.imgLayerCaches=w.imgLayerCaches||{},D=x[r];if(D){p=D;continue}if((!p||p.eles.length>=y||!gf(p.bb,C.boundingBox()))&&(p=v({insert:!0,after:p}),!p))return null;m||b?i.queueLayer(p,C):i.drawEleInLayer(p,C,r,e),p.eles.push(C),x[r]=p}return m||(b?null:d)};Wt.getEleLevelForLayerLevel=function(t,e){return t};Wt.drawEleInLayer=function(t,e,r,i){var n=this,a=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=n.getEleLevelForLayerLevel(r,i),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,r,tC),a.setImgSmoothing(o,!0))};Wt.levelIsComplete=function(t,e){var r=this,i=r.layersByLevel[t];if(!i||i.length===0)return!1;for(var n=0,a=0;a<i.length;a++){var o=i[a];if(o.reqs>0||o.invalid)return!1;n+=o.eles.length}return n===e.length};Wt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=-1,o=0;o<e.length;o++)if(n.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(n);continue}for(var s=a,o=0;o<n.eles.length;o++)if(n.eles[o]!==e[s+o]){this.invalidateLayer(n);break}}};Wt.updateElementsInLayers=function(t,e){for(var r=this,i=oo(t[0]),n=0;n<t.length;n++)for(var a=i?null:t[n],o=i?t[n]:t[n].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},c=Ga;c<=Rs;c++){var d=l[c];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||e(d,o,a))}};Wt.haveLayers=function(){for(var t=this,e=!1,r=Ga;r<=Rs;r++){var i=t.layersByLevel[r];if(i&&i.length>0){e=!0;break}}return e};Wt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=dr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(i,n,a){e.invalidateLayer(i)}))};Wt.invalidateLayer=function(t){if(this.lastInvalidationTime=dr(),!t.invalid){var e=t.level,r=t.eles,i=this.layersByLevel[e];Or(i,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var n=0;n<r.length;n++){var a=r[n]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Wt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(i,n,a){var o=i.replacement;if(o||(o=i.replacement=e.makeLayer(i.bb,i.level),o.replaces=i,o.eles=i.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Wt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Wt.queueLayer=function(t,e){var r=this,i=r.layersQueue,n=t.elesQueue,a=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;n.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,i.updateItem(t)):(t.reqs=1,i.push(t))}};Wt.dequeue=function(t){for(var e=this,r=e.layersQueue,i=[],n=0;n<Jw&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,t),n++),i.length===0&&i.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return i};Wt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],i=t.replaces,n=r.indexOf(i);if(!(n<0||i.invalid)){r[n]=t;for(var a=0;a<t.eles.length;a++){var o=t.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Wt.requestRedraw=Ls(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Wt.setupDequeueing=ym.setupDequeueing({deqRedrawThreshold:Gw,deqCost:Kw,deqAvgCost:Zw,deqNoDrawCost:Xw,deqFastCost:Qw,deq:function(e,r){return e.dequeue(r)},onDeqd:Mc,shouldRedraw:df,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var xm={},Hh;function rC(t,e){for(var r=0;r<e.length;r++){var i=e[r];t.lineTo(i.x,i.y)}}function nC(t,e,r){for(var i,n=0;n<e.length;n++){var a=e[n];n===0&&(i=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,i.x,i.y)}function Uh(t,e,r){t.beginPath&&t.beginPath();for(var i=e,n=0;n<i.length;n++){var a=i[n];t.lineTo(a.x,a.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var n=1;n<o.length;n++){var a=o[n];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function aC(t,e,r,i,n){t.beginPath&&t.beginPath(),t.arc(r,i,n,0,Math.PI*2,!1);var a=e,o=a[0];t.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function oC(t,e,r,i){t.arc(e,r,i,0,Math.PI*2,!1)}xm.arrowShapeImpl=function(t){return(Hh||(Hh={polygon:rC,"triangle-backcurve":nC,"triangle-tee":Uh,"circle-triangle":aC,"triangle-cross":Uh,circle:oC}))[t]};var ir={};ir.drawElement=function(t,e,r,i,n,a){var o=this;e.isNode()?o.drawNode(t,e,r,i,n,a):o.drawEdge(t,e,r,i,n,a)};ir.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};ir.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};ir.drawCachedElementPortion=function(t,e,r,i,n,a,o,s){var l=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var d=r.getElement(e,c,i,n,a);if(d!=null){var u=s(l,e);if(u===0)return;var h=o(l,e),m=c.x1,f=c.y1,g=c.w,v=c.h,p,y,b,_,C;if(h!==0){var w=r.getRotationPoint(e);b=w.x,_=w.y,t.translate(b,_),t.rotate(h),C=l.getImgSmoothing(t),C||l.setImgSmoothing(t,!0);var x=r.getRotationOffset(e);p=x.x,y=x.y}else p=m,y=f;var D;u!==1&&(D=t.globalAlpha,t.globalAlpha=D*u),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,p,y,g,v),u!==1&&(t.globalAlpha=D),h!==0&&(t.rotate(-h),t.translate(-b,-_),C||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var sC=function(){return 0},lC=function(e,r){return e.getTextAngle(r,null)},cC=function(e,r){return e.getTextAngle(r,"source")},dC=function(e,r){return e.getTextAngle(r,"target")},uC=function(e,r){return r.effectiveOpacity()},sc=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};ir.drawCachedElement=function(t,e,r,i,n,a){var o=this,s=o.data,l=s.eleTxrCache,c=s.lblTxrCache,d=s.slbTxrCache,u=s.tlbTxrCache,h=e.boundingBox(),m=a===!0?l.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!i||Rc(h,i))){var f=e.isEdge(),g=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,r,n,m,sC,uC),(!f||!g)&&o.drawCachedElementPortion(t,e,c,r,n,m,lC,sc),f&&!g&&(o.drawCachedElementPortion(t,e,d,r,n,m,cC,sc),o.drawCachedElementPortion(t,e,u,r,n,m,dC,sc)),o.drawElementOverlay(t,e)}};ir.drawElements=function(t,e){for(var r=this,i=0;i<e.length;i++){var n=e[i];r.drawElement(t,n)}};ir.drawCachedElements=function(t,e,r,i){for(var n=this,a=0;a<e.length;a++){var o=e[a];n.drawCachedElement(t,o,r,i)}};ir.drawCachedNodes=function(t,e,r,i){for(var n=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&n.drawCachedElement(t,o,r,i)}};ir.drawLayeredElements=function(t,e,r,i){var n=this,a=n.data.lyrTxrCache.getLayers(e,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||t.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else n.drawCachedElements(t,e,r,i)};var pr={};pr.drawEdge=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var c=a?e.pstyle("opacity").value:1,d=a?e.pstyle("line-opacity").value:1,u=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,f=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,v=e.pstyle("line-outline-color").value,p=c*d,y=c*d,b=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;u==="straight-triangle"?(o.eleStrokeStyle(t,e,F),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=m,t.lineCap=f,o.eleStrokeStyle(t,e,F),o.drawEdgePath(e,t,s.allpts,h),t.lineCap="butt")},_=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;if(t.lineWidth=m+g,t.lineCap=f,g>0)o.colorStrokeStyle(t,v[0],v[1],v[2],F);else{t.lineCap="butt";return}u==="straight-triangle"?o.drawEdgeTrianglePath(e,t,s.allpts):(o.drawEdgePath(e,t,s.allpts,h),t.lineCap="butt")},C=function(){n&&o.drawEdgeOverlay(t,e)},w=function(){n&&o.drawEdgeUnderlay(t,e)},x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(t,e,F)},D=function(){o.drawElementText(t,e,null,i)};t.lineJoin="round";var E=e.pstyle("ghost").value==="yes";if(E){var M=e.pstyle("ghost-offset-x").pfValue,I=e.pstyle("ghost-offset-y").pfValue,A=e.pstyle("ghost-opacity").value,T=p*A;t.translate(M,I),b(T),x(T),t.translate(-M,-I)}else _();w(),b(),x(),C(),D(),r&&t.translate(l.x1,l.y1)}};var wm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,i){if(i.visible()){var n=i.pstyle("".concat(e,"-opacity")).value;if(n!==0){var a=this,o=a.usePaths(),s=i._private.rscratch,l=i.pstyle("".concat(e,"-padding")).pfValue,c=2*l,d=i.pstyle("".concat(e,"-color")).value;r.lineWidth=c,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,d[0],d[1],d[2],n),a.drawEdgePath(i,r,s.allpts,"solid")}}}};pr.drawEdgeOverlay=wm("overlay");pr.drawEdgeUnderlay=wm("underlay");pr.drawEdgePath=function(t,e,r,i){var n=t._private.rscratch,a=e,o,s=!1,l=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(l){var u=r.join("$"),h=n.pathCacheKey&&n.pathCacheKey===u;h?(o=e=n.pathCache,s=!0):(o=e=new Path2D,n.pathCacheKey=u,n.pathCache=o)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(c),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!s&&!n.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var f=2;f+1<r.length;f+=2)e.lineTo(r[f],r[f+1]);break;case"segments":if(n.isRound){var g=Kh(n.roundCorners),v;try{for(g.s();!(v=g.n()).done;){var p=v.value;um(e,p)}}catch(b){g.e(b)}finally{g.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1]);break}e=a,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};pr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var i=t.pstyle("width").pfValue,n=0;n+1<r.length;n+=2){var a=[r[n+2]-r[n],r[n+3]-r[n+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*i/2,s[1]*i/2];e.beginPath(),e.moveTo(r[n]-l[0],r[n+1]-l[1]),e.lineTo(r[n]+l[0],r[n+1]+l[1]),e.lineTo(r[n+2],r[n+3]),e.closePath(),e.fill()}};pr.drawArrowheads=function(t,e,r){var i=e._private.rscratch,n=i.edgeType==="haystack";n||this.drawArrowhead(t,e,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,r),n||this.drawArrowhead(t,e,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,r)};pr.drawArrowhead=function(t,e,r,i,n,a,o){if(!(isNaN(i)||i==null||isNaN(n)||n==null||isNaN(a)||a==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,u=e.pstyle("width").pfValue,h=e.pstyle(r+"-arrow-width"),m=h.value==="match-line"?u:h.pfValue;h.units==="%"&&(m*=u);var f=e.pstyle("opacity").value;o===void 0&&(o=f);var g=t.globalCompositeOperation;(o!==1||d==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,c,u,l,m,i,n,a),t.globalCompositeOperation=g);var v=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,v[0],v[1],v[2],o),s.colorStrokeStyle(t,v[0],v[1],v[2],o),s.drawArrowShape(e,t,d,u,l,m,i,n,a)}}};pr.drawArrowShape=function(t,e,r,i,n,a,o,s,l){var c=this,d=this.usePaths()&&n!=="triangle-cross",u=!1,h,m=e,f={x:o,y:s},g=t.pstyle("arrow-scale").value,v=this.getArrowWidth(i,g),p=c.arrowShapes[n];if(d){var y=c.arrowPathCache=c.arrowPathCache||[],b=dn(n),_=y[b];_!=null?(h=e=_,u=!0):(h=e=new Path2D,y[b]=h)}u||(e.beginPath&&e.beginPath(),d?p.draw(e,1,0,{x:0,y:0},1):p.draw(e,v,l,f,i),e.closePath&&e.closePath()),e=m,d&&(e.translate(o,s),e.rotate(l),e.scale(v,v)),(r==="filled"||r==="both")&&(d?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(d?v:1),e.lineJoin="miter",d?e.stroke(h):e.stroke()),d&&(e.scale(1/v,1/v),e.rotate(-l),e.translate(-o,-s))};var Yc={};Yc.safeDrawImage=function(t,e,r,i,n,a,o,s,l,c){if(!(n<=0||a<=0||l<=0||c<=0))try{t.drawImage(e,r,i,n,a,o,s,l,c)}catch(d){ot(d)}};Yc.drawInscribedImage=function(t,e,r,i,n){var a=this,o=r.position(),s=o.x,l=o.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),u=d(r,"background-fit","value",i),h=d(r,"background-repeat","value",i),m=r.width(),f=r.height(),g=r.padding()*2,v=m+(d(r,"background-width-relative-to","value",i)==="inner"?0:g),p=f+(d(r,"background-height-relative-to","value",i)==="inner"?0:g),y=r._private.rscratch,b=d(r,"background-clip","value",i),_=b==="node",C=d(r,"background-image-opacity","value",i)*n,w=d(r,"background-image-smoothing","value",i),x=r.pstyle("corner-radius").value;x!=="auto"&&(x=r.pstyle("corner-radius").pfValue);var D=e.width||e.cachedW,E=e.height||e.cachedH;(D==null||E==null)&&(document.body.appendChild(e),D=e.cachedW=e.width||e.offsetWidth,E=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var M=D,I=E;if(d(r,"background-width","value",i)!=="auto"&&(d(r,"background-width","units",i)==="%"?M=d(r,"background-width","pfValue",i)*v:M=d(r,"background-width","pfValue",i)),d(r,"background-height","value",i)!=="auto"&&(d(r,"background-height","units",i)==="%"?I=d(r,"background-height","pfValue",i)*p:I=d(r,"background-height","pfValue",i)),!(M===0||I===0)){if(u==="contain"){var A=Math.min(v/M,p/I);M*=A,I*=A}else if(u==="cover"){var A=Math.max(v/M,p/I);M*=A,I*=A}var T=s-v/2,S=d(r,"background-position-x","units",i),F=d(r,"background-position-x","pfValue",i);S==="%"?T+=(v-M)*F:T+=F;var O=d(r,"background-offset-x","units",i),R=d(r,"background-offset-x","pfValue",i);O==="%"?T+=(v-M)*R:T+=R;var P=l-p/2,j=d(r,"background-position-y","units",i),H=d(r,"background-position-y","pfValue",i);j==="%"?P+=(p-I)*H:P+=H;var V=d(r,"background-offset-y","units",i),N=d(r,"background-offset-y","pfValue",i);V==="%"?P+=(p-I)*N:P+=N,y.pathCache&&(T-=s,P-=l,s=0,l=0);var $=t.globalAlpha;t.globalAlpha=C;var X=a.getImgSmoothing(t),J=!1;if(w==="no"&&X?(a.setImgSmoothing(t,!1),J=!0):w==="yes"&&!X&&(a.setImgSmoothing(t,!0),J=!0),h==="no-repeat")_&&(t.save(),y.pathCache?t.clip(y.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,s,l,v,p,x,y),t.clip())),a.safeDrawImage(t,e,0,0,D,E,T,P,M,I),_&&t.restore();else{var ee=t.createPattern(e,h);t.fillStyle=ee,a.nodeShapes[a.getNodeShape(r)].draw(t,s,l,v,p,x,y),t.translate(T,P),t.fill(),t.translate(-T,-P)}t.globalAlpha=$,J&&a.setImgSmoothing(t,X)}};var gn={};gn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),i=this.getPixelRatio(),n=Math.ceil(Oc(r*i));e=Math.pow(2,n)}var a=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};gn.drawElementText=function(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(i==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(i===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),u=e.pstyle("source-label"),h=e.pstyle("target-label");if(c||(!d||!d.value)&&(!u||!u.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,f;r&&(f=r,t.translate(-f.x1,-f.y1)),n==null?(o.drawText(t,e,null,m,a),e.isEdge()&&(o.drawText(t,e,"source",m,a),o.drawText(t,e,"target",m,a))):o.drawText(t,e,n,m,a),r&&t.translate(f.x1,f.y1)};gn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};gn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.pstyle("font-style").strValue,n=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=i+" "+o+" "+n+" "+a,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],s),this.colorStrokeStyle(t,d[0],d[1],d[2],l)};function lc(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+i-a,r),t.quadraticCurveTo(e+i,r,e+i,r+a),t.lineTo(e+i,r+n-a),t.quadraticCurveTo(e+i,r+n,e+i-a,r+n),t.lineTo(e+a,r+n),t.quadraticCurveTo(e,r+n,e,r+n-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),o?t.stroke():t.fill()}gn.getTextAngle=function(t,e){var r,i=t._private,n=i.rscratch,a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),s=Ni(n,"labelAngle",e);return o.strValue==="autorotate"?r=t.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};gn.drawText=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=n?e.effectiveOpacity():1;if(!(n&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Ni(o,"labelX",r),c=Ni(o,"labelY",r),d,u,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(l)&&!isNaN(c)){this.setupTextStyle(t,e,n);var m=r?r+"-":"",f=Ni(o,"labelWidth",r),g=Ni(o,"labelHeight",r),v=e.pstyle(m+"text-margin-x").pfValue,p=e.pstyle(m+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;y&&(b="center",_="center"),l+=v,c+=p;var C;switch(i?C=this.getTextAngle(e,r):C=0,C!==0&&(d=l,u=c,t.translate(d,u),t.rotate(C),l=0,c=0),_){case"top":break;case"center":c+=g/2;break;case"bottom":c+=g;break}var w=e.pstyle("text-background-opacity").value,x=e.pstyle("text-border-opacity").value,D=e.pstyle("text-border-width").pfValue,E=e.pstyle("text-background-padding").pfValue,M=e.pstyle("text-background-shape").strValue,I=M.indexOf("round")===0,A=2;if(w>0||D>0&&x>0){var T=l-E;switch(b){case"left":T-=f;break;case"center":T-=f/2;break}var S=c-g-E,F=f+2*E,O=g+2*E;if(w>0){var R=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+w*s+")",I?lc(t,T,S,F,O,A):t.fillRect(T,S,F,O),t.fillStyle=R}if(D>0&&x>0){var j=t.strokeStyle,H=t.lineWidth,V=e.pstyle("text-border-color").value,N=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+x*s+")",t.lineWidth=D,t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=D/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(I?lc(t,T,S,F,O,A,"stroke"):t.strokeRect(T,S,F,O),N==="double"){var $=D/2;I?lc(t,T+$,S+$,F-$*2,O-$*2,A,"stroke"):t.strokeRect(T+$,S+$,F-$*2,O-$*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=H,t.strokeStyle=j}}var X=2*e.pstyle("text-outline-width").pfValue;if(X>0&&(t.lineWidth=X),e.pstyle("text-wrap").value==="wrap"){var J=Ni(o,"labelWrapCachedLines",r),ee=Ni(o,"labelLineHeight",r),te=f/2,G=this.getLabelJustification(e);switch(G==="auto"||(b==="left"?G==="left"?l+=-f:G==="center"&&(l+=-te):b==="center"?G==="left"?l+=-te:G==="right"&&(l+=te):b==="right"&&(G==="center"?l+=te:G==="right"&&(l+=f))),_){case"top":c-=(J.length-1)*ee;break;case"center":case"bottom":c-=(J.length-1)*ee;break}for(var L=0;L<J.length;L++)X>0&&t.strokeText(J[L],l,c),t.fillText(J[L],l,c),c+=ee}else X>0&&t.strokeText(h,l,c),t.fillText(h,l,c);C!==0&&(t.rotate(-C),t.translate(-d,-u))}}};var sa={};sa.drawNode=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,c=e._private,d=c.rscratch,u=e.position();if(!(!le(u.x)||!le(u.y))&&!(a&&!e.visible())){var h=a?e.effectiveOpacity():1,m=o.usePaths(),f,g=!1,v=e.padding();s=e.width()+2*v,l=e.height()+2*v;var p;r&&(p=r,t.translate(-p.x1,-p.y1));for(var y=e.pstyle("background-image"),b=y.value,_=new Array(b.length),C=new Array(b.length),w=0,x=0;x<b.length;x++){var D=b[x],E=_[x]=D!=null&&D!=="none";if(E){var M=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",x);w++,C[x]=o.getCachedImage(D,M,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var I=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,T=e.pstyle("background-opacity").value*h,S=e.pstyle("border-color").value,F=e.pstyle("border-style").value,O=e.pstyle("border-join").value,R=e.pstyle("border-cap").value,P=e.pstyle("border-position").value,j=e.pstyle("border-dash-pattern").pfValue,H=e.pstyle("border-dash-offset").pfValue,V=e.pstyle("border-opacity").value*h,N=e.pstyle("outline-width").pfValue,$=e.pstyle("outline-color").value,X=e.pstyle("outline-style").value,J=e.pstyle("outline-opacity").value*h,ee=e.pstyle("outline-offset").value,te=e.pstyle("corner-radius").value;te!=="auto"&&(te=e.pstyle("corner-radius").pfValue);var G=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;o.eleFillStyle(t,e,oe)},L=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;o.colorStrokeStyle(t,S[0],S[1],S[2],oe)},Y=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J;o.colorStrokeStyle(t,$[0],$[1],$[2],oe)},K=function(oe,q,ne,Ce){var Ee=o.nodePathCache=o.nodePathCache||[],pe=cf(ne==="polygon"?ne+","+Ce.join(","):ne,""+q,""+oe,""+te),Ie=Ee[pe],fe,xe=!1;return Ie!=null?(fe=Ie,xe=!0,d.pathCache=fe):(fe=new Path2D,Ee[pe]=d.pathCache=fe),{path:fe,cacheHit:xe}},de=e.pstyle("shape").strValue,_e=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(u.x,u.y);var se=K(s,l,de,_e);f=se.path,g=se.cacheHit}var ce=function(){if(!g){var oe=u;m&&(oe={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(f||t,oe.x,oe.y,s,l,te,d)}m?t.fill(f):t.fill()},he=function(){for(var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ne=c.backgrounding,Ce=0,Ee=0;Ee<C.length;Ee++){var pe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ee);if(q&&pe==="over"||!q&&pe==="inside"){Ce++;continue}_[Ee]&&C[Ee].complete&&!C[Ee].error&&(Ce++,o.drawInscribedImage(t,C[Ee],e,Ee,oe))}c.backgrounding=Ce!==w,ne!==c.backgrounding&&e.updateStyle(!1)},ge=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasPie(e)&&(o.drawPie(t,e,q),oe&&(m||o.nodeShapes[o.getNodeShape(e)].draw(t,u.x,u.y,s,l,te,d)))},me=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,q=(I>0?I:-I)*oe,ne=I>0?0:255;I!==0&&(o.colorFillStyle(t,ne,ne,ne,q),m?t.fill(f):t.fill())},we=function(){if(A>0){if(t.lineWidth=A,t.lineCap=R,t.lineJoin=O,t.setLineDash)switch(F){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(j),t.lineDashOffset=H;break;case"solid":case"double":t.setLineDash([]);break}if(P!=="center"){if(t.save(),t.lineWidth*=2,P==="inside")m?t.clip(f):t.clip();else{var oe=new Path2D;oe.rect(-s/2-A,-l/2-A,s+2*A,l+2*A),oe.addPath(f),t.clip(oe,"evenodd")}m?t.stroke(f):t.stroke(),t.restore()}else m?t.stroke(f):t.stroke();if(F==="double"){t.lineWidth=A/3;var q=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(f):t.stroke(),t.globalCompositeOperation=q}t.setLineDash&&t.setLineDash([])}},nt=function(){if(N>0){if(t.lineWidth=N,t.lineCap="butt",t.setLineDash)switch(X){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var oe=u;m&&(oe={x:0,y:0});var q=o.getNodeShape(e),ne=A;P==="inside"&&(ne=0),P==="outside"&&(ne*=2);var Ce=(s+ne+(N+ee))/s,Ee=(l+ne+(N+ee))/l,pe=s*Ce,Ie=l*Ee,fe=o.nodeShapes[q].points,xe;if(m){var bt=K(pe,Ie,q,fe);xe=bt.path}if(q==="ellipse")o.drawEllipsePath(xe||t,oe.x,oe.y,pe,Ie);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(q)){var ut=0,ti=0,Bt=0;q==="round-diamond"?ut=(ne+ee+N)*1.4:q==="round-heptagon"?(ut=(ne+ee+N)*1.075,Bt=-(ne/2+ee+N)/35):q==="round-hexagon"?ut=(ne+ee+N)*1.12:q==="round-pentagon"?(ut=(ne+ee+N)*1.13,Bt=-(ne/2+ee+N)/15):q==="round-tag"?(ut=(ne+ee+N)*1.12,ti=(ne/2+N+ee)*.07):q==="round-triangle"&&(ut=(ne+ee+N)*(Math.PI/2),Bt=-(ne+ee/2+N)/Math.PI),ut!==0&&(Ce=(s+ut)/s,pe=s*Ce,["round-hexagon","round-tag"].includes(q)||(Ee=(l+ut)/l,Ie=l*Ee)),te=te==="auto"?_f(pe,Ie):te;for(var Mt=pe/2,ci=Ie/2,Vt=te+(ne+N+ee)/2,ii=new Array(fe.length/2),Ai=new Array(fe.length/2),gi=0;gi<fe.length/2;gi++)ii[gi]={x:oe.x+ti+Mt*fe[gi*2],y:oe.y+Bt+ci*fe[gi*2+1]};var di,Ui,ar,Mi,Tt=ii.length;for(Ui=ii[Tt-1],di=0;di<Tt;di++)ar=ii[di%Tt],Mi=ii[(di+1)%Tt],Ai[di]=$c(Ui,ar,Mi,Vt),Ui=ar,ar=Mi;o.drawRoundPolygonPath(xe||t,oe.x+ti,oe.y+Bt,s*Ce,l*Ee,fe,Ai)}else if(["roundrectangle","round-rectangle"].includes(q))te=te==="auto"?hn(pe,Ie):te,o.drawRoundRectanglePath(xe||t,oe.x,oe.y,pe,Ie,te+(ne+N+ee)/2);else if(["cutrectangle","cut-rectangle"].includes(q))te=te==="auto"?Fc():te,o.drawCutRectanglePath(xe||t,oe.x,oe.y,pe,Ie,null,te+(ne+N+ee)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(q))te=te==="auto"?hn(pe,Ie):te,o.drawBottomRoundRectanglePath(xe||t,oe.x,oe.y,pe,Ie,te+(ne+N+ee)/2);else if(q==="barrel")o.drawBarrelPath(xe||t,oe.x,oe.y,pe,Ie);else if(q.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(q)){var Lt=(ne+N+ee)/s;fe=Ds(Ss(fe,Lt)),o.drawPolygonPath(xe||t,oe.x,oe.y,s,l,fe)}else{var $t=(ne+N+ee)/s;fe=Ds(Ss(fe,-$t)),o.drawPolygonPath(xe||t,oe.x,oe.y,s,l,fe)}if(m?t.stroke(xe):t.stroke(),X==="double"){t.lineWidth=ne/3;var Dn=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(xe):t.stroke(),t.globalCompositeOperation=Dn}t.setLineDash&&t.setLineDash([])}},$e=function(){n&&o.drawNodeOverlay(t,e,u,s,l)},Le=function(){n&&o.drawNodeUnderlay(t,e,u,s,l)},Ke=function(){o.drawElementText(t,e,null,i)},Q=e.pstyle("ghost").value==="yes";if(Q){var k=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue,Z=e.pstyle("ghost-opacity").value,W=Z*h;t.translate(k,z),Y(),nt(),G(Z*T),ce(),he(W,!0),L(Z*V),we(),ge(I!==0||A!==0),he(W,!1),me(W),t.translate(-k,-z)}m&&t.translate(-u.x,-u.y),Le(),m&&t.translate(u.x,u.y),Y(),nt(),G(),ce(),he(h,!0),L(),we(),ge(I!==0||A!==0),he(h,!1),me(),m&&t.translate(-u.x,-u.y),Ke(),$e(),r&&t.translate(p.x1,p.y1)}};var Cm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,i,n,a,o){var s=this;if(i.visible()){var l=i.pstyle("".concat(e,"-padding")).pfValue,c=i.pstyle("".concat(e,"-opacity")).value,d=i.pstyle("".concat(e,"-color")).value,u=i.pstyle("".concat(e,"-shape")).value,h=i.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(n=n||i.position(),a==null||o==null){var m=i.padding();a=i.width()+2*m,o=i.height()+2*m}s.colorFillStyle(r,d[0],d[1],d[2],c),s.nodeShapes[u].draw(r,n.x,n.y,a+l*2,o+l*2,h),r.fill()}}}};sa.drawNodeOverlay=Cm("overlay");sa.drawNodeUnderlay=Cm("underlay");sa.hasPie=function(t){return t=t[0],t._private.hasPie};sa.drawPie=function(t,e,r,i){e=e[0],i=i||e.position();var n=e.cy().style(),a=e.pstyle("pie-size"),o=i.x,s=i.y,l=e.width(),c=e.height(),d=Math.min(l,c)/2,u=0,h=this.usePaths();h&&(o=0,s=0),a.units==="%"?d=d*a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var m=1;m<=n.pieBackgroundN;m++){var f=e.pstyle("pie-"+m+"-background-size").value,g=e.pstyle("pie-"+m+"-background-color").value,v=e.pstyle("pie-"+m+"-background-opacity").value*r,p=f/100;p+u>1&&(p=1-u);var y=1.5*Math.PI+2*Math.PI*u,b=2*Math.PI*p,_=y+b;f===0||u>=1||u+p>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,d,y,_),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],v),t.fill(),u+=p)}};var mi={},hC=100;mi.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};mi.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,i,n=0;n<e.length;n++)if(i=e[n],i.context===t){r=!1;break}return r&&(i={context:t},e.push(i)),i};mi.createGradientStyleFor=function(t,e,r,i,n){var a,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(i==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),u=r.midpoint(),h=un(c,u),m=un(d,u);a=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(h,m))}else{var f=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),v=r.paddedHeight();a=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(r.isEdge()){var p=r.sourceEndpoint(),y=r.targetEndpoint();a=t.createLinearGradient(p.x,p.y,y.x,y.y)}else{var b=o?{x:0,y:0}:r.position(),_=r.paddedWidth(),C=r.paddedHeight(),w=_/2,x=C/2,D=r.pstyle("background-gradient-direction").value;switch(D){case"to-bottom":a=t.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":a=t.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":a=t.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":a=t.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x);break}}if(!a)return null;for(var E=l.length===s.length,M=s.length,I=0;I<M;I++)a.addColorStop(E?l[I]:I/(M-1),"rgba("+s[I][0]+","+s[I][1]+","+s[I][2]+","+n+")");return a};mi.gradientFillStyle=function(t,e,r,i){var n=this.createGradientStyleFor(t,"background",e,r,i);if(!n)return null;t.fillStyle=n};mi.colorFillStyle=function(t,e,r,i,n){t.fillStyle="rgba("+e+","+r+","+i+","+n+")"};mi.eleFillStyle=function(t,e,r){var i=e.pstyle("background-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientFillStyle(t,e,i,r);else{var n=e.pstyle("background-color").value;this.colorFillStyle(t,n[0],n[1],n[2],r)}};mi.gradientStrokeStyle=function(t,e,r,i){var n=this.createGradientStyleFor(t,"line",e,r,i);if(!n)return null;t.strokeStyle=n};mi.colorStrokeStyle=function(t,e,r,i,n){t.strokeStyle="rgba("+e+","+r+","+i+","+n+")"};mi.eleStrokeStyle=function(t,e,r){var i=e.pstyle("line-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientStrokeStyle(t,e,i,r);else{var n=e.pstyle("line-color").value;this.colorStrokeStyle(t,n[0],n[1],n[2],r)}};mi.matchCanvasSize=function(t){var e=this,r=e.data,i=e.findContainerClientCoords(),n=i[2],a=i[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=n*o,c=a*o,d;if(!(l===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var u=r.canvasContainer;u.style.width=n+"px",u.style.height=a+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)d=r.canvases[h],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";for(var h=0;h<e.BUFFER_COUNT;h++)d=r.bufferCanvases[h],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";e.textureMult=1,o<=1&&(d=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=l*e.textureMult,d.height=c*e.textureMult),e.canvasWidth=l,e.canvasHeight=c}};mi.renderTo=function(t,e,r,i){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:i})};mi.render=function(t){t=t||ff();var e=t.forcedContext,r=t.drawAllLayers,i=t.drawOnlyNodeLayer,n=t.forcedZoom,a=t.forcedPan,o=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=o.cy,c=o.data,d=c.canvasNeedsRedraw,u=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,m=o.motionBlurPxRatio,f=l.hasCompoundNodes(),g=o.hoverData.draggingEles,v=!!(o.hoverData.selecting||o.touchData.selecting);h=h&&!e&&o.motionBlurEnabled&&!v;var p=h;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),h&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(p=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!u&&(d[o.NODE]=!0,d[o.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),_=n!==void 0?n:b,C=l.pan(),w={x:C.x,y:C.y},x={zoom:b,pan:{x:C.x,y:C.y}},D=o.prevViewport,E=D===void 0||x.zoom!==D.zoom||x.pan.x!==D.pan.x||x.pan.y!==D.pan.y;!E&&!(g&&!f)&&(o.motionBlurPxRatio=1),a&&(w=a),_*=s,w.x*=s,w.y*=s;var M=o.getCachedZSortedEles();function I(se,ce,he,ge,me){var we=se.globalCompositeOperation;se.globalCompositeOperation="destination-out",o.colorFillStyle(se,255,255,255,o.motionBlurTransparency),se.fillRect(ce,he,ge,me),se.globalCompositeOperation=we}function A(se,ce){var he,ge,me,we;!o.clearingMotionBlur&&(se===c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||se===c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(he={x:C.x*m,y:C.y*m},ge=b*m,me=o.canvasWidth*m,we=o.canvasHeight*m):(he=w,ge=_,me=o.canvasWidth,we=o.canvasHeight),se.setTransform(1,0,0,1,0,0),ce==="motionBlur"?I(se,0,0,me,we):!e&&(ce===void 0||ce)&&se.clearRect(0,0,me,we),r||(se.translate(he.x,he.y),se.scale(ge,ge)),a&&se.translate(a.x,a.y),n&&se.scale(n,n)}if(u||(o.textureDrawLastFrame=!1),u){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var T=o.data.bufferContexts[o.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var x=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}d[o.DRAG]=!1,d[o.NODE]=!1;var S=c.contexts[o.NODE],F=o.textureCache.texture,x=o.textureCache.viewport;S.setTransform(1,0,0,1,0,0),h?I(S,0,0,x.width,x.height):S.clearRect(0,0,x.width,x.height);var O=y.core("outside-texture-bg-color").value,R=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(S,O[0],O[1],O[2],R),S.fillRect(0,0,x.width,x.height);var b=l.zoom();A(S,!1),S.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s),S.drawImage(F,x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var P=l.extent(),j=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),H=o.hideEdgesOnViewport&&j,V=[];if(V[o.NODE]=!d[o.NODE]&&h&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,V[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),V[o.DRAG]=!d[o.DRAG]&&h&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,V[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),d[o.NODE]||r||i||V[o.NODE]){var N=h&&!V[o.NODE]&&m!==1,S=e||(N?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),$=h&&!N?"motionBlur":void 0;A(S,$),H?o.drawCachedNodes(S,M.nondrag,s,P):o.drawLayeredElements(S,M.nondrag,s,P),o.debug&&o.drawDebugPoints(S,M.nondrag),!r&&!h&&(d[o.NODE]=!1)}if(!i&&(d[o.DRAG]||r||V[o.DRAG])){var N=h&&!V[o.DRAG]&&m!==1,S=e||(N?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]);A(S,h&&!N?"motionBlur":void 0),H?o.drawCachedNodes(S,M.drag,s,P):o.drawCachedElements(S,M.drag,s,P),o.debug&&o.drawDebugPoints(S,M.drag),!r&&!h&&(d[o.DRAG]=!1)}if(o.showFps||!i&&d[o.SELECT_BOX]&&!r){var S=e||c.contexts[o.SELECT_BOX];if(A(S),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var b=o.cy.zoom(),X=y.core("selection-box-border-width").value/b;S.lineWidth=X,S.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",S.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),X>0&&(S.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",S.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){var b=o.cy.zoom(),J=c.bgActivePosistion;S.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",S.beginPath(),S.arc(J.x,J.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),S.fill()}var ee=o.lastRedrawTime;if(o.showFps&&ee){ee=Math.round(ee);var te=Math.round(1e3/ee);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+ee+" ms = "+te+" fps",0,20);var G=60;S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(te/G,1),20)}r||(d[o.SELECT_BOX]=!1)}if(h&&m!==1){var L=c.contexts[o.NODE],Y=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],K=c.contexts[o.DRAG],de=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],_e=function(ce,he,ge){ce.setTransform(1,0,0,1,0,0),ge||!p?ce.clearRect(0,0,o.canvasWidth,o.canvasHeight):I(ce,0,0,o.canvasWidth,o.canvasHeight);var me=m;ce.drawImage(he,0,0,o.canvasWidth*me,o.canvasHeight*me,0,0,o.canvasWidth,o.canvasHeight)};(d[o.NODE]||V[o.NODE])&&(_e(L,Y,V[o.NODE]),d[o.NODE]=!1),(d[o.DRAG]||V[o.DRAG])&&(_e(K,de,V[o.DRAG]),d[o.DRAG]=!1)}o.prevViewport=x,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),h&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!u,o.mbFrames=0,d[o.NODE]=!0,d[o.DRAG]=!0,o.redraw()},hC)),e||l.emit("render")};var Nr={};Nr.drawPolygonPath=function(t,e,r,i,n,a){var o=i/2,s=n/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+o*a[l*2],r+s*a[l*2+1]);t.closePath()};Nr.drawRoundPolygonPath=function(t,e,r,i,n,a,o){o.forEach(function(s){return um(t,s)}),t.closePath()};Nr.drawRoundRectanglePath=function(t,e,r,i,n,a){var o=i/2,s=n/2,l=a==="auto"?hn(i,n):Math.min(a,s,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+o,r-s,e+o,r,l),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.arcTo(e-o,r-s,e,r-s,l),t.lineTo(e,r-s),t.closePath()};Nr.drawBottomRoundRectanglePath=function(t,e,r,i,n,a){var o=i/2,s=n/2,l=a==="auto"?hn(i,n):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+o,r-s),t.lineTo(e+o,r),t.arcTo(e+o,r+s,e,r+s,l),t.arcTo(e-o,r+s,e-o,r,l),t.lineTo(e-o,r-s),t.lineTo(e,r-s),t.closePath()};Nr.drawCutRectanglePath=function(t,e,r,i,n,a,o){var s=i/2,l=n/2,c=o==="auto"?Fc():o;t.beginPath&&t.beginPath(),t.moveTo(e-s+c,r-l),t.lineTo(e+s-c,r-l),t.lineTo(e+s,r-l+c),t.lineTo(e+s,r+l-c),t.lineTo(e+s-c,r+l),t.lineTo(e-s+c,r+l),t.lineTo(e-s,r+l-c),t.lineTo(e-s,r-l+c),t.closePath()};Nr.drawBarrelPath=function(t,e,r,i,n){var a=i/2,o=n/2,s=e-a,l=e+a,c=r-o,d=r+o,u=dc(i,n),h=u.widthOffset,m=u.heightOffset,f=u.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(s,c+m),t.lineTo(s,d-m),t.quadraticCurveTo(s+f,d,s+h,d),t.lineTo(l-h,d),t.quadraticCurveTo(l-f,d,l,d-m),t.lineTo(l,c+m),t.quadraticCurveTo(l-f,c,l-h,c),t.lineTo(s+h,c),t.quadraticCurveTo(s+f,c,s,c+m),t.closePath()};var Wh=Math.sin(0),qh=Math.cos(0),wc={},Cc={},Em=Math.PI/40;for(rn=0*Math.PI;rn<2*Math.PI;rn+=Em)wc[rn]=Math.sin(rn),Cc[rn]=Math.cos(rn);var rn;Nr.drawEllipsePath=function(t,e,r,i,n){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,i/2,n/2,0,0,2*Math.PI);else for(var a,o,s=i/2,l=n/2,c=0*Math.PI;c<2*Math.PI;c+=Em)a=e-s*wc[c]*Wh+s*Cc[c]*qh,o=r+l*Cc[c]*Wh+l*wc[c]*qh,c===0?t.moveTo(a,o):t.lineTo(a,o);t.closePath()};var mo={};mo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};mo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),i=r.boundingBox(),n=this.findContainerClientCoords(),a=t.full?Math.ceil(i.w):n[2],o=t.full?Math.ceil(i.h):n[3],s=le(t.maxWidth)||le(t.maxHeight),l=this.getPixelRatio(),c=1;if(t.scale!==void 0)a*=t.scale,o*=t.scale,c=t.scale;else if(s){var d=1/0,u=1/0;le(t.maxWidth)&&(d=c*t.maxWidth/a),le(t.maxHeight)&&(u=c*t.maxHeight/o),c=Math.min(d,u),a*=c,o*=c}s||(a*=l,o*=l,c*=l);var h=document.createElement("canvas");h.width=a,h.height=o,h.style.width=a+"px",h.style.height=o+"px";var m=h.getContext("2d");if(a>0&&o>0){m.clearRect(0,0,a,o),m.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(t.full)m.translate(-i.x1*c,-i.y1*c),m.scale(c,c),this.drawElements(m,f),m.scale(1/c,1/c),m.translate(i.x1*c,i.y1*c);else{var g=e.pan(),v={x:g.x*c,y:g.y*c};c*=e.zoom(),m.translate(v.x,v.y),m.scale(c,c),this.drawElements(m,f),m.scale(1/c,1/c),m.translate(-v.x,-v.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,a,o),m.fill())}return h};function fC(t,e){for(var r=atob(t),i=new ArrayBuffer(r.length),n=new Uint8Array(i),a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return new Blob([i],{type:e})}function $h(t){var e=t.indexOf(",");return t.substr(e+1)}function km(t,e,r){var i=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Jn(function(n,a){try{e.toBlob(function(o){o!=null?n(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){a(o)}});case"blob":return fC($h(i()),r);case"base64":return $h(i());case"base64uri":default:return i()}}mo.png=function(t){return km(t,this.bufferCanvasImage(t),"image/png")};mo.jpg=function(t){return km(t,this.bufferCanvasImage(t),"image/jpeg")};var Dm={};Dm.nodeShapeImpl=function(t,e,r,i,n,a,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,i,n,a);case"polygon":return this.drawPolygonPath(e,r,i,n,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,i,n,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,i,n,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,i,n,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,i,n,a,s);case"barrel":return this.drawBarrelPath(e,r,i,n,a)}};var mC=Sm,et=Sm.prototype;et.CANVAS_LAYERS=3;et.SELECT_BOX=0;et.DRAG=1;et.NODE=2;et.BUFFER_COUNT=3;et.TEXTURE_BUFFER=0;et.MOTIONBLUR_BUFFER_NODE=1;et.MOTIONBLUR_BUFFER_DRAG=2;function Sm(t){var e=this,r=e.cy.window(),i=r.document;e.data={canvases:new Array(et.CANVAS_LAYERS),contexts:new Array(et.CANVAS_LAYERS),canvasNeedsRedraw:new Array(et.CANVAS_LAYERS),bufferCanvases:new Array(et.BUFFER_COUNT),bufferContexts:new Array(et.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=i.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[n]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};tg()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var c=0;c<et.CANVAS_LAYERS;c++){var d=e.data.canvases[c]=i.createElement("canvas");e.data.contexts[c]=d.getContext("2d"),Object.keys(l).forEach(function(G){d.style[G]=l[G]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(et.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(d),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[et.NODE].setAttribute("data-id","layer"+et.NODE+"-node"),e.data.canvases[et.SELECT_BOX].setAttribute("data-id","layer"+et.SELECT_BOX+"-selectbox"),e.data.canvases[et.DRAG].setAttribute("data-id","layer"+et.DRAG+"-drag");for(var c=0;c<et.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=i.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var u=hi(),h=function(L){return{x:(L.x1+L.x2)/2,y:(L.y1+L.y2)/2}},m=function(L){return{x:-L.w/2,y:-L.h/2}},f=function(L){var Y=L[0]._private,K=Y.oldBackgroundTimestamp===Y.backgroundTimestamp;return!K},g=function(L){return L[0]._private.nodeKey},v=function(L){return L[0]._private.labelStyleKey},p=function(L){return L[0]._private.sourceLabelStyleKey},y=function(L){return L[0]._private.targetLabelStyleKey},b=function(L,Y,K,de,_e){return e.drawElement(L,Y,K,!1,!1,_e)},_=function(L,Y,K,de,_e){return e.drawElementText(L,Y,K,de,"main",_e)},C=function(L,Y,K,de,_e){return e.drawElementText(L,Y,K,de,"source",_e)},w=function(L,Y,K,de,_e){return e.drawElementText(L,Y,K,de,"target",_e)},x=function(L){return L.boundingBox(),L[0]._private.bodyBounds},D=function(L){return L.boundingBox(),L[0]._private.labelBounds.main||u},E=function(L){return L.boundingBox(),L[0]._private.labelBounds.source||u},M=function(L){return L.boundingBox(),L[0]._private.labelBounds.target||u},I=function(L,Y){return Y},A=function(L){return h(x(L))},T=function(L,Y,K){var de=L?L+"-":"";return{x:Y.x+K.pstyle(de+"text-margin-x").pfValue,y:Y.y+K.pstyle(de+"text-margin-y").pfValue}},S=function(L,Y,K){var de=L[0]._private.rscratch;return{x:de[Y],y:de[K]}},F=function(L){return T("",S(L,"labelX","labelY"),L)},O=function(L){return T("source",S(L,"sourceLabelX","sourceLabelY"),L)},R=function(L){return T("target",S(L,"targetLabelX","targetLabelY"),L)},P=function(L){return m(x(L))},j=function(L){return m(E(L))},H=function(L){return m(M(L))},V=function(L){var Y=D(L),K=m(D(L));if(L.isNode()){switch(L.pstyle("text-halign").value){case"left":K.x=-Y.w;break;case"right":K.x=0;break}switch(L.pstyle("text-valign").value){case"top":K.y=-Y.h;break;case"bottom":K.y=0;break}}return K},N=e.data.eleTxrCache=new qa(e,{getKey:g,doesEleInvalidateKey:f,drawElement:b,getBoundingBox:x,getRotationPoint:A,getRotationOffset:P,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),$=e.data.lblTxrCache=new qa(e,{getKey:v,drawElement:_,getBoundingBox:D,getRotationPoint:F,getRotationOffset:V,isVisible:I}),X=e.data.slbTxrCache=new qa(e,{getKey:p,drawElement:C,getBoundingBox:E,getRotationPoint:O,getRotationOffset:j,isVisible:I}),J=e.data.tlbTxrCache=new qa(e,{getKey:y,drawElement:w,getBoundingBox:M,getRotationPoint:R,getRotationOffset:H,isVisible:I}),ee=e.data.lyrTxrCache=new _m(e);e.onUpdateEleCalcs(function(L,Y){N.invalidateElements(Y),$.invalidateElements(Y),X.invalidateElements(Y),J.invalidateElements(Y),ee.invalidateElements(Y);for(var K=0;K<Y.length;K++){var de=Y[K]._private;de.oldBackgroundTimestamp=de.backgroundTimestamp}});var te=function(L){for(var Y=0;Y<L.length;Y++)ee.enqueueElementRefinement(L[Y].ele)};N.onDequeue(te),$.onDequeue(te),X.onDequeue(te),J.onDequeue(te)}et.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[et.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[et.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[et.SELECT_BOX]=e;break}};var pC=typeof Path2D<"u";et.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};et.usePaths=function(){return pC&&this.pathsEnabled};et.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};et.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};et.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Ft(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var i=this.cy.window(),n=i.document;r=n.createElement("canvas"),r.width=t,r.height=e}return r};[xm,ir,pr,Yc,gn,sa,mi,Nr,mo,Dm].forEach(function(t){ke(et,t)});var vC=[{name:"null",impl:lm},{name:"base",impl:bm},{name:"canvas",impl:mC}],gC=[{type:"layout",extensions:Cw},{type:"renderer",extensions:vC}],Im={},Am={};function Mm(t,e,r){var i=r,n=function(D){ot("Can not register `"+e+"` for `"+t+"` since `"+D+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(no.prototype[e])return n(e);no.prototype[e]=r}else if(t==="collection"){if(Ht.prototype[e])return n(e);Ht.prototype[e]=r}else if(t==="layout"){for(var a=function(D){this.options=D,r.call(this,D),Ye(this._private)||(this._private={}),this._private.cy=D.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var c=s[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=r.prototype.stop;o.stop=function(){var x=this.options;if(x&&x.animate){var D=this.animations;if(D)for(var E=0;E<D.length;E++)D[E].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var u=function(D){return D._private.cy},h={addEventFields:function(D,E){E.layout=D,E.cy=u(D),E.target=D},bubble:function(){return!0},parent:function(D){return u(D)}};ke(o,{createEmitter:function(){return this._private.emitter=new Ws(h,this),this},emitter:function(){return this._private.emitter},on:function(D,E){return this.emitter().on(D,E),this},one:function(D,E){return this.emitter().one(D,E),this},once:function(D,E){return this.emitter().one(D,E),this},removeListener:function(D,E){return this.emitter().removeListener(D,E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(D,E){return this.emitter().emit(D,E),this}}),at.eventAliasesOn(o),i=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=Tm("renderer","base"),f=m.prototype,g=r,v=r.prototype,p=function(){m.apply(this,arguments),g.apply(this,arguments)},y=p.prototype;for(var b in f){var _=f[b],C=v[b]!=null;if(C)return n(b);y[b]=_}for(var w in v)y[w]=v[w];f.clientFunctions.forEach(function(x){y[x]=y[x]||function(){Et("Renderer does not implement `renderer."+x+"()` on its prototype")}}),i=p}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Et(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return tf({map:Im,keys:[t,e],value:i})}function Tm(t,e){return rf({map:Im,keys:[t,e]})}function bC(t,e,r,i,n){return tf({map:Am,keys:[t,e,r,i],value:n})}function yC(t,e,r,i){return rf({map:Am,keys:[t,e,r,i]})}var Ec=function(){if(arguments.length===2)return Tm.apply(null,arguments);if(arguments.length===3)return Mm.apply(null,arguments);if(arguments.length===4)return yC.apply(null,arguments);if(arguments.length===5)return bC.apply(null,arguments);Et("Invalid extension access syntax")};no.prototype.extension=Ec;gC.forEach(function(t){t.extensions.forEach(function(e){Mm(t.type,e.name,e.impl)})});var Om=function t(){if(!(this instanceof t))return new t;this.length=0},pn=Om.prototype;pn.instanceString=function(){return"stylesheet"};pn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};pn.css=function(t,e){var r=this.length-1;if(ye(t))this[r].properties.push({name:t,value:e});else if(Ye(t))for(var i=t,n=Object.keys(i),a=0;a<n.length;a++){var o=n[a],s=i[o];if(s!=null){var l=Kt.properties[o]||Kt.properties[Fs(o)];if(l!=null){var c=l.name,d=s;this[r].properties.push({name:c,value:d})}}}return this};pn.style=pn.css;pn.generateStyle=function(t){var e=new Kt(t);return this.appendToStyle(e)};pn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],i=r.selector,n=r.properties;t.selector(i);for(var a=0;a<n.length;a++){var o=n[a];t.css(o.name,o.value)}}return t};var _C="3.30.2",fr=function(e){if(e===void 0&&(e={}),Ye(e))return new no(e);if(ye(e))return Ec.apply(Ec,arguments)};fr.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(fr),t.apply(null,e),this};fr.warnings=function(t){return uf(t)};fr.version=_C;fr.stylesheet=fr.Stylesheet=Om;var Vm=(()=>{let e=class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(n){return new(n||e)(B(Fa),B(Fe))},e.\u0275dir=Re({type:e});let t=e;return t})(),wC=(()=>{let e=class e extends Vm{};e.\u0275fac=(()=>{let i;return function(a){return(i||(i=Kr(e)))(a||e)}})(),e.\u0275dir=Re({type:e,features:[Ct]});let t=e;return t})(),xo=new De("");var CC={provide:xo,useExisting:xr(()=>sl),multi:!0};function EC(){let t=Kl()?Kl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var kC=new De(""),sl=(()=>{let e=class e extends Vm{constructor(i,n,a){super(i,n),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!EC())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(n){return new(n||e)(B(Fa),B(Fe),B(kC,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){n&1&&Pe("input",function(s){return a._handleInput(s.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(s){return a._compositionEnd(s.target.value)})},features:[At([CC]),Ct]});let t=e;return t})();function Br(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function zm(t){return t!=null&&typeof t.length=="number"}var da=new De(""),ll=new De(""),DC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vi=class{static min(e){return SC(e)}static max(e){return IC(e)}static required(e){return AC(e)}static requiredTrue(e){return MC(e)}static email(e){return TC(e)}static minLength(e){return OC(e)}static maxLength(e){return RC(e)}static pattern(e){return FC(e)}static nullValidator(e){return jm(e)}static compose(e){return Gm(e)}static composeAsync(e){return Ym(e)}};function SC(t){return e=>{if(Br(e.value)||Br(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function IC(t){return e=>{if(Br(e.value)||Br(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function AC(t){return Br(t.value)?{required:!0}:null}function MC(t){return t.value===!0?null:{required:!0}}function TC(t){return Br(t.value)||DC.test(t.value)?null:{email:!0}}function OC(t){return e=>Br(e.value)||!zm(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function RC(t){return e=>zm(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function FC(t){if(!t)return jm;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),i=>{if(Br(i.value))return null;let n=i.value;return e.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function jm(t){return null}function Hm(t){return t!=null}function Um(t){return xu(t)?ru(t):t}function Wm(t){let e={};return t.forEach(r=>{e=r!=null?Ae(Ae({},e),r):e}),Object.keys(e).length===0?null:e}function qm(t,e){return e.map(r=>r(t))}function PC(t){return!t.validate}function $m(t){return t.map(e=>PC(e)?e:r=>e.validate(r))}function Gm(t){if(!t)return null;let e=t.filter(Hm);return e.length==0?null:function(r){return Wm(qm(r,e))}}function Jc(t){return t!=null?Gm($m(t)):null}function Ym(t){if(!t)return null;let e=t.filter(Hm);return e.length==0?null:function(r){let i=qm(r,e).map(Um);return ou(i).pipe(qi(Wm))}}function ed(t){return t!=null?Ym($m(t)):null}function Rm(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Km(t){return t._rawValidators}function Zm(t){return t._rawAsyncValidators}function Kc(t){return t?Array.isArray(t)?t:[t]:[]}function Js(t,e){return Array.isArray(t)?t.includes(e):t===e}function Fm(t,e){let r=Kc(e);return Kc(t).forEach(n=>{Js(r,n)||r.push(n)}),r}function Pm(t,e){return Kc(e).filter(r=>!Js(t,r))}var el=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ed(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},bn=class extends el{get formDirective(){return null}get path(){return null}},zi=class extends el{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},LC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},RD=ri(Ae({},LC),{"[class.ng-submitted]":"isSubmitted"}),cl=(()=>{let e=class e extends Zc{constructor(i){super(i)}};e.\u0275fac=function(n){return new(n||e)(B(zi,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){n&2&&We("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[Ct]});let t=e;return t})();var po="VALID",Qs="INVALID",la="PENDING",vo="DISABLED",Vr=class{},tl=class extends Vr{constructor(e,r){super(),this.value=e,this.source=r}},bo=class extends Vr{constructor(e,r){super(),this.pristine=e,this.source=r}},yo=class extends Vr{constructor(e,r){super(),this.touched=e,this.source=r}},ca=class extends Vr{constructor(e,r){super(),this.status=e,this.source=r}},Xc=class extends Vr{constructor(e){super(),this.source=e}},Qc=class extends Vr{constructor(e){super(),this.source=e}};function Xm(t){return(dl(t)?t.validators:t)||null}function NC(t){return Array.isArray(t)?Jc(t):t||null}function Qm(t,e){return(dl(e)?e.asyncValidators:t)||null}function BC(t){return Array.isArray(t)?ed(t):t||null}function dl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function VC(t,e,r){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Ko(1e3,"");if(!i[r])throw new Ko(1001,"")}function zC(t,e,r){t._forEachChild((i,n)=>{if(r[n]===void 0)throw new Ko(1002,"")})}var il=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=sr(()=>this.statusReactive()),this.statusReactive=An(void 0),this._pristine=sr(()=>this.pristineReactive()),this.pristineReactive=An(!0),this._touched=sr(()=>this.touchedReactive()),this.touchedReactive=An(!1),this._events=new be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ri(this.statusReactive)}set status(e){Ri(()=>this.statusReactive.set(e))}get valid(){return this.status===po}get invalid(){return this.status===Qs}get pending(){return this.status==la}get disabled(){return this.status===vo}get enabled(){return this.status!==vo}get pristine(){return Ri(this.pristineReactive)}set pristine(e){Ri(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ri(this.touchedReactive)}set touched(e){Ri(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Fm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pm(e,this._rawAsyncValidators))}hasValidator(e){return Js(this._rawValidators,e)}hasAsyncValidator(e){return Js(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ri(Ae({},e),{sourceControl:i})),r&&e.emitEvent!==!1&&this._events.next(new yo(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),r&&e.emitEvent!==!1&&this._events.next(new yo(!1,i))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ri(Ae({},e),{sourceControl:i})),r&&e.emitEvent!==!1&&this._events.next(new bo(!1,i))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&e.emitEvent!==!1&&this._events.next(new bo(!0,i))}markAsPending(e={}){this.status=la;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ca(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ri(Ae({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=vo,this.errors=null,this._forEachChild(n=>{n.disable(ri(Ae({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tl(this.value,i)),this._events.next(new ca(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ri(Ae({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=po,this._forEachChild(i=>{i.enable(ri(Ae({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ri(Ae({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===po||this.status===la)&&this._runAsyncValidator(i,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tl(this.value,r)),this._events.next(new ca(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ri(Ae({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vo:po}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=la,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let i=Um(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((i,n)=>i&&i._find(n),this)}getError(e,r){let i=r?this.get(r):this;return i&&i.errors?i.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ca(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,i)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?vo:this.errors?Qs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(la)?la:this._anyControlsHaveStatus(Qs)?Qs:po}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&this._events.next(new bo(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new yo(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=NC(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BC(this._rawAsyncValidators)}},rl=class extends il{constructor(e,r,i){super(Xm(r),Qm(i,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,i={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){zC(this,!0,e),Object.keys(e).forEach(i=>{VC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((i,n)=>{i.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,i)=>(e[i]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,i)=>i._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let i=this.controls[r];i&&e(i,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,i]of Object.entries(this.controls))if(this.contains(r)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,i,n)=>((i.enabled||this.disabled)&&(r[n]=i.value),r))}_reduceChildren(e,r){let i=e;return this._forEachChild((n,a)=>{i=r(i,n,a)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ua=new De("CallSetDisabledState",{providedIn:"root",factory:()=>ul}),ul="always";function jC(t,e){return[...e.path,t]}function _o(t,e,r=ul){td(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UC(t,e),qC(t,e),WC(t,e),HC(t,e)}function nl(t,e,r=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ol(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function al(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function HC(t,e){if(e.valueAccessor.setDisabledState){let r=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function td(t,e){let r=Km(t);e.validator!==null?t.setValidators(Rm(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let i=Zm(t);e.asyncValidator!==null?t.setAsyncValidators(Rm(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let n=()=>t.updateValueAndValidity();al(e._rawValidators,n),al(e._rawAsyncValidators,n)}function ol(t,e){let r=!1;if(t!==null){if(e.validator!==null){let n=Km(t);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==e.validator);a.length!==n.length&&(r=!0,t.setValidators(a))}}if(e.asyncValidator!==null){let n=Zm(t);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==e.asyncValidator);a.length!==n.length&&(r=!0,t.setAsyncValidators(a))}}}let i=()=>{};return al(e._rawValidators,i),al(e._rawAsyncValidators,i),r}function UC(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Jm(t,e)})}function WC(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Jm(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Jm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qC(t,e){let r=(i,n)=>{e.valueAccessor.writeValue(i),n&&e.viewToModelUpdate(i)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function ep(t,e){t==null,td(t,e)}function $C(t,e){return ol(t,e)}function tp(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function GC(t){return Object.getPrototypeOf(t.constructor)===wC}function ip(t,e){t._syncPendingControls(),e.forEach(r=>{let i=r.control;i.updateOn==="submit"&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rp(t,e){if(!e)return null;Array.isArray(e);let r,i,n;return e.forEach(a=>{a.constructor===sl?r=a:GC(a)?i=a:n=a}),n||i||r||null}function YC(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}var KC={provide:bn,useExisting:xr(()=>wo)},go=Promise.resolve(),wo=(()=>{let e=class e extends bn{get submitted(){return Ri(this.submittedReactive)}constructor(i,n,a){super(),this.callSetDisabledState=a,this._submitted=sr(()=>this.submittedReactive()),this.submittedReactive=An(!1),this._directives=new Set,this.ngSubmit=new Ze,this.form=new rl({},Jc(i),ed(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){go.then(()=>{let n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),_o(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){go.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){go.then(()=>{let n=this._findContainer(i.path),a=new rl({});ep(a,i),n.registerControl(i.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){go.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){go.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),ip(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(n){return new(n||e)(B(da,10),B(ll,10),B(ua,8))},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,a){n&1&&Pe("submit",function(s){return a.onSubmit(s)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[At([KC]),Ct]});let t=e;return t})();function Lm(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Nm(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yn=class extends il{constructor(e=null,r,i){super(Xm(r),Qm(i,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dl(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Nm(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Nm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZC=t=>t instanceof yn;var XC={provide:zi,useExisting:xr(()=>id)},Bm=Promise.resolve(),id=(()=>{let e=class e extends zi{constructor(i,n,a,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new yn,this._registered=!1,this.name="",this.update=new Ze,this._parent=i,this._setValidators(n),this._setAsyncValidators(a),this.valueAccessor=rp(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),tp(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_o(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Bm.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,a=n!==0&&Qe(n);Bm.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?jC(i,this._parent):[i]}};e.\u0275fac=function(n){return new(n||e)(B(bn,9),B(da,10),B(ll,10),B(xo,10),B(si,8),B(ua,8))},e.\u0275dir=Re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[At([XC]),Ct,ni]});let t=e;return t})();var np=new De(""),QC={provide:zi,useExisting:xr(()=>Co)},Co=(()=>{let e=class e extends zi{set isDisabled(i){}constructor(i,n,a,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Ze,this._ngModelWarningSent=!1,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=rp(this,a)}ngOnChanges(i){if(this._isControlChanged(i)){let n=i.form.previousValue;n&&nl(n,this,!1),_o(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}tp(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nl(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(B(da,10),B(ll,10),B(xo,10),B(np,8),B(ua,8))},e.\u0275dir=Re({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[At([QC]),Ct,ni]});let t=e;return t})(),JC={provide:bn,useExisting:xr(()=>Eo)},Eo=(()=>{let e=class e extends bn{get submitted(){return Ri(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,n,a){super(),this.callSetDisabledState=a,this._submitted=sr(()=>this._submittedReactive()),this._submittedReactive=An(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ol(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return _o(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){nl(i.control||null,i,!1),YC(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this._submittedReactive.set(!0),ip(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new Xc(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new Qc(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,a=this.form.get(i.path);n!==a&&(nl(n||null,i),ZC(a)&&(_o(a,i,this.callSetDisabledState),i.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);ep(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&$C(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){td(this.form,this),this._oldForm&&ol(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(B(da,10),B(ll,10),B(ua,8))},e.\u0275dir=Re({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,a){n&1&&Pe("submit",function(s){return a.onSubmit(s)})("reset",function(){return a.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[At([JC]),Ct,ni]});let t=e;return t})();var ap=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let t=e;return t})();var ha=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:ua,useValue:i.callSetDisabledState??ul}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[ap]});let t=e;return t})(),fa=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:np,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:ua,useValue:i.callSetDisabledState??ul}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[ap]});let t=e;return t})();function _n(t){return t!=null&&`${t}`!="false"}function ma(t,e=0){return eE(t)?Number(t):arguments.length===2?e:0}function eE(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function pa(t){return Array.isArray(t)?t:[t]}function Dt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function ki(t){return t instanceof Fe?t.nativeElement:t}var nd;try{nd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nd=!1}var it=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Pn(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||nd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(n){return new(n||e)(ie(In))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var va,op=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ad(){if(va)return va;if(typeof document!="object"||!document)return va=new Set(op),va;let t=document.createElement("input");return va=new Set(op.filter(e=>(t.setAttribute("type",e),t.type===e))),va}var ko;function tE(){if(ko==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ko=!0}))}finally{ko=ko||!1}return ko}function zr(t){return tE()?t:!!t.capture}var ji=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(ji||{}),fl,xn;function ml(){if(xn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return xn=!1,xn;if("scrollBehavior"in document.documentElement.style)xn=!0;else{let t=Element.prototype.scrollTo;t?xn=!/\{\s*\[native code\]\s*\}/.test(t.toString()):xn=!1}}return xn}function ga(){if(typeof document!="object"||!document)return ji.NORMAL;if(fl==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let r=document.createElement("div"),i=r.style;i.width="2px",i.height="1px",t.appendChild(r),document.body.appendChild(t),fl=ji.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,fl=t.scrollLeft===0?ji.NEGATED:ji.INVERTED),t.remove()}return fl}var rd;function iE(){if(rd==null){let t=typeof document<"u"?document.head:null;rd=!!(t&&(t.createShadowRoot||t.attachShadow))}return rd}function sp(t){if(iE()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Do(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function pi(t){return t.composedPath?t.composedPath()[0]:t.target}function So(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var rE=new De("cdk-dir-doc",{providedIn:"root",factory:nE});function nE(){return Ve(Je)}var aE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function oE(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?aE.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Di=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Ze,i){let n=i.body?i.body.dir:null,a=i.documentElement?i.documentElement.dir:null;this.value=oE(n||a||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(n){return new(n||e)(ie(rE,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let t=e;return t})();var vl=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,r,i=!0,n){this._multiple=e,this._emitChanges=i,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new be,r&&r.length&&(e?r.forEach(a=>this._markSelected(a)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...e){this._verifyValueAssignment(e);let r=this.selected,i=new Set(e);e.forEach(a=>this._markSelected(a)),r.filter(a=>!i.has(this._getConcreteValue(a,i))).forEach(a=>this._unmarkSelected(a));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let r=this._hasQueuedChanges();return e&&this._emitChangeEvent(),r}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,r){if(this.compareWith){r=r??this._selection;for(let i of r)if(this.compareWith(e,i))return i;return e}else return e}};var sE=20,od=(()=>{let e=class e{constructor(i,n,a){this._ngZone=i,this._platform=n,this._scrolled=new be,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=sE){return this._platform.isBrowser?new _r(n=>{this._globalSubscription||this._addGlobalListener();let a=i>0?this._scrolled.pipe(ql(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){let a=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(Gt(o=>!o||a.indexOf(o)>-1))}getAncestorScrollContainers(i){let n=[];return this.scrollContainers.forEach((a,o)=>{this._scrollableContainsElement(o,i)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let a=ki(n),o=i.getElementRef().nativeElement;do if(a==o)return!0;while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return qo(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(n){return new(n||e)(ie(Oe),ie(it),ie(Je,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cp=(()=>{let e=class e{constructor(i,n,a,o){this.elementRef=i,this.scrollDispatcher=n,this.ngZone=a,this.dir=o,this._destroyed=new be,this._elementScrolled=new _r(s=>this.ngZone.runOutsideAngular(()=>qo(this.elementRef.nativeElement,"scroll").pipe(xt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let n=this.elementRef.nativeElement,a=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=a?i.end:i.start),i.right==null&&(i.right=a?i.start:i.end),i.bottom!=null&&(i.top=n.scrollHeight-n.clientHeight-i.bottom),a&&ga()!=ji.NORMAL?(i.left!=null&&(i.right=n.scrollWidth-n.clientWidth-i.left),ga()==ji.INVERTED?i.left=i.right:ga()==ji.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=n.scrollWidth-n.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let n=this.elementRef.nativeElement;ml()?n.scrollTo(i):(i.top!=null&&(n.scrollTop=i.top),i.left!=null&&(n.scrollLeft=i.left))}measureScrollOffset(i){let n="left",a="right",o=this.elementRef.nativeElement;if(i=="top")return o.scrollTop;if(i=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return i=="start"?i=s?a:n:i=="end"&&(i=s?n:a),s&&ga()==ji.INVERTED?i==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&ga()==ji.NEGATED?i==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:i==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(od),B(Oe),B(Di,8))},e.\u0275dir=Re({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),lE=20,Io=(()=>{let e=class e{constructor(i,n,a){this._platform=i,this._change=new be,this._changeListener=o=>{this._change.next(o)},this._document=a,n.runOutsideAngular(()=>{if(i.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:a}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+a,right:i.left+n,height:a,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),a=i.documentElement,o=a.getBoundingClientRect(),s=-o.top||i.body.scrollTop||n.scrollY||a.scrollTop||0,l=-o.left||i.body.scrollLeft||n.scrollX||a.scrollLeft||0;return{top:s,left:l}}change(i=lE){return i>0?this._change.pipe(ql(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(n){return new(n||e)(ie(it),ie(Oe),ie(Je,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let t=e;return t})(),sd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[jr,gl,jr,gl]});let t=e;return t})();var Ao=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},vr=class extends Ao{constructor(e,r,i,n,a){super(),this.component=e,this.viewContainerRef=r,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=a}},gr=class extends Ao{constructor(e,r,i,n){super(),this.templateRef=e,this.viewContainerRef=r,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}},cd=class extends Ao{constructor(e){super(),this.element=e instanceof Fe?e.nativeElement:e}},Hr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vr)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof gr)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof cd)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var bl=class extends Hr{constructor(e,r,i,n,a){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(e.injector||this._defaultInjector||wt.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let r=e.viewContainerRef,i=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=r.indexOf(i);n!==-1&&r.remove(n)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Ur=(()=>{let e=class e extends Hr{constructor(i,n,a){super(),this._componentFactoryResolver=i,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Ze,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),s=n.createComponent(o,n.length,i.injector||n.injector,i.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(n){return new(n||e)(B(Xo),B(Xr),B(Je))},e.\u0275dir=Re({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ct]});let t=e;return t})();var br=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let t=e;return t})();function vi(t,...e){return e.length?e.some(r=>t[r]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var dp=ml(),dd=class{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Dt(-this._previousScrollPosition.left),e.style.top=Dt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,r=this._document.body,i=e.style,n=r.style,a=i.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dp&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dp&&(i.scrollBehavior=a,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,i=this._viewportRuler.getViewportSize();return r.scrollHeight>i.height||r.scrollWidth>i.width}};var ud=class{constructor(e,r,i,n){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Gt(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},yl=class{enable(){}disable(){}attach(){}};function hd(t,e){return e.some(r=>{let i=t.bottom<r.top,n=t.top>r.bottom,a=t.right<r.left,o=t.left>r.right;return i||n||a||o})}function up(t,e){return e.some(r=>{let i=t.top<r.top,n=t.bottom>r.bottom,a=t.left<r.left,o=t.right>r.right;return i||n||a||o})}var fd=class{constructor(e,r,i,n){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();hd(r,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},cE=(()=>{let e=class e{constructor(i,n,a,o){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=a,this.noop=()=>new yl,this.close=s=>new ud(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new dd(this._viewportRuler,this._document),this.reposition=s=>new fd(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}};e.\u0275fac=function(n){return new(n||e)(ie(od),ie(Io),ie(Oe),ie(Je))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wr=class{constructor(e){if(this.scrollStrategy=new yl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let r=Object.keys(e);for(let i of r)e[i]!==void 0&&(this[i]=e[i])}}};var md=class{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}};var gp=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(n){return new(n||e)(ie(Je))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dE=(()=>{let e=class e extends gp{constructor(i,n){super(i),this._ngZone=n,this._keydownListener=a=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(a)):l.next(a);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(n){return new(n||e)(ie(Je),ie(Oe,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uE=(()=>{let e=class e extends gp{constructor(i,n,a){super(i),this._platform=n,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=pi(o)},this._clickListener=o=>{let s=pi(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(hp(u.overlayElement,s)||hp(u.overlayElement,l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(i){if(super.add(i),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(n){return new(n||e)(ie(Je),ie(it),ie(Oe,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hp(t,e){let r=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===t)return!0;i=r&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var ba=(()=>{let e=class e{constructor(i,n){this._platform=n,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||So()){let a=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<a.length;o++)a[o].remove()}let n=this._document.createElement("div");n.classList.add(i),So()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};e.\u0275fac=function(n){return new(n||e)(ie(Je),ie(it))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yr=class{constructor(e,r,i,n,a,o,s,l,c,d=!1,u){this._portalOutlet=e,this._host=r,this._pane=i,this._config=n,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new be,this._attachments=new be,this._detachments=new be,this._locationChanges=bi.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new be,this._outsidePointerEvents=new be,this._renders=new be,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=Ri(()=>Qo(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Mn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Ae(Ae({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ri(Ae({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Dt(this._config.width),e.height=Dt(this._config.height),e.minWidth=Dt(this._config.minWidth),e.minHeight=Dt(this._config.minHeight),e.maxWidth=Dt(this._config.maxWidth),e.maxHeight=Dt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,i){let n=pa(r||[]).filter(a=>!!a);n.length&&(i?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(xt($i(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},fp="cdk-overlay-connected-position-bounding-box",hE=/([A-Za-z%]+)$/,pd=class{get positions(){return this._preferredPositions}constructor(e,r,i,n,a){this._viewportRuler=r,this._document=i,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new be,this._resizeSubscription=bi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(fp),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,r=this._overlayRect,i=this._viewportRect,n=this._containerRect,a=[],o;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,n,s),c=this._getOverlayPoint(l,r,s),d=this._getOverlayFit(c,r,i,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){a.push({position:s,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:r})}if(a.length){let s=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fp),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,i){let n;if(i.originX=="center")n=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;n=i.originX=="start"?o:s}r.left<0&&(n-=r.left);let a;return i.originY=="center"?a=e.top+e.height/2:a=i.originY=="top"?e.top:e.bottom,r.top<0&&(a-=r.top),{x:n,y:a}}_getOverlayPoint(e,r,i){let n;i.overlayX=="center"?n=-r.width/2:i.overlayX==="start"?n=this._isRtl()?-r.width:0:n=this._isRtl()?0:-r.width;let a;return i.overlayY=="center"?a=-r.height/2:a=i.overlayY=="top"?0:-r.height,{x:e.x+n,y:e.y+a}}_getOverlayFit(e,r,i,n){let a=pp(r),{x:o,y:s}=e,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(o+=l),c&&(s+=c);let d=0-o,u=o+a.width-i.width,h=0-s,m=s+a.height-i.height,f=this._subtractOverflows(a.width,d,u),g=this._subtractOverflows(a.height,h,m),v=f*g;return{visibleArea:v,isCompletelyWithinViewport:a.width*a.height===v,fitsInViewportVertically:g===a.height,fitsInViewportHorizontally:f==a.width}}_canFitWithFlexibleDimensions(e,r,i){if(this._hasFlexibleDimensions){let n=i.bottom-r.y,a=i.right-r.x,o=mp(this._overlayRef.getConfig().minHeight),s=mp(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=n,c=e.fitsInViewportHorizontally||s!=null&&s<=a;return l&&c}return!1}_pushOverlayOnScreen(e,r,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=pp(r),a=this._viewportRect,o=Math.max(e.x+n.width-a.width,0),s=Math.max(e.y+n.height-a.height,0),l=Math.max(a.top-i.top-e.y,0),c=Math.max(a.left-i.left-e.x,0),d=0,u=0;return n.width<=a.width?d=c||-o:d=e.x<this._viewportMargin?a.left-i.left-e.x:0,n.height<=a.height?u=l||-s:u=e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!fE(this._lastScrollVisibility,i)){let n=new md(e,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let a=0;a<r.length;a++)r[a].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,r){let i=this._viewportRect,n=this._isRtl(),a,o,s;if(r.overlayY==="top")o=e.y,a=i.height-o+this._viewportMargin;else if(r.overlayY==="bottom")s=i.height-e.y+this._viewportMargin*2,a=i.height-s+this._viewportMargin;else{let m=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;a=m*2,o=e.y-m,a>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-f/2)}let l=r.overlayX==="start"&&!n||r.overlayX==="end"&&n,c=r.overlayX==="end"&&!n||r.overlayX==="start"&&n,d,u,h;if(c)h=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=i.right-e.x;else{let m=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-f/2)}return{top:o,left:u,bottom:s,right:h,width:d,height:a}}_setBoundingBoxStyles(e,r){let i=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;n.height=Dt(i.height),n.top=Dt(i.top),n.bottom=Dt(i.bottom),n.width=Dt(i.width),n.left=Dt(i.left),n.right=Dt(i.right),r.overlayX==="center"?n.alignItems="center":n.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?n.justifyContent="center":n.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=Dt(a)),o&&(n.maxWidth=Dt(o))}this._lastBoundingBoxSize=i,wn(this._boundingBox.style,n)}_resetBoundingBoxStyles(){wn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){let i={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();wn(i,this._getExactOverlayY(r,e,d)),wn(i,this._getExactOverlayX(r,e,d))}else i.position="static";let s="",l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),o.maxHeight&&(n?i.maxHeight=Dt(o.maxHeight):a&&(i.maxHeight="")),o.maxWidth&&(n?i.maxWidth=Dt(o.maxWidth):a&&(i.maxWidth="")),wn(this._pane.style,i)}_getExactOverlayY(e,r,i){let n={top:"",bottom:""},a=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;n.bottom=`${o-(a.y+this._overlayRect.height)}px`}else n.top=Dt(a.y);return n}_getExactOverlayX(e,r,i){let n={left:"",right:""},a=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(a.x+this._overlayRect.width)}px`}else n.left=Dt(a.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:up(e,i),isOriginOutsideView:hd(e,i),isOverlayClipped:up(r,i),isOverlayOutsideView:hd(r,i)}}_subtractOverflows(e,...r){return r.reduce((i,n)=>i-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&pa(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Fe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let r=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+r,height:i,width:r}}};function wn(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function mp(t){if(typeof t!="number"&&t!=null){let[e,r]=t.split(hE);return!r||r==="px"?parseFloat(e):null}return t||null}function pp(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function fE(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var vp="cdk-global-overlay-wrapper",vd=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(vp),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:o,maxHeight:s}=i,l=(n==="100%"||n==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",f="",g="";l?g="flex-start":d==="center"?(g="center",h?f=u:m=u):h?d==="left"||d==="end"?(g="flex-end",m=u):(d==="right"||d==="start")&&(g="flex-start",f=u):d==="left"||d==="start"?(g="flex-start",m=u):(d==="right"||d==="end")&&(g="flex-end",f=u),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,r.justifyContent=g,r.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,i=r.style;r.classList.remove(vp),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},mE=(()=>{let e=class e{constructor(i,n,a,o){this._viewportRuler=i,this._document=n,this._platform=a,this._overlayContainer=o}global(){return new vd}flexibleConnectedTo(i){return new pd(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(n){return new(n||e)(ie(Io),ie(Je),ie(it),ie(ba))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pE=0,qt=(()=>{let e=class e{constructor(i,n,a,o,s,l,c,d,u,h,m,f){this.scrollStrategies=i,this._overlayContainer=n,this._componentFactoryResolver=a,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=m,this._animationsModuleType=f}create(i){let n=this._createHostElement(),a=this._createPaneElement(n),o=this._createPortalOutlet(a),s=new Wr(i);return s.direction=s.direction||this._directionality.value,new yr(o,n,a,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(cu))}position(){return this._positionBuilder}_createPaneElement(i){let n=this._document.createElement("div");return n.id=`cdk-overlay-${pE++}`,n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(wu)),new bl(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(n){return new(n||e)(ie(cE),ie(ba),ie(Xo),ie(mE),ie(dE),ie(wt),ie(Oe),ie(Je),ie(Di),ie(Jo),ie(uE),ie(ai,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],bp=new De("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=Ve(qt);return()=>t.scrollStrategies.reposition()}}),Mo=(()=>{let e=class e{constructor(i){this.elementRef=i}};e.\u0275fac=function(n){return new(n||e)(B(Fe))},e.\u0275dir=Re({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),bd=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}constructor(i,n,a,o,s){this._overlay=i,this._dir=s,this._backdropSubscription=bi.EMPTY,this._attachSubscription=bi.EMPTY,this._detachSubscription=bi.EMPTY,this._positionSubscription=bi.EMPTY,this._disposeOnNavigation=!1,this._ngZone=Ve(Oe),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ze,this.positionChange=new Ze,this.attach=new Ze,this.detach=new Ze,this.overlayKeydown=new Ze,this.overlayOutsideClick=new Ze,this._templatePortal=new gr(n,a),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vE);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!vi(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let a=this._getOriginElement(),o=pi(n);(!a||a!==o&&!a.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Wr({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(i){let n=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof Mo?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Mo?this.origin.elementRef.nativeElement:this.origin instanceof Fe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(su(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(B(qt),B(wr),B(Xr),B(bp),B(Di,8))},e.\u0275dir=Re({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Qe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Qe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Qe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Qe],push:[2,"cdkConnectedOverlayPush","push",Qe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Qe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Yt,ni]});let t=e;return t})();function gE(t){return()=>t.scrollStrategies.reposition()}var bE={provide:bp,deps:[qt],useFactory:gE},qr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[qt,bE],imports:[jr,br,sd,sd]});let t=e;return t})();var yE=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _l=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[yE]});let t=e;return t})();var yp=new Set,Cn,_E=(()=>{let e=class e{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wE}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&xE(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(n){return new(n||e)(ie(it),ie(uu,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xE(t,e){if(!yp.has(t))try{Cn||(Cn=document.createElement("style"),e&&Cn.setAttribute("nonce",e),Cn.setAttribute("type","text/css"),document.head.appendChild(Cn)),Cn.sheet&&(Cn.sheet.insertRule(`@media ${t} {body{ }}`,0),yp.add(t))}catch(r){console.error(r)}}function wE(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var xl=(()=>{let e=class e{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new be}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return _p(pa(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let a=_p(pa(i)).map(s=>this._registerQuery(s).observable),o=nu(a);return o=au(o.pipe(or(1)),o.pipe(Go(1),$o(0))),o.pipe(qi(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),o={observable:new _r(s=>{let l=c=>this._zone.run(()=>s.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Gi(n),qi(({matches:s})=>({query:i,matches:s})),xt(this._destroySubject)),mql:n};return this._queries.set(i,o),o}};e.\u0275fac=function(n){return new(n||e)(ie(_E),ie(Oe))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _p(t){return t.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}var xp={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var kp=" ";function Dp(t,e,r){let i=Sp(t,e);r=r.trim(),!i.some(n=>n.trim()===r)&&(i.push(r),t.setAttribute(e,i.join(kp)))}function Sd(t,e,r){let i=Sp(t,e);r=r.trim();let n=i.filter(a=>a!==r);n.length?t.setAttribute(e,n.join(kp)):t.removeAttribute(e)}function Sp(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var NE=200,xd=class{constructor(e,r){this._letterKeyStream=new be,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new be,this.selectedItem=this._selectedItem;let i=typeof r?.debounceInterval=="number"?r.debounceInterval:NE;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let r=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(lu(r=>this._pressedLetters.push(r)),$o(e),Gt(()=>this._pressedLetters.length>0),qi(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let i=1;i<this._items.length+1;i++){let n=(this._selectedItemIndex+i)%this._items.length,a=this._items[n];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}},wd=class{constructor(e,r){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=bi.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new be,this.change=new be,e instanceof Gl?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Yl(e)&&(this._effectRef=Cu(()=>this._itemsChanged(e()),{injector:r}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let r=this._getItemsArray();return this._typeahead=new xd(r,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){let r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){let r=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(r){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}else return;default:(n||vi(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let r=this._getItemsArray(),i=typeof e=="number"?e:r.indexOf(e),n=r[i];this._activeItem=n??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let r=this._getItemsArray();for(let i=1;i<=r.length;i++){let n=(this._activeItemIndex+e*i+r.length)%r.length,a=r[n];if(!this._skipPredicateFn(a)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=r,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Yl(this._items)?this._items():this._items instanceof Gl?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let r=e.indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}},El=class extends wd{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var Oo=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return VE(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let n=BE(GE(i));if(n&&(wp(n)===-1||!this.isVisible(n)))return!1;let a=i.nodeName.toLowerCase(),o=wp(i);return i.hasAttribute("contenteditable")?o!==-1:a==="iframe"||a==="object"||this._platform.WEBKIT&&this._platform.IOS&&!qE(i)?!1:a==="audio"?i.hasAttribute("controls")?o!==-1:!1:a==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,n){return $E(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(n){return new(n||e)(ie(it))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BE(t){try{return t.frameElement}catch{return null}}function VE(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function zE(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function jE(t){return UE(t)&&t.type=="hidden"}function HE(t){return WE(t)&&t.hasAttribute("href")}function UE(t){return t.nodeName.toLowerCase()=="input"}function WE(t){return t.nodeName.toLowerCase()=="a"}function Ip(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function wp(t){if(!Ip(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function qE(t){let e=t.nodeName.toLowerCase(),r=e==="input"&&t.type;return r==="text"||r==="password"||e==="select"||e==="textarea"}function $E(t){return jE(t)?!1:zE(t)||HE(t)||t.hasAttribute("contenteditable")||Ip(t)}function GE(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Cd=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,r,i,n,a=!1,o){this._element=e,this._checker=r,this._ngZone=i,this._document=n,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){let e=this._startAnchor,r=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let r=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let i=this._getFirstTabbableElement(r);return i?.focus(e),!!i}return r.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let r=this._getRegionBoundary("start");return r&&r.focus(e),!!r}focusLastTabbableElement(e){let r=this._getRegionBoundary("end");return r&&r.focus(e),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let r=e.children;for(let i=0;i<r.length;i++){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[i]):null;if(n)return n}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let r=e.children;for(let i=r.length-1;i>=0;i--){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[i]):null;if(n)return n}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,r){e?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Mn(e,{injector:this._injector}):setTimeout(e)}},Sl=(()=>{let e=class e{constructor(i,n,a){this._checker=i,this._ngZone=n,this._injector=Ve(wt),this._document=a}create(i,n=!1){return new Cd(i,this._checker,this._ngZone,this._document,n,this._injector)}};e.\u0275fac=function(n){return new(n||e)(ie(Oo),ie(Oe),ie(Je))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Id(t){return t.buttons===0||t.detail===0}function Ad(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var YE=new De("cdk-input-modality-detector-options"),KE={ignoreKeys:[18,17,224,91,16]},Ap=650,ya=zr({passive:!0,capture:!0}),ZE=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,n,a,o){this._platform=i,this._mostRecentTarget=null,this._modality=new tu(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(l=>l===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=pi(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<Ap||(this._modality.next(Id(s)?"keyboard":"mouse"),this._mostRecentTarget=pi(s))},this._onTouchstart=s=>{if(Ad(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=pi(s)},this._options=Ae(Ae({},KE),o),this.modalityDetected=this._modality.pipe(Go(1)),this.modalityChanged=this.modalityDetected.pipe(Ra()),i.isBrowser&&n.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,ya),a.addEventListener("mousedown",this._onMousedown,ya),a.addEventListener("touchstart",this._onTouchstart,ya)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ya),document.removeEventListener("mousedown",this._onMousedown,ya),document.removeEventListener("touchstart",this._onTouchstart,ya))}};e.\u0275fac=function(n){return new(n||e)(ie(it),ie(Oe),ie(Je),ie(YE,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XE=new De("liveAnnouncerElement",{providedIn:"root",factory:QE});function QE(){return null}var JE=new De("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),e1=0,Il=(()=>{let e=class e{constructor(i,n,a,o){this._ngZone=n,this._defaultOptions=o,this._document=a,this._liveElement=i||this._createLiveElement()}announce(i,...n){let a=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=a&&a.politeness?a.politeness:"polite"),s==null&&a&&(s=a.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),a=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return a.classList.add(i),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),a.id=`cdk-live-announcer-${e1++}`,this._document.body.appendChild(a),a}_exposeAnnouncerToModals(i){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<n.length;a++){let o=n[a],s=o.getAttribute("aria-owns");s?s.indexOf(i)===-1&&o.setAttribute("aria-owns",s+" "+i):o.setAttribute("aria-owns",i)}}};e.\u0275fac=function(n){return new(n||e)(ie(XE,8),ie(Oe),ie(Je),ie(JE,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cl=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Cl||{}),t1=new De("cdk-focus-monitor-default-options"),wl=zr({passive:!0,capture:!0}),_a=(()=>{let e=class e{constructor(i,n,a,o,s){this._ngZone=i,this._platform=n,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new be,this._rootNodeFocusAndBlurListener=l=>{let c=pi(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=o,this._detectionMode=s?.detectionMode||Cl.IMMEDIATE}monitor(i,n=!1){let a=ki(i);if(!this._platform.isBrowser||a.nodeType!==1)return Yr();let o=sp(a)||this._getDocument(),s=this._elementInfo.get(a);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new be,rootNode:o};return this._elementInfo.set(a,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let n=ki(i),a=this._elementInfo.get(n);a&&(a.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(a))}focusVia(i,n,a){let o=ki(i),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(a))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Cl.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===Cl.IMMEDIATE){clearTimeout(this._originTimeoutId);let a=this._originFromTouchInteraction?Ap:1;this._originTimeoutId=setTimeout(()=>this._origin=null,a)}})}_onFocus(i,n){let a=this._elementInfo.get(n),o=pi(i);!a||!a.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),a)}_onBlur(i,n){let a=this._elementInfo.get(n);!a||a.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(a,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,a=this._rootNodeFocusListenerCount.get(n)||0;a||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,wl),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,wl)}),this._rootNodeFocusListenerCount.set(n,a+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let a=this._rootNodeFocusListenerCount.get(n);a>1?this._rootNodeFocusListenerCount.set(n,a-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wl),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wl),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,a){this._setClasses(i,n),this._emitOrigin(a,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((a,o)=>{(o===i||a.checkChildren&&o.contains(i))&&n.push([o,a])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:a}=this._inputModalityDetector;if(a!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}};e.\u0275fac=function(n){return new(n||e)(ie(Oe),ie(it),ie(ZE),ie(Je,8),ie(t1,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var En=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(En||{}),Cp="cdk-high-contrast-black-on-white",Ep="cdk-high-contrast-white-on-black",_d="cdk-high-contrast-active",Md=(()=>{let e=class e{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=Ve(xl).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return En.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,a=n&&n.getComputedStyle?n.getComputedStyle(i):null,o=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return En.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return En.BLACK_ON_WHITE}return En.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(_d,Cp,Ep),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===En.BLACK_ON_WHITE?i.add(_d,Cp):n===En.WHITE_ON_BLACK&&i.add(_d,Ep)}}};e.\u0275fac=function(n){return new(n||e)(ie(it),ie(Je))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mp=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(n){return new(n||e)(ie(Md))},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[_l]});let t=e;return t})();function i1(t,e){}var kn=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Od=(()=>{let e=class e extends Hr{constructor(i,n,a,o,s,l,c,d){super(),this._elementRef=i,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=Ve(it),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Ve(si),this._injector=Ve(wt),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),h},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{i.removeEventListener("blur",a),i.removeEventListener("mousedown",a),i.removeAttribute("tabindex")};i.addEventListener("blur",a),i.addEventListener("mousedown",a)})),i.focus(n)}_focusByCssSelector(i,n){let a=this._elementRef.nativeElement.querySelector(i);a&&this._forceFocus(a,n)}_trapFocus(){this._isDestroyed||Mn(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let a=Do(),o=this._elementRef.nativeElement;(!a||a===this._document.body||a===o||o.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,n=Do();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Do()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(Sl),B(Je,8),B(kn),B(Oo),B(Oe),B(yr),B(_a))},e.\u0275cmp=je({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,a){if(n&1&&ct(Ur,7),n&2){let o;He(o=Ue())&&(a._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,a){n&2&&ht("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},standalone:!0,features:[Ct,qe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,a){n&1&&ze(0,i1,0,0,"ng-template",0)},dependencies:[Ur],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Fo=class{constructor(e,r){this.overlayRef=e,this.config=r,this.closed=new be,this.disableClose=r.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!vi(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(e,r){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",r=""){return this.overlayRef.updateSize({width:e,height:r}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},r1=new De("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=Ve(qt);return()=>t.scrollStrategies.block()}}),n1=new De("DialogData"),a1=new De("DefaultDialogConfig");var o1=0,Rd=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,n,a,o,s,l){this._overlay=i,this._injector=n,this._defaultOptions=a,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this._ariaHiddenElements=new Map,this.afterAllClosed=Sn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gi(void 0))),this._scrollStrategy=l}open(i,n){let a=this._defaultOptions||new kn;n=Ae(Ae({},a),n),n.id=n.id||`cdk-dialog-${o1++}`,n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=this._overlay.create(o),l=new Fo(s,n),c=this._attachContainer(s,l,n);return l.containerInstance=c,this._attachDialogContent(i,l,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Td(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){Td(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),Td(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new Wr({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,a){let o=a.injector||a.viewContainerRef?.injector,s=[{provide:kn,useValue:a},{provide:Fo,useValue:n},{provide:yr,useValue:i}],l;a.container?typeof a.container=="function"?l=a.container:(l=a.container.type,s.push(...a.container.providers(a))):l=Od;let c=new vr(l,a.viewContainerRef,wt.create({parent:o||this._injector,providers:s}),a.componentFactoryResolver);return i.attach(c).instance}_attachDialogContent(i,n,a,o){if(i instanceof wr){let s=this._createInjector(o,n,a,void 0),l={$implicit:o.data,dialogRef:n};o.templateContext&&(l=Ae(Ae({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),a.attachTemplatePortal(new gr(i,null,l,s))}else{let s=this._createInjector(o,n,a,this._injector),l=a.attachComponentPortal(new vr(i,o.viewContainerRef,s,o.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(i,n,a,o){let s=i.injector||i.viewContainerRef?.injector,l=[{provide:n1,useValue:i.data},{provide:Fo,useValue:n}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(n,i,a)):l.push(...i.providers)),i.direction&&(!s||!s.get(Di,null,{optional:!0}))&&l.push({provide:Di,useValue:{value:i.direction,change:Yr()}}),wt.create({parent:s||o,providers:l})}_removeOpenDialog(i,n){let a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let n=i.parentElement.children;for(let a=n.length-1;a>-1;a--){let o=n[a];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(n){return new(n||e)(ie(qt),ie(wt),ie(a1,8),ie(e,12),ie(ba),ie(r1))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Td(t,e){let r=t.length;for(;r--;)e(t[r])}var Tp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[Rd],imports:[qr,br,Mp,br]});let t=e;return t})();var s1=["*",[["mat-option"],["ng-container"]]],l1=["*","mat-option, ng-container"],c1=["text"],d1=[[["mat-icon"]],"*"],u1=["mat-icon","*"];function h1(t,e){if(t&1&&Xe(0,"mat-pseudo-checkbox",1),t&2){let r=st();Be("disabled",r.disabled)("state",r.selected?"checked":"unchecked")}}function f1(t,e){if(t&1&&Xe(0,"mat-pseudo-checkbox",3),t&2){let r=st();Be("disabled",r.disabled)}}function m1(t,e){if(t&1&&(ae(0,"span",4),Se(1),re()),t&2){let r=st();ve(),Cr("(",r.group.label,")")}}var p1=["mat-internal-form-field",""],v1=["*"];function g1(){return!0}var b1=new De("mat-sanity-checks",{providedIn:"root",factory:g1}),rt=(()=>{let e=class e{constructor(i,n,a){this._sanityChecks=n,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return So()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(n){return new(n||e)(ie(Md),ie(b1,8),ie(Je))},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[jr,jr]});let t=e;return t})();var xa=class{constructor(e,r,i,n,a){this._defaultMatcher=e,this.ngControl=r,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=a,this.errorState=!1}updateErrorState(){let e=this.errorState,r=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,a=i?.isErrorState(n,r)??!1;a!==e&&(this.errorState=a,this._stateChanges.next())}};var Ol=(()=>{let e=class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Si=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Si||{}),Ld=class{constructor(e,r,i,n=!1){this._renderer=e,this.element=r,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=Si.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Op=zr({passive:!0,capture:!0}),Nd=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=pi(e);r&&this._events.get(e.type)?.forEach((i,n)=>{(n===r||n.contains(r))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,r,i,n){let a=this._events.get(r);if(a){let o=a.get(i);o?o.add(n):a.set(i,new Set([n]))}else this._events.set(r,new Map([[i,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,Op)})}removeHandler(e,r,i){let n=this._events.get(e);if(!n)return;let a=n.get(r);a&&(a.delete(i),a.size===0&&n.delete(r),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Op)))}},Rp={enterDuration:225,exitDuration:150},y1=800,Fp=zr({passive:!0,capture:!0}),Pp=["mousedown","touchstart"],Lp=["mouseup","mouseleave","touchend","touchcancel"],Po=class Po{constructor(e,r,i,n){this._target=e,this._ngZone=r,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=ki(i))}fadeInRipple(e,r,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Ae(Ae({},Rp),i.animation);i.centered&&(e=n.left+n.width/2,r=n.top+n.height/2);let o=i.radius||_1(e,r,n),s=e-n.left,l=r-n.top,c=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,f=h==="none"||m==="0s"||m==="0s, 0s"||n.width===0&&n.height===0,g=new Ld(this,d,i,f);d.style.transform="scale3d(1, 1, 1)",g.state=Si.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let v=null;return!f&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let p=()=>{v&&(v.fallbackTimer=null),clearTimeout(b),this._finishRippleTransition(g)},y=()=>this._destroyRipple(g),b=setTimeout(y,c+100);d.addEventListener("transitionend",p),d.addEventListener("transitioncancel",y),v={onTransitionEnd:p,onTransitionCancel:y,fallbackTimer:b}}),this._activeRipples.set(g,v),(f||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===Si.FADING_OUT||e.state===Si.HIDDEN)return;let r=e.element,i=Ae(Ae({},Rp),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=Si.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=ki(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,Pp.forEach(i=>{Po._eventManager.addHandler(this._ngZone,i,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Lp.forEach(r=>{this._triggerElement.addEventListener(r,this,Fp)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Si.FADING_IN?this._startFadeOutTransition(e):e.state===Si.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Si.VISIBLE,!i&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Si.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),e.element.remove()}_onMousedown(e){let r=Id(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+y1;!this._target.rippleDisabled&&!r&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Ad(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let i=0;i<r.length;i++)this.fadeInRipple(r[i].clientX,r[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===Si.VISIBLE||e.config.terminateOnPointerUp&&e.state===Si.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Pp.forEach(r=>Po._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&(Lp.forEach(r=>e.removeEventListener(r,this,Fp)),this._pointerUpEventsRegistered=!1))}};Po._eventManager=new Nd;var Bd=Po;function _1(t,e,r){let i=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),n=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(i*i+n*n)}var zp=new De("mat-ripple-global-options"),Lo=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,a,o,s){this._elementRef=i,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Bd(this,n,i,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ae(Ae(Ae({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,a){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,Ae(Ae({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Ae(Ae({},this.rippleConfig),i))}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(Oe),B(it),B(zp,8),B(ai,8))},e.\u0275dir=Re({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,a){n&2&&We("mat-ripple-unbounded",a.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),zd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,rt]});let t=e;return t})(),x1=(()=>{let e=class e{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(n){return new(n||e)(B(ai,8))},e.\u0275cmp=je({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,a){n&2&&We("mat-pseudo-checkbox-indeterminate",a.state==="indeterminate")("mat-pseudo-checkbox-checked",a.state==="checked")("mat-pseudo-checkbox-disabled",a.disabled)("mat-pseudo-checkbox-minimal",a.appearance==="minimal")("mat-pseudo-checkbox-full",a.appearance==="full")("_mat-animation-noopable",a._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[qe],decls:0,vars:0,template:function(n,a){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),w1=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt]});let t=e;return t})(),Rl=new De("MAT_OPTION_PARENT_COMPONENT"),C1=0,Fl=new De("MatOptgroup"),jp=(()=>{let e=class e{constructor(i){this.disabled=!1,this._labelId=`mat-optgroup-label-${C1++}`,this._inert=i?.inertGroups??!1}};e.\u0275fac=function(n){return new(n||e)(B(Rl,8))},e.\u0275cmp=je({type:e,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(n,a){n&2&&ht("role",a._inert?null:"group")("aria-disabled",a._inert?null:a.disabled.toString())("aria-labelledby",a._inert?null:a._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",Qe]},exportAs:["matOptgroup"],standalone:!0,features:[At([{provide:Fl,useExisting:e}]),Yt,qe],ngContentSelectors:l1,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(n,a){n&1&&(oi(s1),ae(0,"span",0)(1,"span",1),Se(2),lt(3),re()(),lt(4,1)),n&2&&(We("mdc-list-item--disabled",a.disabled),Be("id",a._labelId),ve(2),Cr("",a.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0});let t=e;return t})(),E1=0,Vd=class{constructor(e,r=!1){this.source=e,this.isUserInput=r}},wa=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(i,n,a,o){this._element=i,this._changeDetectorRef=n,this._parent=a,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${E1++}`,this.onSelectionChange=new Ze,this._stateChanges=new be}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,n){let a=this._getHostElement();typeof a.focus=="function"&&a.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!vi(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new Vd(this,i))}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(si),B(Rl,8),B(Fl,8))},e.\u0275cmp=je({type:e,selectors:[["mat-option"]],viewQuery:function(n,a){if(n&1&&ct(c1,7),n&2){let o;He(o=Ue())&&(a._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,a){n&1&&Pe("click",function(){return a._selectViaInteraction()})("keydown",function(s){return a._handleKeydown(s)}),n&2&&(_i("id",a.id),ht("aria-selected",a.selected)("aria-disabled",a.disabled.toString()),We("mdc-list-item--selected",a.selected)("mat-mdc-option-multiple",a.multiple)("mat-mdc-option-active",a.active)("mdc-list-item--disabled",a.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Qe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Yt,qe],ngContentSelectors:u1,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,a){n&1&&(oi(d1),ze(0,h1,1,2,"mat-pseudo-checkbox",1),lt(1),ae(2,"span",2,0),lt(4,1),re(),ze(5,f1,1,1,"mat-pseudo-checkbox",3)(6,m1,2,1,"span",4),Xe(7,"div",5)),n&2&&(yt(a.multiple?0:-1),ve(5),yt(!a.multiple&&a.selected&&!a.hideSingleSelectionIndicator?5:-1),ve(),yt(a.group&&a.group._inert?6:-1),ve(),Be("matRippleTrigger",a._getHostElement())("matRippleDisabled",a.disabled||a.disableRipple))},dependencies:[x1,Lo],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function Hp(t,e,r){if(r.length){let i=e.toArray(),n=r.toArray(),a=0;for(let o=0;o<t+1;o++)i[o].group&&i[o].group===n[a]&&a++;return a}return 0}function Up(t,e,r,i){return t<r?t:t+e>r+i?Math.max(0,t-i+e):r}var jd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[zd,rt,w1]});let t=e;return t})(),Np={capture:!0},Bp=["focus","mousedown","mouseenter","touchstart"],Fd="mat-ripple-loader-uninitialized",Pd="mat-ripple-loader-class-name",Vp="mat-ripple-loader-centered",Al="mat-ripple-loader-disabled",Wp=(()=>{let e=class e{constructor(){this._document=Ve(Je,{optional:!0}),this._animationMode=Ve(ai,{optional:!0}),this._globalRippleOptions=Ve(zp,{optional:!0}),this._platform=Ve(it),this._ngZone=Ve(Oe),this._hosts=new Map,this._onInteraction=i=>{let n=pi(i);if(n instanceof HTMLElement){let a=n.closest(`[${Fd}="${this._globalRippleOptions?.namespace??""}"]`);a&&this._createRipple(a)}},this._ngZone.runOutsideAngular(()=>{for(let i of Bp)this._document?.addEventListener(i,this._onInteraction,Np)})}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);for(let n of Bp)this._document?.removeEventListener(n,this._onInteraction,Np)}configureRipple(i,n){i.setAttribute(Fd,this._globalRippleOptions?.namespace??""),(n.className||!i.hasAttribute(Pd))&&i.setAttribute(Pd,n.className||""),n.centered&&i.setAttribute(Vp,""),n.disabled&&i.setAttribute(Al,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){let a=this._hosts.get(i);if(a){a.disabled=n;return}n?i.setAttribute(Al,""):i.removeAttribute(Al)}_createRipple(i){if(!this._document)return;let n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();let a=this._document.createElement("span");a.classList.add("mat-ripple",i.getAttribute(Pd)),i.append(a);let o=new Lo(new Fe(a),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=i,o.centered=i.hasAttribute(Vp),o.disabled=i.hasAttribute(Al),this.attachRipple(i,o),o}attachRipple(i,n){i.removeAttribute(Fd),this._hosts.set(i,n)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=je({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,a){n&2&&We("mdc-form-field--align-end",a.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[qe],attrs:p1,ngContentSelectors:v1,decls:1,vars:0,template:function(n,a){n&1&&(oi(),lt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();function k1(t,e){}var No=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Hd="mdc-dialog--open",$p="mdc-dialog--opening",Gp="mdc-dialog--closing",D1=150,S1=75,I1=(()=>{let e=class e extends Od{constructor(i,n,a,o,s,l,c,d,u){super(i,n,a,o,s,l,c,u),this._animationMode=d,this._animationStateChanged=new Ze,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Kp(this._config.enterAnimationDuration)??D1:0,this._exitAnimationDuration=this._animationsEnabled?Kp(this._config.exitAnimationDuration)??S1:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Yp,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($p,Hd)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Hd),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Hd),this._animationsEnabled?(this._hostElement.style.setProperty(Yp,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Gp)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove($p,Gp)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(Sl),B(Je,8),B(No),B(Oo),B(Oe),B(yr),B(ai,8),B(_a))},e.\u0275cmp=je({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,a){n&2&&(_i("id",a._config.id),ht("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),We("_mat-animation-noopable",!a._animationsEnabled)("mat-mdc-dialog-container-with-actions",a._actionSectionCount>0))},standalone:!0,features:[Ct,qe],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,a){n&1&&(ae(0,"div",0)(1,"div",1),ze(2,k1,0,0,"ng-template",2),re()())},dependencies:[Ur],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),Yp="--mat-dialog-transition-duration";function Kp(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?ma(t.substring(0,t.length-2)):t.endsWith("s")?ma(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Ll=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Ll||{}),nr=class{constructor(e,r,i){this._ref=e,this._containerInstance=i,this._afterOpened=new be,this._beforeClosed=new be,this._state=Ll.OPEN,this.disableClose=r.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Gt(n=>n.state==="opened"),or(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Gt(n=>n.state==="closed"),or(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$i(this.backdropClick(),this.keydownEvents().pipe(Gt(n=>n.keyCode===27&&!this.disableClose&&!vi(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),A1(this,n.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Gt(r=>r.state==="closing"),or(1)).subscribe(r=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=Ll.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let r=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?r.left(e.left):r.right(e.right):r.centerHorizontally(),e&&(e.top||e.bottom)?e.top?r.top(e.top):r.bottom(e.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",r=""){return this._ref.updateSize(e,r),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Ll.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function A1(t,e,r){return t._closeInteractionType=e,t.close(r)}var Bo=new De("MatMdcDialogData"),M1=new De("mat-mdc-dialog-default-options"),T1=new De("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=Ve(qt);return()=>t.scrollStrategies.block()}});var O1=0,Ca=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,n,a,o,s,l,c,d){this._overlay=i,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this.dialogConfigClass=No,this.afterAllClosed=Sn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gi(void 0))),this._dialog=n.get(Rd),this._dialogRefConstructor=nr,this._dialogContainerType=I1,this._dialogDataToken=Bo}open(i,n){let a;n=Ae(Ae({},this._defaultOptions||new No),n),n.id=n.id||`mat-mdc-dialog-${O1++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(i,ri(Ae({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:kn,useValue:n}]},templateContext:()=>({dialogRef:a}),providers:(s,l,c)=>(a=new this._dialogRefConstructor(s,n,c),a.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:a}])}));return a.componentRef=o.componentRef,a.componentInstance=o.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(a);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}};e.\u0275fac=function(n){return new(n||e)(ie(qt),ie(wt),ie(Jo,8),ie(M1,8),ie(T1),ie(e,12),ie(ba),ie(ai,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),R1=0;var Zp=(()=>{let e=class e{constructor(i,n,a){this._dialogRef=i,this._elementRef=n,this._dialog=a}ngOnInit(){this._dialogRef||(this._dialogRef=F1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(n){return new(n||e)(B(nr,8),B(Fe),B(Ca))},e.\u0275dir=Re({type:e,standalone:!0});let t=e;return t})(),Ea=(()=>{let e=class e extends Zp{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${R1++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};e.\u0275fac=(()=>{let i;return function(a){return(i||(i=Kr(e)))(a||e)}})(),e.\u0275dir=Re({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,a){n&2&&_i("id",a.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[Ct]});let t=e;return t})(),ka=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[mu([cp])]});let t=e;return t})(),Da=(()=>{let e=class e extends Zp{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let i;return function(a){return(i||(i=Kr(e)))(a||e)}})(),e.\u0275dir=Re({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,a){n&2&&We("mat-mdc-dialog-actions-align-start",a.align==="start")("mat-mdc-dialog-actions-align-center",a.align==="center")("mat-mdc-dialog-actions-align-end",a.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ct]});let t=e;return t})();function F1(t,e){let r=t.nativeElement.parentElement;for(;r&&!r.classList.contains("mat-mdc-dialog-container");)r=r.parentElement;return r?e.find(i=>i.id===r.id):null}var $r=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[Ca],imports:[Tp,qr,br,rt,rt]});let t=e;return t})();var Xp=zr({passive:!0}),Qp=(()=>{let e=class e{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return iu;let n=ki(i),a=this._monitoredElements.get(n);if(a)return a.subject;let o=new be,s="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,Xp),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",l,Xp)}}),o}stopMonitoring(i){let n=ki(i),a=this._monitoredElements.get(n);a&&(a.unlisten(),a.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}};e.\u0275fac=function(n){return new(n||e)(ie(it),ie(Oe))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({});let t=e;return t})();var Ud=class{constructor(e){this._box=e,this._destroyed=new be,this._resizeSubject=new be,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new _r(r=>{let i=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Gt(r=>r.some(i=>i.target===e)),$l({bufferSize:1,refCount:!0}),xt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},ev=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=Ve(Oe),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,n){let a=n?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new Ud(a)),this._observers.get(a).observe(i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L1=["notch"],N1=["matFormFieldNotchedOutline",""],B1=["*"],V1=["textField"],z1=["iconPrefixContainer"],j1=["textPrefixContainer"],H1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],U1=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function W1(t,e){t&1&&Xe(0,"span",19)}function q1(t,e){if(t&1&&(ae(0,"label",18),lt(1,1),ze(2,W1,1,0,"span",19),re()),t&2){let r=st(2);Be("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),ht("for",r._control.disableAutomaticLabeling?null:r._control.id),ve(2),yt(!r.hideRequiredMarker&&r._control.required?2:-1)}}function $1(t,e){if(t&1&&ze(0,q1,3,5,"label",18),t&2){let r=st();yt(r._hasFloatingLabel()?0:-1)}}function G1(t,e){t&1&&Xe(0,"div",5)}function Y1(t,e){}function K1(t,e){if(t&1&&ze(0,Y1,0,0,"ng-template",11),t&2){st(2);let r=Qr(1);Be("ngTemplateOutlet",r)}}function Z1(t,e){if(t&1&&(ae(0,"div",7),ze(1,K1,1,1,null,11),re()),t&2){let r=st();Be("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),ve(),yt(r._forceDisplayInfixLabel()?-1:1)}}function X1(t,e){t&1&&(ae(0,"div",8,2),lt(2,2),re())}function Q1(t,e){t&1&&(ae(0,"div",9,3),lt(2,3),re())}function J1(t,e){}function ek(t,e){if(t&1&&ze(0,J1,0,0,"ng-template",11),t&2){st();let r=Qr(1);Be("ngTemplateOutlet",r)}}function tk(t,e){t&1&&(ae(0,"div",12),lt(1,4),re())}function ik(t,e){t&1&&(ae(0,"div",13),lt(1,5),re())}function rk(t,e){t&1&&Xe(0,"div",14)}function nk(t,e){if(t&1&&(ae(0,"div",16),lt(1,6),re()),t&2){let r=st();Be("@transitionMessages",r._subscriptAnimationState)}}function ak(t,e){if(t&1&&(ae(0,"mat-hint",20),Se(1),re()),t&2){let r=st(2);Be("id",r._hintLabelId),ve(),Ki(r.hintLabel)}}function ok(t,e){if(t&1&&(ae(0,"div",17),ze(1,ak,2,2,"mat-hint",20),lt(2,7),Xe(3,"div",21),lt(4,8),re()),t&2){let r=st();Be("@transitionMessages",r._subscriptAnimationState),ve(),yt(r.hintLabel?1:-1)}}var Sa=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})(),sk=0,cv=new De("MatError"),Bl=(()=>{let e=class e{constructor(i,n){this.id=`mat-mdc-error-${sk++}`,i||n.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(n){return new(n||e)(Zr("aria-live"),B(Fe))},e.\u0275dir=Re({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,a){n&2&&_i("id",a.id)},inputs:{id:"id"},standalone:!0,features:[At([{provide:cv,useExisting:e}])]});let t=e;return t})(),lk=0,tv=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${lk++}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,a){n&2&&(_i("id",a.id),ht("align",null),We("mat-mdc-form-field-hint-end",a.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),ck=new De("MatPrefix");var dk=new De("MatSuffix");var dv=new De("FloatingLabelParent"),iv=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ve(ev),this._ngZone=Ve(Oe),this._parent=Ve(dv),this._resizeSubscription=new bi}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return uk(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(n){return new(n||e)(B(Fe))},e.\u0275dir=Re({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,a){n&2&&We("mdc-floating-label--float-above",a.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function uk(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let r=e.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let i=r.scrollWidth;return r.remove(),i}var rv="mdc-line-ripple--active",Nl="mdc-line-ripple--deactivating",nv=(()=>{let e=class e{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=a=>{let o=this._elementRef.nativeElement.classList,s=o.contains(Nl);a.propertyName==="opacity"&&s&&o.remove(rv,Nl)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Nl),i.add(rv)}deactivate(){this._elementRef.nativeElement.classList.add(Nl)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(Oe))},e.\u0275dir=Re({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),av=(()=>{let e=class e{constructor(i,n){this._elementRef=i,this._ngZone=n,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(Oe))},e.\u0275cmp=je({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,a){if(n&1&&ct(L1,5),n&2){let o;He(o=Ue())&&(a._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,a){n&2&&We("mdc-notched-outline--notched",a.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[qe],attrs:N1,ngContentSelectors:B1,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,a){n&1&&(oi(),Xe(0,"div",1),ae(1,"div",2,0),lt(3),re(),Xe(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),hk={transitionMessages:Jr("transitionMessages",[en("enter",Fi({opacity:1,transform:"translateY(0%)"})),lr("void => enter",[Fi({opacity:0,transform:"translateY(-5px)"}),Er("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},zo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e});let t=e;return t})();var jo=new De("MatFormField"),fk=new De("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ov=0,sv="fill",mk="auto",lv="fixed",pk="translateY(-50%)",Vl=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=_n(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||mk}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let n=this._appearance,a=i||this._defaults?.appearance||sv;this._appearance=a,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||lv}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||lv}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,a,o,s,l,c,d){this._elementRef=i,this._changeDetectorRef=n,this._dir=o,this._platform=s,this._defaults=l,this._animationMode=c,this._labelChild=fu(Sa),this._hideRequiredMarker=!1,this.color="primary",this._appearance=sv,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${ov++}`,this._hintLabelId=`mat-mdc-hint-${ov++}`,this._subscriptAnimationState="",this._destroyed=new be,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Ve(wt),this.getLabelId=sr(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=sr(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let n=this._control,a="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(a+i.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(a+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(xt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$i(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Qo(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(xt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,a=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),a&&i.push(a.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,a=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,s=a?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",c=`${o+s}px`,u=`calc(${l} * (${c} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${pk} translateX(${u})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(si),B(Oe),B(Di),B(it),B(fk,8),B(ai,8),B(Je))},e.\u0275cmp=je({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,a,o){if(n&1&&(bu(o,a._labelChild,Sa,5),Yi(o,zo,5),Yi(o,ck,5),Yi(o,dk,5),Yi(o,cv,5),Yi(o,tv,5)),n&2){yu();let s;He(s=Ue())&&(a._formFieldControl=s.first),He(s=Ue())&&(a._prefixChildren=s),He(s=Ue())&&(a._suffixChildren=s),He(s=Ue())&&(a._errorChildren=s),He(s=Ue())&&(a._hintChildren=s)}},viewQuery:function(n,a){if(n&1&&(ct(V1,5),ct(z1,5),ct(j1,5),ct(iv,5),ct(av,5),ct(nv,5)),n&2){let o;He(o=Ue())&&(a._textField=o.first),He(o=Ue())&&(a._iconPrefixContainer=o.first),He(o=Ue())&&(a._textPrefixContainer=o.first),He(o=Ue())&&(a._floatingLabel=o.first),He(o=Ue())&&(a._notchedOutline=o.first),He(o=Ue())&&(a._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,a){n&2&&We("mat-mdc-form-field-label-always-float",a._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",a._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",a._hasIconSuffix)("mat-form-field-invalid",a._control.errorState)("mat-form-field-disabled",a._control.disabled)("mat-form-field-autofilled",a._control.autofilled)("mat-form-field-no-animations",a._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",a.appearance=="fill")("mat-form-field-appearance-outline",a.appearance=="outline")("mat-form-field-hide-placeholder",a._hasFloatingLabel()&&!a._shouldLabelFloat())("mat-focused",a._control.focused)("mat-primary",a.color!=="accent"&&a.color!=="warn")("mat-accent",a.color==="accent")("mat-warn",a.color==="warn")("ng-untouched",a._shouldForward("untouched"))("ng-touched",a._shouldForward("touched"))("ng-pristine",a._shouldForward("pristine"))("ng-dirty",a._shouldForward("dirty"))("ng-valid",a._shouldForward("valid"))("ng-invalid",a._shouldForward("invalid"))("ng-pending",a._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[At([{provide:jo,useExisting:e},{provide:dv,useExisting:e}]),qe],ngContentSelectors:U1,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,a){if(n&1){let o=yi();oi(H1),ze(0,$1,1,1,"ng-template",null,0,_u),ae(2,"div",4,1),Pe("click",function(l){return St(o),It(a._control.onContainerClick(l))}),ze(4,G1,1,0,"div",5),ae(5,"div",6),ze(6,Z1,2,2,"div",7)(7,X1,3,0,"div",8)(8,Q1,3,0,"div",9),ae(9,"div",10),ze(10,ek,1,1,null,11),lt(11),re(),ze(12,tk,2,0,"div",12)(13,ik,2,0,"div",13),re(),ze(14,rk,1,0,"div",14),re(),ae(15,"div",15),ze(16,nk,2,1,"div",16)(17,ok,5,2,"div",17),re()}if(n&2){let o;ve(2),We("mdc-text-field--filled",!a._hasOutline())("mdc-text-field--outlined",a._hasOutline())("mdc-text-field--no-label",!a._hasFloatingLabel())("mdc-text-field--disabled",a._control.disabled)("mdc-text-field--invalid",a._control.errorState),ve(2),yt(!a._hasOutline()&&!a._control.disabled?4:-1),ve(2),yt(a._hasOutline()?6:-1),ve(),yt(a._hasIconPrefix?7:-1),ve(),yt(a._hasTextPrefix?8:-1),ve(2),yt(!a._hasOutline()||a._forceDisplayInfixLabel()?10:-1),ve(2),yt(a._hasTextSuffix?12:-1),ve(),yt(a._hasIconSuffix?13:-1),ve(),yt(a._hasOutline()?-1:14),ve(),We("mat-mdc-form-field-subscript-dynamic-size",a.subscriptSizing==="dynamic"),ve(),yt((o=a._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[iv,av,Du,nv,tv],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[hk.transitionMessages]},changeDetection:0});let t=e;return t})(),Hi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,xi,_l,rt]});let t=e;return t})();var vk=new De("MAT_INPUT_VALUE_ACCESSOR"),gk=["button","checkbox","file","hidden","image","radio","range","reset","submit"],bk=0,hv=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=_n(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(i){this._required=_n(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&ad().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=_n(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,n,a,o,s,l,c,d,u,h){this._elementRef=i,this._platform=n,this.ngControl=a,this._autofillMonitor=d,this._ngZone=u,this._formField=h,this._uid=`mat-input-${bk++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new be,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>ad().has(g)),this._iOSKeyupListener=g=>{let v=g.target;!v.value&&v.selectionStart===0&&v.selectionEnd===0&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,f=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new xa(l,a,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=f==="select",this._isTextarea=f==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){gk.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(it),B(zi,10),B(wo,8),B(Eo,8),B(Ol),B(vk,10),B(Qp),B(Oe),B(jo,8))},e.\u0275dir=Re({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,a){n&1&&Pe("focus",function(){return a._focusChanged(!0)})("blur",function(){return a._focusChanged(!1)})("input",function(){return a._onInput()}),n&2&&(_i("id",a.id)("disabled",a.disabled)("required",a.required),ht("name",a.name||null)("readonly",a.readonly&&!a._isNativeSelect||null)("aria-invalid",a.empty&&a.required?null:a.errorState)("aria-required",a.required)("id",a.id),We("mat-input-server",a._isServer)("mat-mdc-form-field-textarea-control",a._isInFormField&&a._isTextarea)("mat-mdc-form-field-input-control",a._isInFormField)("mdc-text-field__input",a._isInFormField)("mat-mdc-native-select-inline",a._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[At([{provide:zo,useExisting:e}]),ni]});let t=e;return t})(),Ia=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,Hi,Hi,Jp,rt]});let t=e;return t})();var _k=["mat-button",""],xk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ck=new De("MAT_BUTTON_CONFIG");var Ek=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],kk=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,n,a,o){this._elementRef=i,this._platform=n,this._ngZone=a,this._animationMode=o,this._focusMonitor=Ve(_a),this._rippleLoader=Ve(Wp),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=Ve(Ck,{optional:!0}),l=i.nativeElement,c=l.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of Ek)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(n){hu()},e.\u0275dir=Re({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Qe],disabled:[2,"disabled","disabled",Qe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe]},features:[Yt]});let t=e;return t})();var Gr=(()=>{let e=class e extends kk{constructor(i,n,a,o){super(i,n,a,o)}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(it),B(Oe),B(ai,8))},e.\u0275cmp=je({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,a){n&2&&(ht("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),Pa(a.color?"mat-"+a.color:""),We("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ct,qe],attrs:_k,ngContentSelectors:wk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,a){n&1&&(oi(xk),Xe(0,"span",0),lt(1),ae(2,"span",1),lt(3,1),re(),lt(4,2),Xe(5,"span",2)(6,"span",3)),n&2&&We("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Ii=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,zd,rt]});let t=e;return t})();var Dk=["trigger"],Sk=["panel"],Ik=[[["mat-select-trigger"]],"*"],Ak=["mat-select-trigger","*"];function Mk(t,e){if(t&1&&(ae(0,"span",4),Se(1),re()),t&2){let r=st();ve(),Ki(r.placeholder)}}function Tk(t,e){t&1&&lt(0)}function Ok(t,e){if(t&1&&(ae(0,"span",11),Se(1),re()),t&2){let r=st(2);ve(),Ki(r.triggerValue)}}function Rk(t,e){if(t&1&&(ae(0,"span",5),ze(1,Tk,1,0)(2,Ok,2,1,"span",11),re()),t&2){let r=st();ve(),yt(r.customTrigger?1:2)}}function Fk(t,e){if(t&1){let r=yi();ae(0,"div",12,1),Pe("@transformPanel.done",function(n){St(r);let a=st();return It(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){St(r);let a=st();return It(a._handleKeydown(n))}),lt(2,1),re()}if(t&2){let r=st();pu("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",r._getPanelTheme(),""),Be("ngClass",r.panelClass)("@transformPanel","showing"),ht("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var Pk={transformPanelWrap:Jr("transformPanelWrap",[lr("* => void",Mu("@transformPanel",[Au()],{optional:!0}))]),transformPanel:Jr("transformPanel",[en("void",Fi({opacity:0,transform:"scale(1, 0.8)"})),lr("void => showing",Er("120ms cubic-bezier(0, 0, 0.2, 1)",Fi({opacity:1,transform:"scale(1, 1)"}))),lr("* => void",Er("100ms linear",Fi({opacity:0})))])};var fv=0,mv=new De("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=Ve(qt);return()=>t.scrollStrategies.reposition()}});function Lk(t){return()=>t.scrollStrategies.reposition()}var Nk=new De("MAT_SELECT_CONFIG"),Bk={provide:mv,deps:[qt],useFactory:Lk},Vk=new De("MatSelectTrigger"),qd=class{constructor(e,r){this.source=e,this.value=r}},zl=(()=>{let e=class e{_scrollOptionIntoView(i){let n=this.options.toArray()[i];if(n){let a=this.panel.nativeElement,o=Hp(i,this.options,this.optionGroups),s=n._getHostElement();i===0&&o===1?a.scrollTop=0:a.scrollTop=Up(s.offsetTop,s.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new qd(this,i)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(i){this._required=i,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,n,a,o,s,l,c,d,u,h,m,f,g,v){this._viewportRuler=i,this._changeDetectorRef=n,this._elementRef=s,this._dir=l,this._parentFormField=u,this.ngControl=h,this._liveAnnouncer=g,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(p,y)=>p===y,this._uid=`mat-select-${fv++}`,this._triggerAriaLabelledBy=null,this._destroy=new be,this.stateChanges=new be,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${fv++}`,this._panelDoneAnimatingStream=new be,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new be,this.optionSelectionChanges=Sn(()=>{let p=this.options;return p?p.changes.pipe(Gi(p),Yo(()=>$i(...p.map(y=>y.onSelectionChange)))):this._initialized.pipe(Yo(()=>this.optionSelectionChanges))}),this.openedChange=new Ze,this._openedStream=this.openedChange.pipe(Gt(p=>p),qi(()=>{})),this._closedStream=this.openedChange.pipe(Gt(p=>!p),qi(()=>{})),this.selectionChange=new Ze,this.valueChange=new Ze,this._trackedModal=null,this._skipPredicate=p=>this.panelOpen?!1:p.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),v?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._errorStateTracker=new xa(o,h,d,c,this.stateChanges),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new vl(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ra(),xt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(xt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(xt(this._destroy)).subscribe(i=>{i.added.forEach(n=>n.select()),i.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Gi(null),xt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),n=this.ngControl;if(i!==this._triggerAriaLabelledBy){let a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?a.setAttribute("aria-labelledby",i):a.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let n=`${this.id}-panel`;this._trackedModal&&Sd(this._trackedModal,"aria-owns",n),Dp(i,"aria-owns",n),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;Sd(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let n=i.keyCode,a=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!vi(i)||(this.multiple||i.altKey)&&a)i.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(i);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(i){let n=this._keyManager,a=i.keyCode,o=a===40||a===38,s=n.isTyping();if(o&&i.altKey)i.preventDefault(),this.close();else if(!s&&(a===13||a===32)&&n.activeItem&&!vi(i))i.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&a===65&&i.ctrlKey){i.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(i),this._multiple&&o&&i.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(or(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(i);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let n=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return a.value!=null&&this._compareWith(a.value,i)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof Mo?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new El(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=$i(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(xt(i)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$i(...this.options.map(n=>n._stateChanges)).pipe(xt(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,n){let a=this._selectionModel.isSelected(i);i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(a!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),n&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),n&&this.focus())),a!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((n,a)=>this.sortComparator?this.sortComparator(n,a,i):i.indexOf(n)-i.indexOf(a)),this.stateChanges.next()}}_propagateChanges(i){let n;this.multiple?n=this.selected.map(a=>a.value):n=this.selected?this.selected.value:i,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){i=n;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),n=i?i+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),n=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(n){return new(n||e)(B(Io),B(si),B(Oe),B(Ol),B(Fe),B(Di,8),B(wo,8),B(Eo,8),B(jo,8),B(zi,10),Zr("tabindex"),B(mv),B(Il),B(Nk,8))},e.\u0275cmp=je({type:e,selectors:[["mat-select"]],contentQueries:function(n,a,o){if(n&1&&(Yi(o,Vk,5),Yi(o,wa,5),Yi(o,Fl,5)),n&2){let s;He(s=Ue())&&(a.customTrigger=s.first),He(s=Ue())&&(a.options=s),He(s=Ue())&&(a.optionGroups=s)}},viewQuery:function(n,a){if(n&1&&(ct(Dk,5),ct(Sk,5),ct(bd,5)),n&2){let o;He(o=Ue())&&(a.trigger=o.first),He(o=Ue())&&(a.panel=o.first),He(o=Ue())&&(a._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,a){n&1&&Pe("keydown",function(s){return a._handleKeydown(s)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),n&2&&(ht("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),We("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Qe],disableRipple:[2,"disableRipple","disableRipple",Qe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:Fn(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Qe],placeholder:"placeholder",required:[2,"required","required",Qe],multiple:[2,"multiple","multiple",Qe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Qe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Fn],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[At([{provide:zo,useExisting:e},{provide:Rl,useExisting:e}]),Yt,ni,qe],ngContentSelectors:Ak,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,a){if(n&1){let o=yi();oi(Ik),ae(0,"div",2,0),Pe("click",function(){return St(o),It(a.open())}),ae(3,"div",3),ze(4,Mk,2,1,"span",4)(5,Rk,3,1,"span",5),re(),ae(6,"div",6)(7,"div",7),Zo(),ae(8,"svg",8),Xe(9,"path",9),re()()()(),ze(10,Fk,3,9,"ng-template",10),Pe("backdropClick",function(){return St(o),It(a.close())})("attach",function(){return St(o),It(a._onAttached())})("detach",function(){return St(o),It(a.close())})}if(n&2){let o=Qr(1);ve(3),ht("id",a._valueId),ve(),yt(a.empty?4:5),ve(6),Be("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",a.panelOpen)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[Mo,bd,ku],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Pk.transformPanel]},changeDetection:0});let t=e;return t})();var Aa=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[Bk],imports:[xi,qr,jd,rt,gl,Hi,jd,rt]});let t=e;return t})();function zk(t,e){if(t&1){let r=yi();ae(0,"div",1)(1,"button",2),Pe("click",function(){St(r);let n=st();return It(n.action())}),Se(2),re()()}if(t&2){let r=st();ve(2),Cr(" ",r.data.action," ")}}var jk=["label"];function Hk(t,e){}var Uk=Math.pow(2,31)-1,Ho=class{constructor(e,r){this._overlayRef=r,this._afterDismissed=new be,this._afterOpened=new be,this._onAction=new be,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Uk))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},vv=new De("MatSnackBarData"),Ma=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Wk=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let t=e;return t})(),qk=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let t=e;return t})(),$k=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Re({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let t=e;return t})(),gv=(()=>{let e=class e{constructor(i,n){this.snackBarRef=i,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};e.\u0275fac=function(n){return new(n||e)(B(Ho),B(vv))},e.\u0275cmp=je({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[qe],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,a){n&1&&(ae(0,"div",0),Se(1),re(),ze(2,zk,3,1,"div",1)),n&2&&(ve(),Cr(" ",a.data.message,`
`),ve(),yt(a.hasAction?2:-1))},dependencies:[Gr,Wk,qk,$k],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let t=e;return t})(),Gk={snackBarState:Jr("state",[en("void, hidden",Fi({transform:"scale(0.8)",opacity:0})),en("visible",Fi({transform:"scale(1)",opacity:1})),lr("* => visible",Er("150ms cubic-bezier(0, 0, 0.2, 1)")),lr("* => void, * => hidden",Er("75ms cubic-bezier(0.4, 0.0, 1, 1)",Fi({opacity:0})))])},Yk=0,Kk=(()=>{let e=class e extends Hr{constructor(i,n,a,o,s){super(),this._ngZone=i,this._elementRef=n,this._changeDetectorRef=a,this._platform=o,this.snackBarConfig=s,this._document=Ve(Je),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new be,this._onExit=new be,this._onEnter=new be,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${Yk++}`,this.attachDomPortal=l=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),c},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),n}attachTemplatePortal(i){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),n}onAnimationEnd(i){let{fromState:n,toState:a}=i;if((a==="void"&&n!=="void"||a==="hidden")&&this._completeExit(),a==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let i=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>i.classList.add(s)):i.classList.add(n)),this._exposeToModals();let a=this._label.nativeElement,o="mdc-snackbar__label";a.classList.toggle(o,!a.querySelector(`.${o}`))}_exposeToModals(){let i=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<n.length;a++){let o=n[a],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(i)===-1&&o.setAttribute("aria-owns",s+" "+i):o.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{let n=i.getAttribute("aria-owns");if(n){let a=n.replace(this._liveElementId,"").trim();a.length>0?i.setAttribute("aria-owns",a):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&n){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(a=document.activeElement),i.removeAttribute("aria-hidden"),n.appendChild(i),a?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};e.\u0275fac=function(n){return new(n||e)(B(Oe),B(Fe),B(si),B(it),B(Ma))},e.\u0275cmp=je({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,a){if(n&1&&(ct(Ur,7),ct(jk,7)),n&2){let o;He(o=Ue())&&(a._portalOutlet=o.first),He(o=Ue())&&(a._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,a){n&1&&gu("@state.done",function(s){return a.onAnimationEnd(s)}),n&2&&vu("@state",a._animationState)},standalone:!0,features:[Ct,qe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,a){n&1&&(ae(0,"div",1)(1,"div",2,0)(3,"div",3),ze(4,Hk,0,0,"ng-template",4),re(),Xe(5,"div"),re()()),n&2&&(ve(5),ht("aria-live",a._live)("role",a._role)("id",a._liveElementId))},dependencies:[Ur],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Gk.snackBarState]}});let t=e;return t})();function Zk(){return new Ma}var Xk=new De("mat-snack-bar-default-options",{providedIn:"root",factory:Zk}),$d=(()=>{let e=class e{get _openedSnackBarRef(){let i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(i,n,a,o,s,l){this._overlay=i,this._live=n,this._injector=a,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=gv,this.snackBarContainerComponent=Kk,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(i,n){return this._attach(i,n)}openFromTemplate(i,n){return this._attach(i,n)}open(i,n="",a){let o=Ae(Ae({},this._defaultConfig),a);return o.data={message:i,action:n},o.announcementMessage===i&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,n){let a=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=wt.create({parent:a||this._injector,providers:[{provide:Ma,useValue:n}]}),s=new vr(this.snackBarContainerComponent,n.viewContainerRef,o),l=i.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(i,n){let a=Ae(Ae(Ae({},new Ma),this._defaultConfig),n),o=this._createOverlay(a),s=this._attachSnackBarContainer(o,a),l=new Ho(s,o);if(i instanceof wr){let c=new gr(i,null,{$implicit:a.data,snackBarRef:l});l.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(a,l),d=new vr(i,void 0,c),u=s.attachComponentPortal(d);l.instance=u.instance}return this._breakpointObserver.observe(xp.HandsetPortrait).pipe(xt(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),a.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(l,a),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(i,n){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),n.duration&&n.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(n.duration))}_createOverlay(i){let n=new Wr;n.direction=i.direction;let a=this._overlay.position().global(),o=i.direction==="rtl",s=i.horizontalPosition==="left"||i.horizontalPosition==="start"&&!o||i.horizontalPosition==="end"&&o,l=!s&&i.horizontalPosition!=="center";return s?a.left("0"):l?a.right("0"):a.centerHorizontally(),i.verticalPosition==="top"?a.top("0"):a.bottom("0"),n.positionStrategy=a,this._overlay.create(n)}_createInjector(i,n){let a=i&&i.viewContainerRef&&i.viewContainerRef.injector;return wt.create({parent:a||this._injector,providers:[{provide:Ho,useValue:n},{provide:vv,useValue:i.data}]})}};e.\u0275fac=function(n){return new(n||e)(ie(qt),ie(Il),ie(wt),ie(xl),ie(e,12),ie(Xk))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({providers:[$d],imports:[qr,br,Ii,rt,gv,rt]});let t=e;return t})();var yv=(()=>{let e=class e{constructor(){this.editNode=new Ze}onEditNode(){this.editNode.emit()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=je({type:e,selectors:[["app-context-menu"]],outputs:{editNode:"editNode"},decls:3,vars:0,consts:[[1,"context-menu"],[3,"click"]],template:function(n,a){n&1&&(ae(0,"div",0)(1,"button",1),Pe("click",function(){return a.onEditNode()}),Se(2,"Edit Node"),re()())},styles:[".context-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;background:#fff;border:1px solid #ccc;box-shadow:0 2px 10px #0003}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:8px;border:none;background:none;text-align:left}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f0f0f0}"]});let t=e;return t})();function Jk(t,e){if(t&1&&(ae(0,"mat-option",12),Se(1),re()),t&2){let r=e.$implicit;Be("value",r),ve(),Cr(" ",r," ")}}function eD(t,e){if(t&1&&(ae(0,"mat-optgroup",10),ze(1,Jk,2,2,"mat-option",11),re()),t&2){let r=e.$implicit;Be("label",r.name),ve(),Be("ngForOf",r.arguments)}}function tD(t,e){t&1&&(ae(0,"mat-error"),Se(1,"You must select an argument type"),re())}function iD(t,e){t&1&&(ae(0,"mat-error"),Se(1,"You must provide a description"),re())}var Uo=class{isErrorState(e){return!!(e&&e.invalid&&(e.dirty||e.touched))}},Gd=(()=>{let e=class e{constructor(i,n){this.dialogRef=i,this.data=n,this.argumentGroups=[{name:"Deductive Arguments",arguments:["Categorical Syllogism","Disjunctive Syllogism","Hypothetical Syllogism","Modus Ponens","Modus Tollens"]},{name:"Inductive Arguments",arguments:["Inductive Generalization","Statistical Syllogism","Argument from Analogy","Causal Inference","Prediction"]},{name:"Presumptive Arguments",arguments:["Argument from Authority","Argument from Ignorance (Ad Ignorantiam)","Presumptive Defeasible Generalization"]},{name:"Fallacious Arguments",arguments:["Ad Hominem","Straw Man","False Dichotomy (False Dilemma)","Begging the Question","Slippery Slope"]},{name:"Other Speech Acts",arguments:["Argument from Sign","Existential Statement","Argument by Example","Argument from Consequences","Argument from Silence","Rhetorical Question","Similarity","Counter example","Assertion","Question","Directive","Counter-Example","Rebuttal","Existential Statement","Threat"]},{name:"Specialized Argument Types",arguments:["Tu Quoque (You Too)","Appeal to Tradition","Appeal to Novelty","Appeal to Popularity (Ad Populum)","Gambler's Fallacy"]},{name:"Other Argument Types",arguments:["Appeal to Expert Opinion","Position to Know"]}],this.matcher=new Uo,this.titleControl=new yn("",[Vi.required]),this.descriptionControl=new yn("",[Vi.required]),console.log(this.argumentGroups)}onCancel(){this.dialogRef.close()}onSave(){this.titleControl.valid&&this.descriptionControl.valid&&this.dialogRef.close(this.data)}};e.\u0275fac=function(n){return new(n||e)(B(nr),B(Bo))},e.\u0275cmp=je({type:e,selectors:[["app-node-dialog"]],standalone:!0,features:[qe],decls:19,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"padding-bottom","0"],["appearance","fill",1,"wide-select"],[3,"ngModelChange","formControl","ngModel","errorStateMatcher"],[3,"label",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill"],["matInput","",3,"ngModelChange","formControl","ngModel"],["mat-dialog-actions","",1,"cancel-save"],["mat-button","",3,"click"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,a){n&1&&(ae(0,"h1",0),Se(1),re(),ae(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),Se(5,"Argument Type"),re(),ae(6,"mat-select",3),Rn("ngModelChange",function(s){return On(a.data.title,s)||(a.data.title=s),s}),ze(7,eD,2,2,"mat-optgroup",4),re(),ze(8,tD,2,0,"mat-error",5),re(),ae(9,"mat-form-field",6)(10,"mat-label"),Se(11,"Description"),re(),ae(12,"input",7),Rn("ngModelChange",function(s){return On(a.data.description,s)||(a.data.description=s),s}),re(),ze(13,iD,2,0,"mat-error",5),re()(),ae(14,"div",8)(15,"button",9),Pe("click",function(){return a.onCancel()}),Se(16,"Cancel"),re(),ae(17,"button",9),Pe("click",function(){return a.onSave()}),Se(18,"Save"),re()()),n&2&&(ve(),Ki(a.data.isEditMode?"Edit Node":"Add New Node"),ve(5),Be("formControl",a.titleControl),Tn("ngModel",a.data.title),Be("errorStateMatcher",a.matcher),ve(),Be("ngForOf",a.argumentGroups),ve(),Be("ngIf",a.titleControl.hasError("required")),ve(4),Be("formControl",a.descriptionControl),Tn("ngModel",a.data.description),ve(),Be("ngIf",a.descriptionControl.hasError("required")))},dependencies:[ha,sl,cl,Hi,Vl,Sa,Bl,Ia,hv,Ii,Gr,$r,Ea,Da,ka,Aa,zl,wa,jp,xi,es,ts,fa,Co],styles:[".cancel-save[_ngcontent-%COMP%]{margin-top:0}"]});let t=e;return t})();var rD=["input"],nD=["label"],aD=["*"],oD=new De("mat-checkbox-default-options",{providedIn:"root",factory:xv});function xv(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ei=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(ei||{}),sD={provide:xo,useExisting:xr(()=>jl),multi:!0},Yd=class{},lD=0,_v=xv(),jl=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let n=new Yd;return n.source=this,n.checked=i,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,n,a,o,s,l){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=a,this._animationMode=s,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ze,this.indeterminateChange=new Ze,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ei.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||_v,this.color=this._options.color||_v.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++lD}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let n=i!=this._indeterminate;this._indeterminate=i,n&&(this._indeterminate?this._transitionCheckState(ei.Indeterminate):this._transitionCheckState(this.checked?ei.Checked:ei.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let n=this._currentCheckState,a=this._getAnimationTargetElement();if(!(n===i||!a)&&(this._currentAnimationClass&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ei.Checked:ei.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,n){if(this._animationMode==="NoopAnimations")return"";switch(i){case ei.Init:if(n===ei.Checked)return this._animationClasses.uncheckedToChecked;if(n==ei.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ei.Unchecked:return n===ei.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ei.Checked:return n===ei.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ei.Indeterminate:return n===ei.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let n=this._inputElement;n&&(n.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};e.\u0275fac=function(n){return new(n||e)(B(Fe),B(si),B(Oe),Zr("tabindex"),B(ai,8),B(oD,8))},e.\u0275cmp=je({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,a){if(n&1&&(ct(rD,5),ct(nD,5),ct(Lo,5)),n&2){let o;He(o=Ue())&&(a._inputElement=o.first),He(o=Ue())&&(a._labelElement=o.first),He(o=Ue())&&(a.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,a){n&2&&(_i("id",a.id),ht("tabindex",null)("aria-label",null)("aria-labelledby",null),Pa(a.color?"mat-"+a.color:"mat-accent"),We("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mdc-checkbox--disabled",a.disabled)("mat-mdc-checkbox-disabled",a.disabled)("mat-mdc-checkbox-checked",a.checked)("mat-mdc-checkbox-disabled-interactive",a.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Qe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Qe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Fn(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe],checked:[2,"checked","checked",Qe],disabled:[2,"disabled","disabled",Qe],indeterminate:[2,"indeterminate","indeterminate",Qe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[At([sD,{provide:da,useExisting:e,multi:!0}]),Yt,ni,qe],ngContentSelectors:aD,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,a){if(n&1){let o=yi();oi(),ae(0,"div",3),Pe("click",function(l){return St(o),It(a._preventBubblingFromLabel(l))}),ae(1,"div",4,0)(3,"div",5),Pe("click",function(){return St(o),It(a._onTouchTargetClick())}),re(),ae(4,"input",6,1),Pe("blur",function(){return St(o),It(a._onBlur())})("click",function(){return St(o),It(a._onInputClick())})("change",function(l){return St(o),It(a._onInteractionEvent(l))}),re(),Xe(6,"div",7),ae(7,"div",8),Zo(),ae(8,"svg",9),Xe(9,"path",10),re(),du(),Xe(10,"div",11),re(),Xe(11,"div",12),re(),ae(12,"label",13,2),lt(14),re()()}if(n&2){let o=Qr(2);Be("labelPosition",a.labelPosition),ve(4),We("mdc-checkbox--selected",a.checked),Be("checked",a.checked)("indeterminate",a.indeterminate)("disabled",a.disabled&&!a.disabledInteractive)("id",a.inputId)("required",a.required)("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex),ht("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby)("aria-checked",a.indeterminate?"mixed":null)("aria-disabled",a.disabled&&a.disabledInteractive?!0:null)("name",a.name)("value",a.value),ve(7),Be("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),ve(),Be("for",a.inputId)}},dependencies:[Lo,qp],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var wv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[jl,rt,rt]});let t=e;return t})();function dD(t,e){if(t&1&&(ae(0,"mat-option",11),Se(1),re()),t&2){let r=e.$implicit;Be("value",r),ve(),Ki(r)}}function uD(t,e){t&1&&(ae(0,"mat-error"),Se(1,"You must select a relation type"),re())}function hD(t,e){if(t&1){let r=yi();ae(0,"mat-form-field",7)(1,"mat-label"),Se(2,"Relation Type"),re(),ae(3,"mat-select",8),Rn("ngModelChange",function(n){St(r);let a=st();return On(a.data.relationType,n)||(a.data.relationType=n),It(n)}),ze(4,dD,2,2,"mat-option",9),re(),ze(5,uD,2,0,"mat-error",10),re()}if(t&2){let r=st();ve(3),Be("formControl",r.relationControl),Tn("ngModel",r.data.relationType),ve(),Be("ngForOf",r.relationTypes),ve(),Be("ngIf",r.relationControl.hasError("required")&&!r.data.directConnection)}}function fD(t,e){if(t&1){let r=yi();ae(0,"mat-checkbox",12),Rn("ngModelChange",function(n){St(r);let a=st();return On(a.data.directConnection,n)||(a.data.directConnection=n),It(n)}),Se(1,"Do not add a relation node"),re()}if(t&2){let r=st();Tn("ngModel",r.data.directConnection)}}var Kd=(()=>{let e=class e{constructor(i,n){this.dialogRef=i,this.data=n,this.relationTypes=["Supports","Contradicts","Leads to","Therefore","Because","Despite","Assumes","Relies on","Proves","Disproves","Highlights","Challenges","Explains","Illustrates","Clarifies","Justifies","Questions","Strengthens","Weakens","Restates","Infers","Concludes","Summarizes","Contrasts","Analogizes","Qualifies","Acknowledges","Counters","Extends","Refutes"],this.isEditMode=!1,this.isConnectionToRelationNode=!1,this.matcher=new Uo,this.relationControl=new yn("",[Vi.required]),this.isEditMode=n.isEditMode||!1,this.isConnectionToRelationNode=n.isConnectionToRelationNode||!1}onCancel(){this.dialogRef.close()}onSave(){this.isValid()&&this.dialogRef.close(this.data)}isValid(){return this.data.directConnection||this.relationControl.valid}};e.\u0275fac=function(n){return new(n||e)(B(nr),B(Bo))},e.\u0275cmp=je({type:e,selectors:[["app-relation-dialog"]],standalone:!0,features:[qe],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"padding-bottom","0"],["appearance","fill","class","wide-select",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["mat-dialog-actions","",1,"cancel-save"],["mat-button","",3,"click"],["mat-button","",3,"click","disabled"],["appearance","fill",1,"wide-select"],[3,"ngModelChange","formControl","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"ngModelChange","ngModel"]],template:function(n,a){n&1&&(ae(0,"h1",0),Se(1),re(),ae(2,"div",1),ze(3,hD,6,4,"mat-form-field",2)(4,fD,2,1,"mat-checkbox",3),re(),ae(5,"div",4)(6,"button",5),Pe("click",function(){return a.onCancel()}),Se(7,"Cancel"),re(),ae(8,"button",6),Pe("click",function(){return a.onSave()}),Se(9,"Save"),re()()),n&2&&(ve(),Ki(a.data.isEditMode?"Select New Relation Type":"Select Relation Type"),ve(2),Be("ngIf",!a.data.isConnectionToRelationNode),ve(),Be("ngIf",!a.data.isEditMode),ve(4),Be("disabled",!a.isValid()))},dependencies:[ha,cl,id,fa,Co,Hi,Vl,Sa,Bl,Ia,Ii,Gr,$r,Ea,Da,ka,Aa,zl,wa,wv,jl,xi,es,ts],styles:[".cancel-save[_ngcontent-%COMP%]{margin-top:0}"]});let t=e;return t})();var Ev=Hv(Cv());var mD=["contextMenuContainer"];(0,Ev.default)(fr);var Zd=(()=>{let e=class e{constructor(i,n,a,o){this.platformId=i,this.dialog=n,this.snackBar=a,this.renderer=o,this.elements=[],this.newNodeTitle="",this.showModal=!1,this.nodeCounter=0,this.edgeCounter=0,this.selectedNode=null,this.connectionToRelationNode=!1,this.contextMenuRef=null}ngOnInit(){Pn(this.platformId)&&(this.initializeCytoscape(),this.setupEventListeners())}initializeCytoscape(){this.cy=fr({container:document.getElementById("cy"),elements:this.elements,style:this.getCytoscapeStyles(),layout:{name:"preset"},userZoomingEnabled:!0,userPanningEnabled:!0,autoungrabify:!1})}getCytoscapeStyles(){return[{selector:'node[nodeType="relation"]',style:{shape:"diamond","background-color":"#f6ad4b","border-color":"#a9531f","border-width":"2px","font-size":"12px","text-valign":"center","text-halign":"center",width:"90px",height:"40px","text-max-width":"100px",content:"data(title)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","mid-target-arrow-color":"#ccc","mid-target-arrow-shape":"triangle","curve-style":"bezier","control-point-step-size":75}}]}setupEventListeners(){this.cy&&(this.cy.on("dblclick","node",i=>this.onNodeDoubleClick(i.target)),this.cy.on("cxttap","node",i=>this.showContextMenu(i.target,i.originalEvent)),this.cy.on("tap",i=>this.onBackgroundClick(i)),this.renderer.listen("document","contextmenu",i=>{i.preventDefault()}))}onBackgroundClick(i){i.target===this.cy&&(this.hideContextMenu(),this.selectedNode=null)}showContextMenu(i,n){this.hideContextMenu();let a=this.contextMenuContainer.createComponent(yv);a.instance.editNode.subscribe(()=>{this.hideContextMenu(),this.editNode(i)});let o=a.hostView.rootNodes[0];o.style.position="fixed";let s=this.cy.container().getBoundingClientRect(),l=this.cy.pan(),c=this.cy.zoom(),d=i.position(),u={x:d.x*c+l.x,y:d.y*c+l.y},h=s.left+u.x,m=s.top+u.y;o.style.left=`${h}px`,o.style.top=`${m}px`,o.style.zIndex="1000",this.contextMenuRef=a}hideContextMenu(){this.contextMenuRef&&(this.contextMenuRef.destroy(),this.contextMenuRef=null)}editNode(i){let n=i.data("nodeType")==="relation",a;n?a=this.dialog.open(Kd,{width:"300px",data:{title:i.data("title"),isEditMode:!0}}):a=this.dialog.open(Gd,{width:"300px",data:{title:i.data("title"),description:i.data("description"),isEditMode:!0}}),a.afterClosed().subscribe(o=>{o&&(n?i.data("title",o.relationType):(i.data("title",o.title),i.data("description",o.description)))})}onAddNode(i){this.dialog.open(Gd,{width:"300px",data:{title:this.newNodeTitle,description:i||"Default"}}).afterClosed().subscribe(a=>{a&&this.createNewNode(a)})}createNewNode(i){let n={data:{id:`${this.nodeCounter}`,title:i.title,description:i.description,nodeType:"node"},position:{x:100,y:100}};this.nodeCounter++,this.elements.push(n);let a=this.cy?.add(n);this.addHtmlLabelToNode(n.data.id),this.makeNodeGrabbable(a)}addHtmlLabelToNode(i){this.cy?.nodeHtmlLabel([{query:`node[id="${i}"]`,halign:"center",valign:"center",halignBox:"center",valignBox:"center",cssClass:"cy-title",tpl:n=>`
          <div style="border: 1px solid #000; border-radius: 5px; padding: 10px; background-color: #fff; cursor: pointer;">
            <div style="font-weight: bold; text-align: center;">${n.title}</div>
            <hr style="margin: 5px 0;">
            <div style="text-align: left;">${n.description}</div>
          </div>`}])}makeNodeGrabbable(i){i?.forEach(n=>{n.grabify(),n.on("grab",()=>{n.grabify()})})}onNodeDoubleClick(i){if(!this.isInvalidConnectionStart(i)){if(!this.selectedNode){this.selectedNode=i;return}if(this.areNodesConnected(this.selectedNode,i)){this.snackBar.open("This connection already exists","Close",{duration:3e3}),this.selectedNode=null;return}this.createConnection(i)}}isInvalidConnectionStart(i){if(i.data("nodeType")==="relation"){if(!this.selectedNode)return this.snackBar.open("Connections cannot start from a relation node","Close",{duration:3e3}),!0;this.connectionToRelationNode=!0}return!1}areNodesConnected(i,n){let a=this.getConnectedFinalDestinations(i);return this.checkExistingConnection(a,n)}getConnectedFinalDestinations(i){let n=new Set,a=i.id();return this.cy?.$(`#${a}`).outgoers("edge")?.forEach(s=>{let l=s.target();l.data("nodeType")==="relation"?l.outgoers("edge").forEach(c=>{n.add(c.target().id())}):n.add(l.id())}),n}checkExistingConnection(i,n){if(i.has(n.id()))return!0;if(n.data("nodeType")==="relation"){let a=n.outgoers("edge");for(let o of a)if(i.has(o.target().id()))return!0}return!1}createConnection(i){this.dialog.open(Kd,{width:"300px",data:{relationType:"",directConnection:this.connectionToRelationNode,isEditMode:!1,isConnectionToRelationNode:this.connectionToRelationNode}}).afterClosed().subscribe(a=>{a&&(this.addConnection(a,i),this.connectionToRelationNode=!1),this.selectedNode=null})}addConnection(i,n){i.directConnection?this.cy?.add({group:"edges",data:{id:`e${this.edgeCounter}`,source:this.selectedNode.id(),target:n.id(),label:i.relationType}}):this.addRelationNodeConnection(i,n),this.edgeCounter++}addRelationNodeConnection(i,n){let a=this.calculateMidpoint(this.selectedNode.position(),n.position()),o={data:{id:`r${this.edgeCounter}`,title:i.relationType,description:"",nodeType:"relation","background-color":"#f0cd7e"},position:{x:a.x,y:a.y}};this.cy?.add(o),this.cy?.add([{group:"edges",data:{id:`e${this.edgeCounter}-1`,source:this.selectedNode.id(),target:`r${this.edgeCounter}`,label:i.relationType}},{group:"edges",data:{id:`e${this.edgeCounter}-2`,source:`r${this.edgeCounter}`,target:n.id(),label:i.relationType}}])}calculateMidpoint(i,n){let a,o;return i.x===n.x?(a=i.x+150,o=i.y):(a=(i.x+n.x)/2,o=(i.y+n.y)/2),{x:a,y:o}}clear(){this.cy?.elements().remove(),this.snackBar.open("The board has been cleared","Close",{duration:3e3})}saveNode(){this.showModal=!1}cancelNode(){this.showModal=!1}};e.\u0275fac=function(n){return new(n||e)(B(In),B(Ca),B($d),B(Fa))},e.\u0275cmp=je({type:e,selectors:[["app-board"]],viewQuery:function(n,a){if(n&1&&ct(mD,5,Xr),n&2){let o;He(o=Ue())&&(a.contextMenuContainer=o.first)}},standalone:!0,features:[qe],decls:3,vars:0,consts:[["contextMenuContainer",""],["id","cy"]],template:function(n,a){n&1&&Xe(0,"div",1)(1,"div",null,0)},dependencies:[xi,ha,Ia,Ii,Hi,$r,Aa,fa,bv],styles:["#workingarea[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:row}#cy[_ngcontent-%COMP%]{background-color:#d1f4f7;width:1000px;height:600px;outline-style:double;justify-content:flex-end}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;padding-top:60px}.modal.show[_ngcontent-%COMP%]{display:block}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto;padding:20px;border:1px solid #888;width:80%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.cy-title[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:700;padding:2px}.node-html-label[_ngcontent-%COMP%]{display:inline-block;padding:10px;background-color:#fff;border:1px solid #000;border-radius:5px;max-width:200px;word-wrap:break-word}"]});let t=e;return t})();var kv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,rt]});let t=e;return t})();var Dv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=Me({imports:[rt,rt]});let t=e;return t})();var Sv=(()=>{let e=class e{constructor(i){this.dialogRef=i}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};e.\u0275fac=function(n){return new(n||e)(B(nr))},e.\u0275cmp=je({type:e,selectors:[["app-reset-dialog"]],standalone:!0,features:[qe],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(n,a){n&1&&(ae(0,"h1",0),Se(1,"Confirm Reset"),re(),ae(2,"div",1)(3,"p"),Se(4,"Are you sure you want to reset the board? This action cannot be undone."),re()(),ae(5,"div",2)(6,"button",3),Pe("click",function(){return a.onCancel()}),Se(7,"Cancel"),re(),ae(8,"button",3),Pe("click",function(){return a.onConfirm()}),Se(9,"Yes"),re()())},dependencies:[$r,Ea,Da,ka,Ii,Gr,xi],styles:["p[_ngcontent-%COMP%]{text-align:center;padding-top:1rem}"]});let t=e;return t})();var Iv=(()=>{let e=class e{constructor(i,n){this.platformId=i,this.dialog=n,this.title="Jawbone",this.isLeftCollapsed=!1,this.isRightCollapsed=!0,this.newNodeDescription="",this.initializeSelectionListener()}initializeSelectionListener(){Pn(this.platformId)&&document.addEventListener("selectionchange",()=>{this.newNodeDescription=window.getSelection().toString()})}addNode(){this.boardComponent?.onAddNode(this.newNodeDescription)}toggleLeftSidebar(){this.isLeftCollapsed=!this.isLeftCollapsed}toggleRightSidebar(){this.isRightCollapsed=!this.isRightCollapsed}reset(){this.dialog.open(Sv,{autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.clearBoard()})}clearBoard(){this.boardComponent.clear()}upload(){console.log("Upload clicked")}loadDemo(){console.log("Load demo clicked")}exportPng(){console.log("Export PNG clicked")}exportJson(){console.log("Export JSON clicked")}};e.\u0275fac=function(n){return new(n||e)(B(In),B(Ca))},e.\u0275cmp=je({type:e,selectors:[["app-root"]],viewQuery:function(n,a){if(n&1&&ct(Zd,5),n&2){let o;He(o=Ue())&&(a.boardComponent=o.first)}},standalone:!0,features:[qe],decls:36,vars:4,consts:[[1,"main-container"],[1,"sidebar","left"],[1,"load-dialogue",3,"click"],[1,"add-node",3,"click"],[1,"text-block-title"],["type","text","placeholder","Enter text here",1,"text-block"],[1,"content"],[1,"title-container"],[1,"toggle-button","left",3,"click"],[1,"main-title"],[1,"toggle-button","right",3,"click"],["src","../assets/images/jawbone_logo.png"],[1,"sidebar","right"],[1,"reset",3,"click"],[1,"load-demo",3,"click"],[1,"export-png",3,"click"],[1,"export-json",3,"click"]],template:function(n,a){n&1&&(ae(0,"div",0)(1,"div",1)(2,"h1"),Se(3,"Jawbone"),re(),ae(4,"button",2),Pe("click",function(){return a.upload()}),Se(5,"\u{1F4CE} Load dialogue file"),re(),ae(6,"button",3),Pe("click",function(){return a.addNode()}),Se(7,"+ Add Node"),re(),ae(8,"p",4),Se(9,"Content:"),re(),Xe(10,"textarea",5),re(),ae(11,"div",6)(12,"div",7)(13,"button",8),Pe("click",function(){return a.toggleLeftSidebar()}),Se(14,"\u2630 Resource Pane"),re(),ae(15,"h1",9),Se(16,"Jawbone"),re(),ae(17,"button",10),Pe("click",function(){return a.toggleRightSidebar()}),Se(18,"Diagram Pane \u2630"),re(),Xe(19,"img",11),re(),Xe(20,"app-board"),re(),ae(21,"div",12)(22,"h1"),Se(23,"Jawbone"),re(),ae(24,"button",13),Pe("click",function(){return a.reset()}),Se(25,"Reset"),re(),Xe(26,"br"),ae(27,"button",14),Pe("click",function(){return a.loadDemo()}),Se(28,"Load demo"),re(),ae(29,"p"),Se(30,"Export:"),re(),ae(31,"button",15),Pe("click",function(){return a.exportPng()}),Se(32,"PNG"),re(),Xe(33,"br"),ae(34,"button",16),Pe("click",function(){return a.exportJson()}),Se(35,"JSON"),re()()()),n&2&&(ve(),We("collapsed",a.isLeftCollapsed),ve(20),We("collapsed",a.isRightCollapsed))},dependencies:[Zd,Ii,Dv,kv],styles:[".main-container[_ngcontent-%COMP%]{display:flex;height:100vh}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#eabe6c;padding:20px;transition:width .3s ease;border-radius:15px;overflow:auto}.left[_ngcontent-%COMP%]{border-radius:0 15px 15px 0}.right[_ngcontent-%COMP%]{border-radius:15px 0 0 15px;order:2}.collapsed[_ngcontent-%COMP%]{width:0;padding:20px 0}.main-title[_ngcontent-%COMP%]{font-size:40px}.content[_ngcontent-%COMP%]{flex-grow:1;background-color:#ffedd8;padding:20px;overflow:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;width:100%}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-bottom:10px}.toggle-button[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%], .load-dialogue[_ngcontent-%COMP%], .load-demo[_ngcontent-%COMP%], .export-png[_ngcontent-%COMP%], .export-json[_ngcontent-%COMP%], .add-node[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px;font-weight:700;cursor:pointer;outline:none;margin-bottom:15px;box-shadow:0 4px 6px #0000001a;transition:transform .2s,box-shadow .2s}.toggle-button[_ngcontent-%COMP%]:hover, .reset[_ngcontent-%COMP%]:hover, .load-dialogue[_ngcontent-%COMP%]:hover, .load-demo[_ngcontent-%COMP%]:hover, .export-png[_ngcontent-%COMP%]:hover, .export-json[_ngcontent-%COMP%]:hover, .add-node[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 10px #00000026}.left.toggle-button[_ngcontent-%COMP%], .right.toggle-button[_ngcontent-%COMP%]{background-color:#240a34;position:absolute}.left.toggle-button[_ngcontent-%COMP%]{left:20px}.right.toggle-button[_ngcontent-%COMP%]{right:20px}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;position:absolute;top:0}.text-block-title[_ngcontent-%COMP%]{margin-top:3rem;font-size:18px;font-weight:700;margin-bottom:.5rem;color:#333}.text-block[_ngcontent-%COMP%]{width:95%;min-height:15rem;resize:vertical;border:1px solid #ccc;border-radius:5px}.load-dialogue[_ngcontent-%COMP%], .load-demo[_ngcontent-%COMP%], .export-json[_ngcontent-%COMP%], .export-png[_ngcontent-%COMP%], .add-node[_ngcontent-%COMP%]{background-color:#891652;color:#fff}.reset[_ngcontent-%COMP%]{background-color:#ff0000c4;color:#fff}.toggle-button[_ngcontent-%COMP%]{background-color:#240a34;color:#fff}"]});let t=e;return t})();var Av=[];var Mv={providers:[Ou(Av),Iu()]};var pD={providers:[Tu()]},Tv=Eu(Mv,pD);var vD=()=>Su(Iv,Tv),ZO=vD;export{ZO as a};
