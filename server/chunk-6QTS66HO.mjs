import './polyfills.server.mjs';
import{$ as N,A as es,Aa as wi,Ab as Lu,B as Ji,Ba as Cu,Bb as Nu,C as Le,Ca as Fe,D as Te,Da as Eu,E as Se,Ea as Ke,Eb as Bu,F as ne,Fa as Wt,G as je,Ga as dt,H as Ge,Ha as Ci,I as Me,Ia as st,J as Ne,Ja as He,K as vu,Ka as Ue,Kb as Vu,L as li,La as ku,M as qe,Ma as Du,N as We,Na as hr,O as ts,Oa as ye,P as gu,Pa as pi,Q as an,Qa as Tr,R as ur,Ra as Pi,S as xt,Sa as Li,T as Xe,Ta as Ni,U as Oe,Ua as Dt,V as Re,Va as Ze,W as ec,Wa as Su,X as Vn,Y as qt,Ya as Iu,Z as bu,Za as Au,_ as le,a as xi,aa as yu,b as Sr,ba as Ir,bb as Vt,c as be,ca as is,d as lu,da as ja,db as ze,e as cu,ea as on,eb as fr,f as du,fa as tc,fb as mr,g as nn,ga as zn,gb as Bi,h as Zi,ha as _u,hb as Tu,i as uu,ia as kt,ib as Mu,j as hu,ja as xu,jb as ic,k as Bn,ka as Rt,kb as rt,l as fu,la as Ve,m as Zo,ma as rs,mb as os,n as Xi,na as Ar,nb as Ou,o as Jt,oa as ct,ob as ss,p as Ql,pa as Ce,pb as ls,q as Xo,qa as $e,qb as Ru,r as dr,ra as Ha,rb as hi,s as za,sa as wu,sb as jn,t as Jl,ta as wt,tb as Fu,u as Qo,ua as ie,ub as Pu,v as Qi,va as X,vb as sn,w as Jo,wa as Ye,wb as Mr,x as Et,xa as ns,xb as Vi,y as mu,ya as as,yb as ln,z as pu,za as Tt,zb as pr}from"./chunk-Y6R6RS47.mjs";import{a as Ae,b as Ut,e as Xv,g as Qv}from"./chunk-5XUXGTUW.mjs";var Rv=Xv((qO,Kl)=>{"use strict";(function(){"use strict";var i=function(a,o){if(typeof o!="function")throw new TypeError("predicate must be a function");for(var s=a.length>>>0,l=arguments[1],c,d=0;d<s;d++)if(c=a[d],o.call(l,c,d,a))return c},e=function(){function a(o,s){var l=o.node,c=o.position,d=c===void 0?null:c,u=o.data,h=u===void 0?null:u;this.updateParams(s),this._node=l,this.initStyles(s.cssClass),h&&this.updateData(h),d&&this.updatePosition(d)}return a.prototype.updateParams=function(o){var s=o.tpl,l=s===void 0?function(){return""}:s,c=o.cssClass,d=c===void 0?null:c,u=o.halign,h=u===void 0?"center":u,m=o.valign,f=m===void 0?"center":m,g=o.halignBox,v=g===void 0?"center":g,p=o.valignBox,y=p===void 0?"center":p,b={top:-.5,left:-.5,center:0,right:.5,bottom:.5};this._align=[b[h],b[f],100*(b[v]-.5),100*(b[y]-.5)],this.tpl=l},a.prototype.updateData=function(o){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);for(var s=new DOMParser().parseFromString(this.tpl(o),"text/html").body.children,l=0;l<s.length;++l){var c=s[l];this._node.appendChild(c)}},a.prototype.getNode=function(){return this._node},a.prototype.updatePosition=function(o){this._renderPosition(o)},a.prototype.initStyles=function(o){var s=this._node.style;s.position="absolute",o&&o.length&&this._node.classList.add(o)},a.prototype._renderPosition=function(o){var s=this._position,l=o.x+this._align[0]*o.w,c=o.y+this._align[1]*o.h;if(!s||s[0]!==l||s[1]!==c){this._position=[l,c];var d="translate("+this._align[2]+"%,"+this._align[3]+"%) ",u="translate("+l.toFixed(2)+"px,"+c.toFixed(2)+"px) ",h=d+u,m=this._node.style;m.webkitTransform=h,m.msTransform=h,m.transform=h}},a}(),r=function(){function a(o){this._node=o,this._elements={}}return a.prototype.addOrUpdateElem=function(o,s,l){l===void 0&&(l={});var c=this._elements[o];if(c)c.updateParams(s),c.updateData(l.data),c.updatePosition(l.position);else{var d=document.createElement("div");this._node.appendChild(d),this._elements[o]=new e({node:d,data:l.data,position:l.position},s)}},a.prototype.removeElemById=function(o){this._elements[o]&&(this._node.removeChild(this._elements[o].getNode()),delete this._elements[o])},a.prototype.updateElemPosition=function(o,s){var l=this._elements[o];l&&l.updatePosition(s)},a.prototype.updatePanZoom=function(o){var s=o.pan,l=o.zoom,c="translate("+s.x+"px,"+s.y+"px) scale("+l+")",d=this._node.style,u="top left";d.webkitTransform=c,d.msTransform=c,d.transform=c,d.webkitTransformOrigin=u,d.msTransformOrigin=u,d.transformOrigin=u},a}();function t(a,o,s){var l=!o||typeof o!="object"?[]:o,c=d();return a.one("render",function(b){u(b),p(b)}),a.on("add",h),a.on("layoutstop",m),a.on("remove",f),a.on("data",v),a.on("style",v),a.on("pan zoom",p),a.on("position bounds",g),a;function d(){var b=a.container(),_=document.createElement("div"),C=b.querySelector("canvas"),w=b.querySelector("[class^='cy-node-html']");w&&C.parentNode.removeChild(w);var x=_.style;return x.position="absolute",x["z-index"]=10,x.width="500px",x.margin="0px",x.padding="0px",x.border="0px",x.outline="0px",x.outline="0px",s&&s.enablePointerEvents!==!0&&(x["pointer-events"]="none"),C.parentNode.appendChild(_),new r(_)}function u(b){var _=b.cy;l.forEach(function(C){_.elements(C.query).forEach(function(w){w.isNode()&&c.addOrUpdateElem(w.id(),C,{position:y(w),data:w.data()})})})}function h(b){var _=b.target,C=i(l.slice().reverse(),function(w){return _.is(w.query)});C&&c.addOrUpdateElem(_.id(),C,{position:y(_),data:_.data()})}function m(b){var _=b.cy;l.forEach(function(C){_.elements(C.query).forEach(function(w){w.isNode()&&c.updateElemPosition(w.id(),y(w))})})}function f(b){c.removeElemById(b.target.id())}function g(b){c.updateElemPosition(b.target.id(),y(b.target))}function v(b){setTimeout(function(){var _=b.target,C=i(l.slice().reverse(),function(w){return _.is(w.query)});C&&!_.removed()?c.addOrUpdateElem(_.id(),C,{position:y(_),data:_.data()}):c.removeElemById(_.id())},0)}function p(b){var _=b.cy;c.updatePanZoom({pan:_.pan(),zoom:_.zoom()})}function y(b){return{w:b.width(),h:b.height(),x:b.position("x"),y:b.position("y")}}}var n=function(a){a&&a("core","nodeHtmlLabel",function(o,s){return t(this,o,s)})};typeof Kl<"u"&&Kl.exports?Kl.exports=function(a){n(a)}:typeof define<"u"&&define.amd&&define("cytoscape-nodeHtmlLabel",function(){return n}),typeof cytoscape<"u"&&n(cytoscape)})()});function Lt(i){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(i)}function Oc(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(i,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function Rc(i,e,r){return e&&zu(i.prototype,e),r&&zu(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function ef(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function zi(i,e){return Jv(i)||eg(i,e)||tf(i,e)||tg()}function Jv(i){if(Array.isArray(i))return i}function eg(i,e){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var t=[],n=!0,a=!1,o,s;try{for(r=r.call(i);!(n=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));n=!0);}catch(l){a=!0,s=l}finally{try{!n&&r.return!=null&&r.return()}finally{if(a)throw s}}return t}}function tf(i,e){if(i){if(typeof i=="string")return ju(i,e);var r=Object.prototype.toString.call(i).slice(8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Array.from(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ju(i,e)}}function ju(i,e){(e==null||e>i.length)&&(e=i.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=i[r];return t}function tg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rf(i,e){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=tf(i))||e&&i&&typeof i.length=="number"){r&&(i=r);var t=0,n=function(){};return{s:n,n:function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}},e:function(l){throw l},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){r=r.call(i)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var Ft=typeof window>"u"?null:window,Hu=Ft?Ft.navigator:null;Ft&&Ft.document;var ig=Lt(""),nf=Lt({}),rg=Lt(function(){}),ng=typeof HTMLElement>"u"?"undefined":Lt(HTMLElement),fo=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},_e=function(e){return e!=null&&Lt(e)==ig},Ct=function(e){return e!=null&&Lt(e)===rg},vt=function(e){return!vi(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},tt=function(e){return e!=null&&Lt(e)===nf&&!vt(e)&&e.constructor===Object},ag=function(e){return e!=null&&Lt(e)===nf},ce=function(e){return e!=null&&Lt(e)===Lt(1)&&!isNaN(e)},og=function(e){return ce(e)&&Math.floor(e)===e},Ts=function(e){if(ng!=="undefined")return e!=null&&e instanceof HTMLElement},vi=function(e){return mo(e)||af(e)},mo=function(e){return fo(e)==="collection"&&e._private.single},af=function(e){return fo(e)==="collection"&&!e._private.single},Fc=function(e){return fo(e)==="core"},of=function(e){return fo(e)==="stylesheet"},sg=function(e){return fo(e)==="event"},Br=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},lg=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},cg=function(e){return tt(e)&&ce(e.x1)&&ce(e.x2)&&ce(e.y1)&&ce(e.y2)},dg=function(e){return ag(e)&&Ct(e.then)},ug=function(){return Hu&&Hu.userAgent.match(/msie|trident|edge/i)},to=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var t=function n(){var a=this,o=arguments,s,l=r.apply(a,o),c=n.cache;return(s=c[l])||(s=c[l]=e.apply(a,o)),s};return t.cache={},t},Pc=to(function(i){return i.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),js=to(function(i){return i.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),sf=to(function(i,e){return i+e[0].toUpperCase()+e.substring(1)},function(i,e){return i+"$"+e}),Uu=function(e){return Br(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Pt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",hg="rgb[a]?\\(("+Pt+"[%]?)\\s*,\\s*("+Pt+"[%]?)\\s*,\\s*("+Pt+"[%]?)(?:\\s*,\\s*("+Pt+"))?\\)",fg="rgb[a]?\\((?:"+Pt+"[%]?)\\s*,\\s*(?:"+Pt+"[%]?)\\s*,\\s*(?:"+Pt+"[%]?)(?:\\s*,\\s*(?:"+Pt+"))?\\)",mg="hsl[a]?\\(("+Pt+")\\s*,\\s*("+Pt+"[%])\\s*,\\s*("+Pt+"[%])(?:\\s*,\\s*("+Pt+"))?\\)",pg="hsl[a]?\\((?:"+Pt+")\\s*,\\s*(?:"+Pt+"[%])\\s*,\\s*(?:"+Pt+"[%])(?:\\s*,\\s*(?:"+Pt+"))?\\)",vg="\\#[0-9a-fA-F]{3}",gg="\\#[0-9a-fA-F]{6}",lf=function(e,r){return e<r?-1:e>r?1:0},bg=function(e,r){return-1*lf(e,r)},Ie=Object.assign!=null?Object.assign.bind(Object):function(i){for(var e=arguments,r=1;r<e.length;r++){var t=e[r];if(t!=null)for(var n=Object.keys(t),a=0;a<n.length;a++){var o=n[a];i[o]=t[o]}}return i},yg=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,t,n,a,o=16;return r?(t=parseInt(e[1]+e[1],o),n=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(t=parseInt(e[1]+e[2],o),n=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[t,n,a]}},_g=function(e){var r,t,n,a,o,s,l,c;function d(f,g,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?f+(g-f)*6*v:v<1/2?g:v<2/3?f+(g-f)*(2/3-v)*6:f}var u=new RegExp("^"+mg+"$").exec(e);if(u){if(t=parseInt(u[1]),t<0?t=(360- -1*t%360)%360:t>360&&(t=t%360),t/=360,n=parseFloat(u[2]),n<0||n>100||(n=n/100,a=parseFloat(u[3]),a<0||a>100)||(a=a/100,o=u[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(n===0)s=l=c=Math.round(a*255);else{var h=a<.5?a*(1+n):a+n-a*n,m=2*a-h;s=Math.round(255*d(m,h,t+1/3)),l=Math.round(255*d(m,h,t)),c=Math.round(255*d(m,h,t-1/3))}r=[s,l,c,o]}return r},xg=function(e){var r,t=new RegExp("^"+hg+"$").exec(e);if(t){r=[];for(var n=[],a=1;a<=3;a++){var o=t[a];if(o[o.length-1]==="%"&&(n[a]=!0),o=parseFloat(o),n[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=n[1]||n[2]||n[3],l=n[1]&&n[2]&&n[3];if(s&&!l)return;var c=t[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},wg=function(e){return Eg[e.toLowerCase()]},Cg=function(e){return(vt(e)?e:null)||wg(e)||yg(e)||xg(e)||_g(e)},Eg={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cf=function(e){for(var r=e.map,t=e.keys,n=t.length,a=0;a<n;a++){var o=t[a];if(tt(o))throw Error("Tried to set map with object key");a<t.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},df=function(e){for(var r=e.map,t=e.keys,n=t.length,a=0;a<n;a++){var o=t[a];if(tt(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function kg(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var vn=kg,Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dg(i,e){return e={exports:{}},i(e,e.exports),e.exports}var Sg=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,Ig=Sg,Ag=typeof self=="object"&&self&&self.Object===Object&&self,Tg=Ig||Ag||Function("return this")(),Hs=Tg,Mg=function(){return Hs.Date.now()},rc=Mg,Og=/\s/;function Rg(i){for(var e=i.length;e--&&Og.test(i.charAt(e)););return e}var Fg=Rg,Pg=/^\s+/;function Lg(i){return i&&i.slice(0,Fg(i)+1).replace(Pg,"")}var Ng=Lg,Bg=Hs.Symbol,ea=Bg,uf=Object.prototype,Vg=uf.hasOwnProperty,zg=uf.toString,Ua=ea?ea.toStringTag:void 0;function jg(i){var e=Vg.call(i,Ua),r=i[Ua];try{i[Ua]=void 0;var t=!0}catch{}var n=zg.call(i);return t&&(e?i[Ua]=r:delete i[Ua]),n}var Hg=jg,Ug=Object.prototype,qg=Ug.toString;function Wg(i){return qg.call(i)}var Gg=Wg,$g="[object Null]",Yg="[object Undefined]",qu=ea?ea.toStringTag:void 0;function Kg(i){return i==null?i===void 0?Yg:$g:qu&&qu in Object(i)?Hg(i):Gg(i)}var hf=Kg;function Zg(i){return i!=null&&typeof i=="object"}var Xg=Zg,Qg="[object Symbol]";function Jg(i){return typeof i=="symbol"||Xg(i)&&hf(i)==Qg}var po=Jg,Wu=NaN,eb=/^[-+]0x[0-9a-f]+$/i,tb=/^0b[01]+$/i,ib=/^0o[0-7]+$/i,rb=parseInt;function nb(i){if(typeof i=="number")return i;if(po(i))return Wu;if(vn(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=vn(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=Ng(i);var r=tb.test(i);return r||ib.test(i)?rb(i.slice(2),r?2:8):eb.test(i)?Wu:+i}var Gu=nb,ab="Expected a function",ob=Math.max,sb=Math.min;function lb(i,e,r){var t,n,a,o,s,l,c=0,d=!1,u=!1,h=!0;if(typeof i!="function")throw new TypeError(ab);e=Gu(e)||0,vn(r)&&(d=!!r.leading,u="maxWait"in r,a=u?ob(Gu(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function m(w){var x=t,D=n;return t=n=void 0,c=w,o=i.apply(D,x),o}function f(w){return c=w,s=setTimeout(p,e),d?m(w):o}function g(w){var x=w-l,D=w-c,E=e-x;return u?sb(E,a-D):E}function v(w){var x=w-l,D=w-c;return l===void 0||x>=e||x<0||u&&D>=a}function p(){var w=rc();if(v(w))return y(w);s=setTimeout(p,g(w))}function y(w){return s=void 0,h&&t?m(w):(t=n=void 0,o)}function b(){s!==void 0&&clearTimeout(s),c=0,t=l=n=s=void 0}function _(){return s===void 0?o:y(rc())}function C(){var w=rc(),x=v(w);if(t=arguments,n=this,l=w,x){if(s===void 0)return f(l);if(u)return clearTimeout(s),s=setTimeout(p,e),m(l)}return s===void 0&&(s=setTimeout(p,e)),o}return C.cancel=b,C.flush=_,C}var Us=lb,nc=Ft?Ft.performance:null,ff=nc&&nc.now?function(){return nc.now()}:function(){return Date.now()},cb=function(){if(Ft){if(Ft.requestAnimationFrame)return function(i){Ft.requestAnimationFrame(i)};if(Ft.mozRequestAnimationFrame)return function(i){Ft.mozRequestAnimationFrame(i)};if(Ft.webkitRequestAnimationFrame)return function(i){Ft.webkitRequestAnimationFrame(i)};if(Ft.msRequestAnimationFrame)return function(i){Ft.msRequestAnimationFrame(i)}}return function(i){i&&setTimeout(function(){i(ff())},1e3/60)}}(),Ms=function(e){return cb(e)},gr=ff,$n=9261,mf=65599,Ka=5381,pf=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n,t=r,n;n=e.next(),!n.done;)t=t*mf+n.value|0;return t},io=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n;return r*mf+e|0},ro=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ka;return(r<<5)+r+e|0},db=function(e,r){return e*2097152+r},Or=function(e){return e[0]*2097152+e[1]},cs=function(e,r){return[io(e[0],r[0]),ro(e[1],r[1])]},ub=function(e,r){var t={value:0,done:!1},n=0,a=e.length,o={next:function(){return n<a?t.value=e[n++]:t.done=!0,t}};return pf(o,r)},gn=function(e,r){var t={value:0,done:!1},n=0,a=e.length,o={next:function(){return n<a?t.value=e.charCodeAt(n++):t.done=!0,t}};return pf(o,r)},vf=function(){return hb(arguments)},hb=function(e){for(var r,t=0;t<e.length;t++){var n=e[t];t===0?r=gn(n):r=gn(n,r)}return r},$u=!0,fb=console.warn!=null,mb=console.trace!=null,Lc=Number.MAX_SAFE_INTEGER||9007199254740991,gf=function(){return!0},Os=function(){return!1},Yu=function(){return 0},Nc=function(){},St=function(e){throw new Error(e)},bf=function(e){if(e!==void 0)$u=!!e;else return $u},ht=function(e){bf()&&(fb?console.warn(e):(console.log(e),mb&&console.trace()))},pb=function(e){return Ie({},e)},ir=function(e){return e==null?e:vt(e)?e.slice():tt(e)?pb(e):e},vb=function(e){return e.slice()},yf=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},gb={},_f=function(){return gb},Kt=function(e){var r=Object.keys(e);return function(t){for(var n={},a=0;a<r.length;a++){var o=r[a],s=t?.[o];n[o]=s===void 0?e[o]:s}return n}},Vr=function(e,r,t){for(var n=e.length-1;n>=0&&!(e[n]===r&&(e.splice(n,1),t));n--);},Bc=function(e){e.splice(0,e.length)},bb=function(e,r){for(var t=0;t<r.length;t++){var n=r[t];e.push(n)}},Hi=function(e,r,t){return t&&(r=sf(t,r)),e[r]},Fr=function(e,r,t,n){t&&(r=sf(t,r)),e[r]=n},yb=function(){function i(){Oc(this,i),this._obj={}}return Rc(i,[{key:"set",value:function(r,t){return this._obj[r]=t,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),i}(),rr=typeof Map<"u"?Map:yb,_b="undefined",xb=function(){function i(e){if(Oc(this,i),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var t=0;t<r.length;t++)this.add(r[t])}}return Rc(i,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var t=this._obj;t[r]!==1&&(t[r]=1,this.size++)}},{key:"delete",value:function(r){var t=this._obj;t[r]===1&&(t[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(t){return r.has(t)})}},{key:"forEach",value:function(r,t){return this.toArray().forEach(r,t)}}]),i}(),na=(typeof Set>"u"?"undefined":Lt(Set))!==_b?Set:xb,qs=function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Fc(e)){St("An element must have a core reference and parameters set");return}var n=r.group;if(n==null&&(r.data&&r.data.source!=null&&r.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){St("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?n==="edges":!!r.pannable,active:!1,classes:new na,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),l=e.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var c=[];vt(r.classes)?c=r.classes:_e(r.classes)&&(c=r.classes.split(/\s+/));for(var d=0,u=c.length;d<u;d++){var h=c[d];!h||h===""||a.classes.add(h)}this.createEmitter();var m=r.style||r.css;m&&(ht("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(t===void 0||t)&&this.restore()},Ku=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,a){var o;tt(t)&&!vi(t)&&(o=t,t=o.roots||o.root,n=o.visit,a=o.directed),a=arguments.length===2&&!Ct(n)?n:a,n=Ct(n)?n:function(){};for(var s=this._private.cy,l=t=_e(t)?this.filter(t):t,c=[],d=[],u={},h={},m={},f=0,g,v=this.byGroup(),p=v.nodes,y=v.edges,b=0;b<l.length;b++){var _=l[b],C=_.id();_.isNode()&&(c.unshift(_),e.bfs&&(m[C]=!0,d.push(_)),h[C]=0)}for(var w=function(){var M=e.bfs?c.shift():c.pop(),S=M.id();if(e.dfs){if(m[S])return"continue";m[S]=!0,d.push(M)}var F=h[S],O=u[S],R=O!=null?O.source():null,P=O!=null?O.target():null,j=O==null?void 0:M.same(R)?P[0]:R[0],H=void 0;if(H=n(M,O,j,f++,F),H===!0)return g=M,"break";if(H===!1)return"break";for(var V=M.connectedEdges().filter(function(te){return(!a||te.source().same(M))&&y.has(te)}),B=0;B<V.length;B++){var G=V[B],Q=G.connectedNodes().filter(function(te){return!te.same(M)&&p.has(te)}),ee=Q.id();Q.length!==0&&!m[ee]&&(Q=Q[0],c.push(Q),e.bfs&&(m[ee]=!0,d.push(Q)),u[ee]=G,h[ee]=h[S]+1)}};c.length!==0;){var x=w();if(x!=="continue"&&x==="break")break}for(var D=s.collection(),E=0;E<d.length;E++){var T=d[E],I=u[T.id()];I!=null&&D.push(I),D.push(T)}return{path:s.collection(D),found:s.collection(g)}}},no={breadthFirstSearch:Ku({bfs:!0}),depthFirstSearch:Ku({dfs:!0})};no.bfs=no.breadthFirstSearch;no.dfs=no.depthFirstSearch;var wb=Dg(function(i,e){(function(){var r,t,n,a,o,s,l,c,d,u,h,m,f,g,v;n=Math.floor,u=Math.min,t=function(p,y){return p<y?-1:p>y?1:0},d=function(p,y,b,_,C){var w;if(b==null&&(b=0),C==null&&(C=t),b<0)throw new Error("lo must be non-negative");for(_==null&&(_=p.length);b<_;)w=n((b+_)/2),C(y,p[w])<0?_=w:b=w+1;return[].splice.apply(p,[b,b-b].concat(y)),y},s=function(p,y,b){return b==null&&(b=t),p.push(y),g(p,0,p.length-1,b)},o=function(p,y){var b,_;return y==null&&(y=t),b=p.pop(),p.length?(_=p[0],p[0]=b,v(p,0,y)):_=b,_},c=function(p,y,b){var _;return b==null&&(b=t),_=p[0],p[0]=y,v(p,0,b),_},l=function(p,y,b){var _;return b==null&&(b=t),p.length&&b(p[0],y)<0&&(_=[p[0],y],y=_[0],p[0]=_[1],v(p,0,b)),y},a=function(p,y){var b,_,C,w,x,D;for(y==null&&(y=t),w=(function(){D=[];for(var E=0,T=n(p.length/2);0<=T?E<T:E>T;0<=T?E++:E--)D.push(E);return D}).apply(this).reverse(),x=[],_=0,C=w.length;_<C;_++)b=w[_],x.push(v(p,b,y));return x},f=function(p,y,b){var _;if(b==null&&(b=t),_=p.indexOf(y),_!==-1)return g(p,0,_,b),v(p,_,b)},h=function(p,y,b){var _,C,w,x,D;if(b==null&&(b=t),C=p.slice(0,y),!C.length)return C;for(a(C,b),D=p.slice(y),w=0,x=D.length;w<x;w++)_=D[w],l(C,_,b);return C.sort(b).reverse()},m=function(p,y,b){var _,C,w,x,D,E,T,I,A;if(b==null&&(b=t),y*10<=p.length){if(w=p.slice(0,y).sort(b),!w.length)return w;for(C=w[w.length-1],T=p.slice(y),x=0,E=T.length;x<E;x++)_=T[x],b(_,C)<0&&(d(w,_,0,null,b),w.pop(),C=w[w.length-1]);return w}for(a(p,b),A=[],D=0,I=u(y,p.length);0<=I?D<I:D>I;0<=I?++D:--D)A.push(o(p,b));return A},g=function(p,y,b,_){var C,w,x;for(_==null&&(_=t),C=p[b];b>y;){if(x=b-1>>1,w=p[x],_(C,w)<0){p[b]=w,b=x;continue}break}return p[b]=C},v=function(p,y,b){var _,C,w,x,D;for(b==null&&(b=t),C=p.length,D=y,w=p[y],_=2*y+1;_<C;)x=_+1,x<C&&!(b(p[_],p[x])<0)&&(_=x),p[y]=p[_],y=_,_=2*y+1;return p[y]=w,g(p,D,y,b)},r=function(){p.push=s,p.pop=o,p.replace=c,p.pushpop=l,p.heapify=a,p.updateItem=f,p.nlargest=h,p.nsmallest=m;function p(y){this.cmp=y??t,this.nodes=[]}return p.prototype.push=function(y){return s(this.nodes,y,this.cmp)},p.prototype.pop=function(){return o(this.nodes,this.cmp)},p.prototype.peek=function(){return this.nodes[0]},p.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},p.prototype.replace=function(y){return c(this.nodes,y,this.cmp)},p.prototype.pushpop=function(y){return l(this.nodes,y,this.cmp)},p.prototype.heapify=function(){return a(this.nodes,this.cmp)},p.prototype.updateItem=function(y){return f(this.nodes,y,this.cmp)},p.prototype.clear=function(){return this.nodes=[]},p.prototype.empty=function(){return this.nodes.length===0},p.prototype.size=function(){return this.nodes.length},p.prototype.clone=function(){var y;return y=new p,y.nodes=this.nodes.slice(0),y},p.prototype.toArray=function(){return this.nodes.slice(0)},p.prototype.insert=p.prototype.push,p.prototype.top=p.prototype.peek,p.prototype.front=p.prototype.peek,p.prototype.has=p.prototype.contains,p.prototype.copy=p.prototype.clone,p}(),function(p,y){return i.exports=y()}(this,function(){return r})}).call(Ya)}),vo=wb,Cb=Kt({root:null,weight:function(e){return 1},directed:!1}),Eb={dijkstra:function(e){if(!tt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var t=Cb(e),n=t.root,a=t.weight,o=t.directed,s=this,l=a,c=_e(n)?this.filter(n)[0]:n[0],d={},u={},h={},m=this.byGroup(),f=m.nodes,g=m.edges;g.unmergeBy(function(F){return F.isLoop()});for(var v=function(O){return d[O.id()]},p=function(O,R){d[O.id()]=R,y.updateItem(O)},y=new vo(function(F,O){return v(F)-v(O)}),b=0;b<f.length;b++){var _=f[b];d[_.id()]=_.same(c)?0:1/0,y.push(_)}for(var C=function(O,R){for(var P=(o?O.edgesTo(R):O.edgesWith(R)).intersect(g),j=1/0,H,V=0;V<P.length;V++){var B=P[V],G=l(B);(G<j||!H)&&(j=G,H=B)}return{edge:H,dist:j}};y.size()>0;){var w=y.pop(),x=v(w),D=w.id();if(h[D]=x,x!==1/0)for(var E=w.neighborhood().intersect(f),T=0;T<E.length;T++){var I=E[T],A=I.id(),M=C(w,I),S=x+M.dist;S<v(I)&&(p(I,S),u[A]={node:w,edge:M.edge})}}return{distanceTo:function(O){var R=_e(O)?f.filter(O)[0]:O[0];return h[R.id()]},pathTo:function(O){var R=_e(O)?f.filter(O)[0]:O[0],P=[],j=R,H=j.id();if(R.length>0)for(P.unshift(R);u[H];){var V=u[H];P.unshift(V.edge),P.unshift(V.node),j=V.node,H=j.id()}return s.spawn(P)}}}},kb={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),t=r.nodes,n=r.edges,a=t.length,o=new Array(a),s=t,l=function(_){for(var C=0;C<o.length;C++){var w=o[C];if(w.has(_))return C}},c=0;c<a;c++)o[c]=this.spawn(t[c]);for(var d=n.sort(function(b,_){return e(b)-e(_)}),u=0;u<d.length;u++){var h=d[u],m=h.source()[0],f=h.target()[0],g=l(m),v=l(f),p=o[g],y=o[v];g!==v&&(s.merge(h),p.merge(y),o.splice(v,1))}return s}},Db=Kt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Sb={aStar:function(e){var r=this.cy(),t=Db(e),n=t.root,a=t.goal,o=t.heuristic,s=t.directed,l=t.weight;n=r.collection(n)[0],a=r.collection(a)[0];var c=n.id(),d=a.id(),u={},h={},m={},f=new vo(function(H,V){return h[H.id()]-h[V.id()]}),g=new na,v={},p={},y=function(V,B){f.push(V),g.add(B)},b,_,C=function(){b=f.pop(),_=b.id(),g.delete(_)},w=function(V){return g.has(V)};y(n,c),u[c]=0,h[c]=o(n);for(var x=0;f.size()>0;){if(C(),x++,_===d){for(var D=[],E=a,T=d,I=p[T];D.unshift(E),I!=null&&D.unshift(I),E=v[T],E!=null;)T=E.id(),I=p[T];return{found:!0,distance:u[_],path:this.spawn(D),steps:x}}m[_]=!0;for(var A=b._private.edges,M=0;M<A.length;M++){var S=A[M];if(this.hasElementWithId(S.id())&&!(s&&S.data("source")!==_)){var F=S.source(),O=S.target(),R=F.id()!==_?F:O,P=R.id();if(this.hasElementWithId(P)&&!m[P]){var j=u[_]+l(S);if(!w(P)){u[P]=j,h[P]=j+o(R),y(R,P),v[P]=b,p[P]=S;continue}j<u[P]&&(u[P]=j,h[P]=j+o(R),v[P]=b,p[P]=S)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},Ib=Kt({weight:function(e){return 1},directed:!1}),Ab={floydWarshall:function(e){for(var r=this.cy(),t=Ib(e),n=t.weight,a=t.directed,o=n,s=this.byGroup(),l=s.nodes,c=s.edges,d=l.length,u=d*d,h=function(G){return l.indexOf(G)},m=function(G){return l[G]},f=new Array(u),g=0;g<u;g++){var v=g%d,p=(g-v)/d;p===v?f[g]=0:f[g]=1/0}for(var y=new Array(u),b=new Array(u),_=0;_<c.length;_++){var C=c[_],w=C.source()[0],x=C.target()[0];if(w!==x){var D=h(w),E=h(x),T=D*d+E,I=o(C);if(f[T]>I&&(f[T]=I,y[T]=E,b[T]=C),!a){var A=E*d+D;!a&&f[A]>I&&(f[A]=I,y[A]=D,b[A]=C)}}}for(var M=0;M<d;M++)for(var S=0;S<d;S++)for(var F=S*d+M,O=0;O<d;O++){var R=S*d+O,P=M*d+O;f[F]+f[P]<f[R]&&(f[R]=f[F]+f[P],y[R]=y[F])}var j=function(G){return(_e(G)?r.filter(G):G)[0]},H=function(G){return h(j(G))},V={distance:function(G,Q){var ee=H(G),te=H(Q);return f[ee*d+te]},path:function(G,Q){var ee=H(G),te=H(Q),re=m(ee);if(ee===te)return re.collection();if(y[ee*d+te]==null)return r.collection();var $=r.collection(),L=ee,Y;for($.merge(re);ee!==te;)L=ee,ee=y[ee*d+te],Y=b[L*d+ee],$.merge(Y),$.merge(m(ee));return $}};return V}},Tb=Kt({weight:function(e){return 1},directed:!1,root:null}),Mb={bellmanFord:function(e){var r=this,t=Tb(e),n=t.weight,a=t.directed,o=t.root,s=n,l=this,c=this.cy(),d=this.byGroup(),u=d.edges,h=d.nodes,m=h.length,f=new rr,g=!1,v=[];o=c.collection(o)[0],u.unmergeBy(function(ge){return ge.isLoop()});for(var p=u.length,y=function(pe){var Ee=f.get(pe.id());return Ee||(Ee={},f.set(pe.id(),Ee)),Ee},b=function(pe){return(_e(pe)?c.$(pe):pe)[0]},_=function(pe){return y(b(pe)).dist},C=function(pe){for(var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,lt=b(pe),Je=[],Be=lt;;){if(Be==null)return r.spawn();var it=y(Be),J=it.edge,k=it.pred;if(Je.unshift(Be[0]),Be.same(Ee)&&Je.length>0)break;J!=null&&Je.unshift(J),Be=k}return l.spawn(Je)},w=0;w<m;w++){var x=h[w],D=y(x);x.same(o)?D.dist=0:D.dist=1/0,D.pred=null,D.edge=null}for(var E=!1,T=function(pe,Ee,lt,Je,Be,it){var J=Je.dist+it;J<Be.dist&&!lt.same(Je.edge)&&(Be.dist=J,Be.pred=pe,Be.edge=lt,E=!0)},I=1;I<m;I++){E=!1;for(var A=0;A<p;A++){var M=u[A],S=M.source(),F=M.target(),O=s(M),R=y(S),P=y(F);T(S,F,M,R,P,O),a||T(F,S,M,P,R,O)}if(!E)break}if(E)for(var j=[],H=0;H<p;H++){var V=u[H],B=V.source(),G=V.target(),Q=s(V),ee=y(B).dist,te=y(G).dist;if(ee+Q<te||!a&&te+Q<ee)if(g||(ht("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var re=[];ee+Q<te&&re.push(B),!a&&te+Q<ee&&re.push(G);for(var $=re.length,L=0;L<$;L++){var Y=re[L],K=[Y];K.push(y(Y).edge);for(var ue=y(Y).pred;K.indexOf(ue)===-1;)K.push(ue),K.push(y(ue).edge),ue=y(ue).pred;K=K.slice(K.indexOf(ue));for(var xe=K[0].id(),se=0,de=2;de<K.length;de+=2)K[de].id()<xe&&(xe=K[de].id(),se=de);K=K.slice(se).concat(K.slice(0,se)),K.push(K[0]);var fe=K.map(function(ge){return ge.id()}).join(",");j.indexOf(fe)===-1&&(v.push(l.spawn(K)),j.push(fe))}}else break}return{distanceTo:_,pathTo:C,hasNegativeWeightCycle:g,negativeWeightCycles:v}}},Ob=Math.sqrt(2),Rb=function(e,r,t){t.length===0&&St("Karger-Stein must be run on a connected (sub)graph");for(var n=t[e],a=n[1],o=n[2],s=r[a],l=r[o],c=t,d=c.length-1;d>=0;d--){var u=c[d],h=u[1],m=u[2];(r[h]===s&&r[m]===l||r[h]===l&&r[m]===s)&&c.splice(d,1)}for(var f=0;f<c.length;f++){var g=c[f];g[1]===l?(c[f]=g.slice(),c[f][1]=s):g[2]===l&&(c[f]=g.slice(),c[f][2]=s)}for(var v=0;v<r.length;v++)r[v]===l&&(r[v]=s);return c},ac=function(e,r,t,n){for(;t>n;){var a=Math.floor(Math.random()*r.length);r=Rb(a,e,r),t--}return r},Fb={kargerStein:function(){var e=this,r=this.byGroup(),t=r.nodes,n=r.edges;n.unmergeBy(function(P){return P.isLoop()});var a=t.length,o=n.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Ob);if(a<2){St("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<o;d++){var u=n[d];c.push([d,t.indexOf(u.source()),t.indexOf(u.target())])}for(var h=1/0,m=[],f=new Array(a),g=new Array(a),v=new Array(a),p=function(j,H){for(var V=0;V<a;V++)H[V]=j[V]},y=0;y<=s;y++){for(var b=0;b<a;b++)g[b]=b;var _=ac(g,c.slice(),a,l),C=_.slice();p(g,v);var w=ac(g,_,l,2),x=ac(v,C,l,2);w.length<=x.length&&w.length<h?(h=w.length,m=w,p(g,f)):x.length<=w.length&&x.length<h&&(h=x.length,m=x,p(v,f))}for(var D=this.spawn(m.map(function(P){return n[P[0]]})),E=this.spawn(),T=this.spawn(),I=f[0],A=0;A<f.length;A++){var M=f[A],S=t[A];M===I?E.merge(S):T.merge(S)}var F=function(j){var H=e.spawn();return j.forEach(function(V){H.merge(V),V.connectedEdges().forEach(function(B){e.contains(B)&&!D.contains(B)&&H.merge(B)})}),H},O=[F(E),F(T)],R={cut:D,components:O,partition1:E,partition2:T};return R}},Pb=function(e){return{x:e.x,y:e.y}},Ws=function(e,r,t){return{x:e.x*r+t.x,y:e.y*r+t.y}},xf=function(e,r,t){return{x:(e.x-t.x)/r,y:(e.y-t.y)/r}},Yn=function(e){return{x:e[0],y:e[1]}},Lb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=1/0,a=r;a<t;a++){var o=e[a];isFinite(o)&&(n=Math.min(o,n))}return n},Nb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=-1/0,a=r;a<t;a++){var o=e[a];isFinite(o)&&(n=Math.max(o,n))}return n},Bb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=0,a=0,o=r;o<t;o++){var s=e[o];isFinite(s)&&(n+=s,a++)}return n/a},Vb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;n?e=e.slice(r,t):(t<e.length&&e.splice(t,e.length-t),r>0&&e.splice(0,r));for(var s=0,l=e.length-1;l>=0;l--){var c=e[l];o?isFinite(c)||(e[l]=-1/0,s++):e.splice(l,1)}a&&e.sort(function(h,m){return h-m});var d=e.length,u=Math.floor(d/2);return d%2!==0?e[u+1+s]:(e[u-1+s]+e[u+s])/2},zb=function(e){return Math.PI*e/180},ds=function(e,r){return Math.atan2(r,e)-Math.PI/2},Vc=Math.log2||function(i){return Math.log(i)/Math.log(2)},wf=function(e){return e>0?1:e<0?-1:0},bn=function(e,r){return Math.sqrt(un(e,r))},un=function(e,r){var t=r.x-e.x,n=r.y-e.y;return t*t+n*n},jb=function(e){for(var r=e.length,t=0,n=0;n<r;n++)t+=e[n];for(var a=0;a<r;a++)e[a]=e[a]/t;return e},zt=function(e,r,t,n){return(1-n)*(1-n)*e+2*(1-n)*n*r+n*n*t},Zn=function(e,r,t,n){return{x:zt(e.x,r.x,t.x,n),y:zt(e.y,r.y,t.y,n)}},Hb=function(e,r,t,n){var a={x:r.x-e.x,y:r.y-e.y},o=bn(e,r),s={x:a.x/o,y:a.y/o};return t=t??0,n=n??t*o,{x:e.x+s.x*n,y:e.y+s.y*n}},ao=function(e,r,t){return Math.max(e,Math.min(t,r))},mi=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Ub=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},qb=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Wb=function(e,r,t){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+t,y2:e.y2+t,w:e.w,h:e.h}},Cf=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Gb=function(e,r,t){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t),e.y2=Math.max(e.y2,t),e.h=e.y2-e.y1},xs=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ws=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],t,n,a,o;if(r.length===1)t=n=a=o=r[0];else if(r.length===2)t=a=r[0],o=n=r[1];else if(r.length===4){var s=zi(r,4);t=s[0],n=s[1],a=s[2],o=s[3]}return e.x1-=o,e.x2+=n,e.y1-=t,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Zu=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},zc=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ta=function(e,r,t){return e.x1<=r&&r<=e.x2&&e.y1<=t&&t<=e.y2},$b=function(e,r){return ta(e,r.x,r.y)},Ef=function(e,r){return ta(e,r.x1,r.y1)&&ta(e,r.x2,r.y2)},kf=function(e,r,t,n,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=l==="auto"?yn(a,o):l,d=a/2,u=o/2;c=Math.min(c,d,u);var h=c!==d,m=c!==u,f;if(h){var g=t-d+c-s,v=n-u-s,p=t+d-c+s,y=v;if(f=Pr(e,r,t,n,g,v,p,y,!1),f.length>0)return f}if(m){var b=t+d+s,_=n-u+c-s,C=b,w=n+u-c+s;if(f=Pr(e,r,t,n,b,_,C,w,!1),f.length>0)return f}if(h){var x=t-d+c-s,D=n+u+s,E=t+d-c+s,T=D;if(f=Pr(e,r,t,n,x,D,E,T,!1),f.length>0)return f}if(m){var I=t-d-s,A=n-u+c-s,M=I,S=n+u-c+s;if(f=Pr(e,r,t,n,I,A,M,S,!1),f.length>0)return f}var F;{var O=t-d+c,R=n-u+c;if(F=Za(e,r,t,n,O,R,c+s),F.length>0&&F[0]<=O&&F[1]<=R)return[F[0],F[1]]}{var P=t+d-c,j=n-u+c;if(F=Za(e,r,t,n,P,j,c+s),F.length>0&&F[0]>=P&&F[1]<=j)return[F[0],F[1]]}{var H=t+d-c,V=n+u-c;if(F=Za(e,r,t,n,H,V,c+s),F.length>0&&F[0]>=H&&F[1]>=V)return[F[0],F[1]]}{var B=t-d+c,G=n+u-c;if(F=Za(e,r,t,n,B,G,c+s),F.length>0&&F[0]<=B&&F[1]>=G)return[F[0],F[1]]}return[]},Yb=function(e,r,t,n,a,o,s){var l=s,c=Math.min(t,a),d=Math.max(t,a),u=Math.min(n,o),h=Math.max(n,o);return c-l<=e&&e<=d+l&&u-l<=r&&r<=h+l},Kb=function(e,r,t,n,a,o,s,l,c){var d={x1:Math.min(t,s,a)-c,x2:Math.max(t,s,a)+c,y1:Math.min(n,l,o)-c,y2:Math.max(n,l,o)+c};return!(e<d.x1||e>d.x2||r<d.y1||r>d.y2)},Zb=function(e,r,t,n){t-=n;var a=r*r-4*e*t;if(a<0)return[];var o=Math.sqrt(a),s=2*e,l=(-r+o)/s,c=(-r-o)/s;return[l,c]},Xb=function(e,r,t,n,a){var o=1e-5;e===0&&(e=o),r/=e,t/=e,n/=e;var s,l,c,d,u,h,m,f;if(l=(3*t-r*r)/9,c=-(27*n)+r*(9*t-2*(r*r)),c/=54,s=l*l*l+c*c,a[1]=0,m=r/3,s>0){u=c+Math.sqrt(s),u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),h=c-Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),a[0]=-m+u+h,m+=(u+h)/2,a[4]=a[2]=-m,m=Math.sqrt(3)*(-h+u)/2,a[3]=m,a[5]=-m;return}if(a[5]=a[3]=0,s===0){f=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),a[0]=-m+2*f,a[4]=a[2]=-(f+m);return}l=-l,d=l*l*l,d=Math.acos(c/Math.sqrt(d)),f=2*Math.sqrt(l),a[0]=-m+f*Math.cos(d/3),a[2]=-m+f*Math.cos((d+2*Math.PI)/3),a[4]=-m+f*Math.cos((d+4*Math.PI)/3)},Qb=function(e,r,t,n,a,o,s,l){var c=1*t*t-4*t*a+2*t*s+4*a*a-4*a*s+s*s+n*n-4*n*o+2*n*l+4*o*o-4*o*l+l*l,d=1*9*t*a-3*t*t-3*t*s-6*a*a+3*a*s+9*n*o-3*n*n-3*n*l-6*o*o+3*o*l,u=1*3*t*t-6*t*a+t*s-t*e+2*a*a+2*a*e-s*e+3*n*n-6*n*o+n*l-n*r+2*o*o+2*o*r-l*r,h=1*t*a-t*t+t*e-a*e+n*o-n*n+n*r-o*r,m=[];Xb(c,d,u,h,m);for(var f=1e-7,g=[],v=0;v<6;v+=2)Math.abs(m[v+1])<f&&m[v]>=0&&m[v]<=1&&g.push(m[v]);g.push(1),g.push(0);for(var p=-1,y,b,_,C=0;C<g.length;C++)y=Math.pow(1-g[C],2)*t+2*(1-g[C])*g[C]*a+g[C]*g[C]*s,b=Math.pow(1-g[C],2)*n+2*(1-g[C])*g[C]*o+g[C]*g[C]*l,_=Math.pow(y-e,2)+Math.pow(b-r,2),p>=0?_<p&&(p=_):p=_;return p},Jb=function(e,r,t,n,a,o){var s=[e-t,r-n],l=[a-t,o-n],c=l[0]*l[0]+l[1]*l[1],d=s[0]*s[0]+s[1]*s[1],u=s[0]*l[0]+s[1]*l[1],h=u*u/c;return u<0?d:h>c?(e-a)*(e-a)+(r-o)*(r-o):d-h},fi=function(e,r,t){for(var n,a,o,s,l,c=0,d=0;d<t.length/2;d++)if(n=t[d*2],a=t[d*2+1],d+1<t.length/2?(o=t[(d+1)*2],s=t[(d+1)*2+1]):(o=t[(d+1-t.length/2)*2],s=t[(d+1-t.length/2)*2+1]),!(n==e&&o==e))if(n>=e&&e>=o||n<=e&&e<=o)l=(e-n)/(o-n)*(s-a)+a,l>r&&c++;else continue;return c%2!==0},br=function(e,r,t,n,a,o,s,l,c){var d=new Array(t.length),u;l[0]!=null?(u=Math.atan(l[1]/l[0]),l[0]<0?u=u+Math.PI/2:u=-u-Math.PI/2):u=l;for(var h=Math.cos(-u),m=Math.sin(-u),f=0;f<d.length/2;f++)d[f*2]=o/2*(t[f*2]*h-t[f*2+1]*m),d[f*2+1]=s/2*(t[f*2+1]*h+t[f*2]*m),d[f*2]+=n,d[f*2+1]+=a;var g;if(c>0){var v=Fs(d,-c);g=Rs(v)}else g=d;return fi(e,r,g)},ey=function(e,r,t,n,a,o,s,l){for(var c=new Array(t.length*2),d=0;d<l.length;d++){var u=l[d];c[d*4+0]=u.startX,c[d*4+1]=u.startY,c[d*4+2]=u.stopX,c[d*4+3]=u.stopY;var h=Math.pow(u.cx-e,2)+Math.pow(u.cy-r,2);if(h<=Math.pow(u.radius,2))return!0}return fi(e,r,c)},Rs=function(e){for(var r=new Array(e.length/2),t,n,a,o,s,l,c,d,u=0;u<e.length/4;u++){t=e[u*4],n=e[u*4+1],a=e[u*4+2],o=e[u*4+3],u<e.length/4-1?(s=e[(u+1)*4],l=e[(u+1)*4+1],c=e[(u+1)*4+2],d=e[(u+1)*4+3]):(s=e[0],l=e[1],c=e[2],d=e[3]);var h=Pr(t,n,a,o,s,l,c,d,!0);r[u*2]=h[0],r[u*2+1]=h[1]}return r},Fs=function(e,r){for(var t=new Array(e.length*2),n,a,o,s,l=0;l<e.length/2;l++){n=e[l*2],a=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var c=s-a,d=-(o-n),u=Math.sqrt(c*c+d*d),h=c/u,m=d/u;t[l*4]=n+h*r,t[l*4+1]=a+m*r,t[l*4+2]=o+h*r,t[l*4+3]=s+m*r}return t},ty=function(e,r,t,n,a,o){var s=t-e,l=n-r;s/=a,l/=o;var c=Math.sqrt(s*s+l*l),d=c-1;if(d<0)return[];var u=d/c;return[(t-e)*u+e,(n-r)*u+r]},pn=function(e,r,t,n,a,o,s){return e-=a,r-=o,e/=t/2+s,r/=n/2+s,e*e+r*r<=1},Za=function(e,r,t,n,a,o,s){var l=[t-e,n-r],c=[e-a,r-o],d=l[0]*l[0]+l[1]*l[1],u=2*(c[0]*l[0]+c[1]*l[1]),h=c[0]*c[0]+c[1]*c[1]-s*s,m=u*u-4*d*h;if(m<0)return[];var f=(-u+Math.sqrt(m))/(2*d),g=(-u-Math.sqrt(m))/(2*d),v=Math.min(f,g),p=Math.max(f,g),y=[];if(v>=0&&v<=1&&y.push(v),p>=0&&p<=1&&y.push(p),y.length===0)return[];var b=y[0]*l[0]+e,_=y[0]*l[1]+r;if(y.length>1){if(y[0]==y[1])return[b,_];var C=y[1]*l[0]+e,w=y[1]*l[1]+r;return[b,_,C,w]}else return[b,_]},oc=function(e,r,t){return r<=e&&e<=t||t<=e&&e<=r?e:e<=r&&r<=t||t<=r&&r<=e?r:t},Pr=function(e,r,t,n,a,o,s,l,c){var d=e-a,u=t-e,h=s-a,m=r-o,f=n-r,g=l-o,v=h*m-g*d,p=u*m-f*d,y=g*u-h*f;if(y!==0){var b=v/y,_=p/y,C=.001,w=0-C,x=1+C;return w<=b&&b<=x&&w<=_&&_<=x?[e+b*u,r+b*f]:c?[e+b*u,r+b*f]:[]}else return v===0||p===0?oc(e,t,s)===s?[s,l]:oc(e,t,a)===a?[a,o]:oc(a,s,t)===t?[t,n]:[]:[]},oo=function(e,r,t,n,a,o,s,l){var c=[],d,u=new Array(t.length),h=!0;o==null&&(h=!1);var m;if(h){for(var f=0;f<u.length/2;f++)u[f*2]=t[f*2]*o+n,u[f*2+1]=t[f*2+1]*s+a;if(l>0){var g=Fs(u,-l);m=Rs(g)}else m=u}else m=t;for(var v,p,y,b,_=0;_<m.length/2;_++)v=m[_*2],p=m[_*2+1],_<m.length/2-1?(y=m[(_+1)*2],b=m[(_+1)*2+1]):(y=m[0],b=m[1]),d=Pr(e,r,n,a,v,p,y,b),d.length!==0&&c.push(d[0],d[1]);return c},iy=function(e,r,t,n,a,o,s,l,c){var d=[],u,h=new Array(t.length*2);c.forEach(function(y,b){b===0?(h[h.length-2]=y.startX,h[h.length-1]=y.startY):(h[b*4-2]=y.startX,h[b*4-1]=y.startY),h[b*4]=y.stopX,h[b*4+1]=y.stopY,u=Za(e,r,n,a,y.cx,y.cy,y.radius),u.length!==0&&d.push(u[0],u[1])});for(var m=0;m<h.length/4;m++)u=Pr(e,r,n,a,h[m*4],h[m*4+1],h[m*4+2],h[m*4+3],!1),u.length!==0&&d.push(u[0],u[1]);if(d.length>2){for(var f=[d[0],d[1]],g=Math.pow(f[0]-e,2)+Math.pow(f[1]-r,2),v=1;v<d.length/2;v++){var p=Math.pow(d[v*2]-e,2)+Math.pow(d[v*2+1]-r,2);p<=g&&(f[0]=d[v*2],f[1]=d[v*2+1],g=p)}return f}return d},us=function(e,r,t){var n=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(a-t)/a;return o<0&&(o=1e-5),[r[0]+o*n[0],r[1]+o*n[1]]},ci=function(e,r){var t=vc(e,r);return t=Df(t),t},Df=function(e){for(var r,t,n=e.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,c=0;c<n;c++)r=e[2*c],t=e[2*c+1],a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,t),l=Math.max(l,t);for(var d=2/(s-a),u=2/(l-o),h=0;h<n;h++)r=e[2*h]=e[2*h]*d,t=e[2*h+1]=e[2*h+1]*u,a=Math.min(a,r),s=Math.max(s,r),o=Math.min(o,t),l=Math.max(l,t);if(o<-1)for(var m=0;m<n;m++)t=e[2*m+1]=e[2*m+1]+(-1-o);return e},vc=function(e,r){var t=1/e*2*Math.PI,n=e%2===0?Math.PI/2+t/2:Math.PI/2;n+=r;for(var a=new Array(e*2),o,s=0;s<e;s++)o=s*t+n,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},yn=function(e,r){return Math.min(e/4,r/4,8)},Sf=function(e,r){return Math.min(e/10,r/10,8)},jc=function(){return 8},ry=function(e,r,t){return[e-2*r+t,2*(r-e),e]},gc=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},ny=Kt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),ay={pageRank:function(e){for(var r=ny(e),t=r.dampingFactor,n=r.precision,a=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),c=l.nodes,d=l.edges,u=c.length,h=u*u,m=d.length,f=new Array(h),g=new Array(u),v=(1-t)/u,p=0;p<u;p++){for(var y=0;y<u;y++){var b=p*u+y;f[b]=0}g[p]=0}for(var _=0;_<m;_++){var C=d[_],w=C.data("source"),x=C.data("target");if(w!==x){var D=c.indexOfId(w),E=c.indexOfId(x),T=o(C),I=E*u+D;f[I]+=T,g[D]+=T}}for(var A=1/u+v,M=0;M<u;M++)if(g[M]===0)for(var S=0;S<u;S++){var F=S*u+M;f[F]=A}else for(var O=0;O<u;O++){var R=O*u+M;f[R]=f[R]/g[M]+v}for(var P=new Array(u),j=new Array(u),H,V=0;V<u;V++)P[V]=1;for(var B=0;B<a;B++){for(var G=0;G<u;G++)j[G]=0;for(var Q=0;Q<u;Q++)for(var ee=0;ee<u;ee++){var te=Q*u+ee;j[Q]+=f[te]*P[ee]}jb(j),H=P,P=j,j=H;for(var re=0,$=0;$<u;$++){var L=H[$]-P[$];re+=L*L}if(re<n)break}var Y={rank:function(ue){return ue=s.collection(ue)[0],P[c.indexOf(ue)]}};return Y}},Xu=Kt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Xn={degreeCentralityNormalized:function(e){e=Xu(e);var r=this.cy(),t=this.nodes(),n=t.length;if(e.directed){for(var d={},u={},h=0,m=0,f=0;f<n;f++){var g=t[f],v=g.id();e.root=g;var p=this.degreeCentrality(e);h<p.indegree&&(h=p.indegree),m<p.outdegree&&(m=p.outdegree),d[v]=p.indegree,u[v]=p.outdegree}return{indegree:function(b){return h==0?0:(_e(b)&&(b=r.filter(b)),d[b.id()]/h)},outdegree:function(b){return m===0?0:(_e(b)&&(b=r.filter(b)),u[b.id()]/m)}}}else{for(var a={},o=0,s=0;s<n;s++){var l=t[s];e.root=l;var c=this.degreeCentrality(e);o<c.degree&&(o=c.degree),a[l.id()]=c.degree}return{degree:function(b){return o===0?0:(_e(b)&&(b=r.filter(b)),a[b.id()]/o)}}}},degreeCentrality:function(e){e=Xu(e);var r=this.cy(),t=this,n=e,a=n.root,o=n.weight,s=n.directed,l=n.alpha;if(a=r.collection(a)[0],s){for(var m=a.connectedEdges(),f=m.filter(function(w){return w.target().same(a)&&t.has(w)}),g=m.filter(function(w){return w.source().same(a)&&t.has(w)}),v=f.length,p=g.length,y=0,b=0,_=0;_<f.length;_++)y+=o(f[_]);for(var C=0;C<g.length;C++)b+=o(g[C]);return{indegree:Math.pow(v,1-l)*Math.pow(y,l),outdegree:Math.pow(p,1-l)*Math.pow(b,l)}}else{for(var c=a.connectedEdges().intersection(t),d=c.length,u=0,h=0;h<c.length;h++)u+=o(c[h]);return{degree:Math.pow(d,1-l)*Math.pow(u,l)}}}};Xn.dc=Xn.degreeCentrality;Xn.dcn=Xn.degreeCentralityNormalised=Xn.degreeCentralityNormalized;var Qu=Kt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Qn={closenessCentralityNormalized:function(e){for(var r=Qu(e),t=r.harmonic,n=r.weight,a=r.directed,o=this.cy(),s={},l=0,c=this.nodes(),d=this.floydWarshall({weight:n,directed:a}),u=0;u<c.length;u++){for(var h=0,m=c[u],f=0;f<c.length;f++)if(u!==f){var g=d.distance(m,c[f]);t?h+=1/g:h+=g}t||(h=1/h),l<h&&(l=h),s[m.id()]=h}return{closeness:function(p){return l==0?0:(_e(p)?p=o.filter(p)[0].id():p=p.id(),s[p]/l)}}},closenessCentrality:function(e){var r=Qu(e),t=r.root,n=r.weight,a=r.directed,o=r.harmonic;t=this.filter(t)[0];for(var s=this.dijkstra({root:t,weight:n,directed:a}),l=0,c=this.nodes(),d=0;d<c.length;d++){var u=c[d];if(!u.same(t)){var h=s.distanceTo(u);o?l+=1/h:l+=h}}return o?l:1/l}};Qn.cc=Qn.closenessCentrality;Qn.ccn=Qn.closenessCentralityNormalised=Qn.closenessCentralityNormalized;var oy=Kt({weight:null,directed:!1}),bc={betweennessCentrality:function(e){for(var r=oy(e),t=r.directed,n=r.weight,a=n!=null,o=this.cy(),s=this.nodes(),l={},c={},d=0,u={set:function(b,_){c[b]=_,_>d&&(d=_)},get:function(b){return c[b]}},h=0;h<s.length;h++){var m=s[h],f=m.id();t?l[f]=m.outgoers().nodes():l[f]=m.openNeighborhood().nodes(),u.set(f,0)}for(var g=function(b){for(var _=s[b].id(),C=[],w={},x={},D={},E=new vo(function(ee,te){return D[ee]-D[te]}),T=0;T<s.length;T++){var I=s[T].id();w[I]=[],x[I]=0,D[I]=1/0}for(x[_]=1,D[_]=0,E.push(_);!E.empty();){var A=E.pop();if(C.push(A),a)for(var M=0;M<l[A].length;M++){var S=l[A][M],F=o.getElementById(A),O=void 0;F.edgesTo(S).length>0?O=F.edgesTo(S)[0]:O=S.edgesTo(F)[0];var R=n(O);S=S.id(),D[S]>D[A]+R&&(D[S]=D[A]+R,E.nodes.indexOf(S)<0?E.push(S):E.updateItem(S),x[S]=0,w[S]=[]),D[S]==D[A]+R&&(x[S]=x[S]+x[A],w[S].push(A))}else for(var P=0;P<l[A].length;P++){var j=l[A][P].id();D[j]==1/0&&(E.push(j),D[j]=D[A]+1),D[j]==D[A]+1&&(x[j]=x[j]+x[A],w[j].push(A))}}for(var H={},V=0;V<s.length;V++)H[s[V].id()]=0;for(;C.length>0;){for(var B=C.pop(),G=0;G<w[B].length;G++){var Q=w[B][G];H[Q]=H[Q]+x[Q]/x[B]*(1+H[B])}B!=s[b].id()&&u.set(B,u.get(B)+H[B])}},v=0;v<s.length;v++)g(v);var p={betweenness:function(b){var _=o.collection(b).id();return u.get(_)},betweennessNormalized:function(b){if(d==0)return 0;var _=o.collection(b).id();return u.get(_)/d}};return p.betweennessNormalised=p.betweennessNormalized,p}};bc.bc=bc.betweennessCentrality;var sy=Kt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(i){return 1}]}),ly=function(e){return sy(e)},cy=function(e,r){for(var t=0,n=0;n<r.length;n++)t+=r[n](e);return t},dy=function(e,r,t){for(var n=0;n<r;n++)e[n*r+n]=t},If=function(e,r){for(var t,n=0;n<r;n++){t=0;for(var a=0;a<r;a++)t+=e[a*r+n];for(var o=0;o<r;o++)e[o*r+n]=e[o*r+n]/t}},uy=function(e,r,t){for(var n=new Array(t*t),a=0;a<t;a++){for(var o=0;o<t;o++)n[a*t+o]=0;for(var s=0;s<t;s++)for(var l=0;l<t;l++)n[a*t+l]+=e[a*t+s]*r[s*t+l]}return n},hy=function(e,r,t){for(var n=e.slice(0),a=1;a<t;a++)e=uy(e,n,r);return e},fy=function(e,r,t){for(var n=new Array(r*r),a=0;a<r*r;a++)n[a]=Math.pow(e[a],t);return If(n,r),n},my=function(e,r,t,n){for(var a=0;a<t;a++){var o=Math.round(e[a]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(r[a]*Math.pow(10,n))/Math.pow(10,n);if(o!==s)return!1}return!0},py=function(e,r,t,n){for(var a=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(e[o*r+l]*1e3)/1e3>0&&s.push(t[l]);s.length!==0&&a.push(n.collection(s))}return a},vy=function(e,r){for(var t=0;t<e.length;t++)if(!r[t]||e[t].id()!==r[t].id())return!1;return!0},gy=function(e){for(var r=0;r<e.length;r++)for(var t=0;t<e.length;t++)r!=t&&vy(e[r],e[t])&&e.splice(t,1);return e},Ju=function(e){for(var r=this.nodes(),t=this.edges(),n=this.cy(),a=ly(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,c=l*l,d=new Array(c),u,h=0;h<c;h++)d[h]=0;for(var m=0;m<t.length;m++){var f=t[m],g=o[f.source().id()],v=o[f.target().id()],p=cy(f,a.attributes);d[g*l+v]+=p,d[v*l+g]+=p}dy(d,l,a.multFactor),If(d,l);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,u=hy(d,l,a.expandFactor),d=fy(u,l,a.inflateFactor),my(d,u,c,4)||(y=!0),b++;var _=py(d,l,r,n);return _=gy(_),_},by={markovClustering:Ju,mcl:Ju},yy=function(e){return e},Af=function(e,r){return Math.abs(r-e)},eh=function(e,r,t){return e+Af(r,t)},th=function(e,r,t){return e+Math.pow(t-r,2)},_y=function(e){return Math.sqrt(e)},xy=function(e,r,t){return Math.max(e,Af(r,t))},qa=function(e,r,t,n,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:yy,s=n,l,c,d=0;d<e;d++)l=r(d),c=t(d),s=a(s,l,c);return o(s)},ia={euclidean:function(e,r,t){return e>=2?qa(e,r,t,0,th,_y):qa(e,r,t,0,eh)},squaredEuclidean:function(e,r,t){return qa(e,r,t,0,th)},manhattan:function(e,r,t){return qa(e,r,t,0,eh)},max:function(e,r,t){return qa(e,r,t,-1/0,xy)}};ia["squared-euclidean"]=ia.squaredEuclidean;ia.squaredeuclidean=ia.squaredEuclidean;function Gs(i,e,r,t,n,a){var o;return Ct(i)?o=i:o=ia[i]||ia.euclidean,e===0&&Ct(i)?o(n,a):o(e,r,t,n,a)}var wy=Kt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Hc=function(e){return wy(e)},Ps=function(e,r,t,n,a){var o=a!=="kMedoids",s=o?function(u){return t[u]}:function(u){return n[u](t)},l=function(h){return n[h](r)},c=t,d=r;return Gs(e,n.length,s,l,c,d)},sc=function(e,r,t){for(var n=t.length,a=new Array(n),o=new Array(n),s=new Array(r),l=null,c=0;c<n;c++)a[c]=e.min(t[c]).value,o[c]=e.max(t[c]).value;for(var d=0;d<r;d++){l=[];for(var u=0;u<n;u++)l[u]=Math.random()*(o[u]-a[u])+a[u];s[d]=l}return s},Tf=function(e,r,t,n,a){for(var o=1/0,s=0,l=0;l<r.length;l++){var c=Ps(t,e,r[l],n,a);c<o&&(o=c,s=l)}return s},Mf=function(e,r,t){for(var n=[],a=null,o=0;o<r.length;o++)a=r[o],t[a.id()]===e&&n.push(a);return n},Cy=function(e,r,t){return Math.abs(r-e)<=t},Ey=function(e,r,t){for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++){var o=Math.abs(e[n][a]-r[n][a]);if(o>t)return!1}return!0},ky=function(e,r,t){for(var n=0;n<t;n++)if(e===r[n])return!0;return!1},ih=function(e,r){var t=new Array(r);if(e.length<50)for(var n=0;n<r;n++){for(var a=e[Math.floor(Math.random()*e.length)];ky(a,t,n);)a=e[Math.floor(Math.random()*e.length)];t[n]=a}else for(var o=0;o<r;o++)t[o]=e[Math.floor(Math.random()*e.length)];return t},rh=function(e,r,t){for(var n=0,a=0;a<r.length;a++)n+=Ps("manhattan",r[a],e,t,"kMedoids");return n},Dy=function(e){var r=this.cy(),t=this.nodes(),n=null,a=Hc(e),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=sc(t,a.k,a.attributes)):Lt(a.testCentroids)==="object"?l=a.testCentroids:l=sc(t,a.k,a.attributes):l=sc(t,a.k,a.attributes);for(var c=!0,d=0;c&&d<a.maxIterations;){for(var u=0;u<t.length;u++)n=t[u],s[n.id()]=Tf(n,l,a.distance,a.attributes,"kMeans");c=!1;for(var h=0;h<a.k;h++){var m=Mf(h,t,s);if(m.length!==0){for(var f=a.attributes.length,g=l[h],v=new Array(f),p=new Array(f),y=0;y<f;y++){p[y]=0;for(var b=0;b<m.length;b++)n=m[b],p[y]+=a.attributes[y](n);v[y]=p[y]/m.length,Cy(v[y],g[y],a.sensitivityThreshold)||(c=!0)}l[h]=v,o[h]=r.collection(m)}}d++}return o},Sy=function(e){var r=this.cy(),t=this.nodes(),n=null,a=Hc(e),o=new Array(a.k),s,l={},c,d=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Lt(a.testCentroids)==="object"?s=a.testCentroids:s=ih(t,a.k)):s=ih(t,a.k);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var m=0;m<t.length;m++)n=t[m],l[n.id()]=Tf(n,s,a.distance,a.attributes,"kMedoids");u=!1;for(var f=0;f<s.length;f++){var g=Mf(f,t,l);if(g.length!==0){d[f]=rh(s[f],g,a.attributes);for(var v=0;v<g.length;v++)c=rh(g[v],g,a.attributes),c<d[f]&&(d[f]=c,s[f]=g[v],u=!0);o[f]=r.collection(g)}}h++}return o},Iy=function(e,r,t,n,a){for(var o,s,l=0;l<r.length;l++)for(var c=0;c<e.length;c++)n[l][c]=Math.pow(t[l][c],a.m);for(var d=0;d<e.length;d++)for(var u=0;u<a.attributes.length;u++){o=0,s=0;for(var h=0;h<r.length;h++)o+=n[h][d]*a.attributes[u](r[h]),s+=n[h][d];e[d][u]=o/s}},Ay=function(e,r,t,n,a){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,l,c,d=2/(a.m-1),u=0;u<t.length;u++)for(var h=0;h<n.length;h++){s=0;for(var m=0;m<t.length;m++)l=Ps(a.distance,n[h],t[u],a.attributes,"cmeans"),c=Ps(a.distance,n[h],t[m],a.attributes,"cmeans"),s+=Math.pow(l/c,d);e[h][u]=1/s}},Ty=function(e,r,t,n){for(var a=new Array(t.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,c=0;c<r.length;c++){s=-1/0,l=-1;for(var d=0;d<r[0].length;d++)r[c][d]>s&&(s=r[c][d],l=d);a[l].push(e[c])}for(var u=0;u<a.length;u++)a[u]=n.collection(a[u]);return a},nh=function(e){var r=this.cy(),t=this.nodes(),n=Hc(e),a,o,s,l,c;l=new Array(t.length);for(var d=0;d<t.length;d++)l[d]=new Array(n.k);s=new Array(t.length);for(var u=0;u<t.length;u++)s[u]=new Array(n.k);for(var h=0;h<t.length;h++){for(var m=0,f=0;f<n.k;f++)s[h][f]=Math.random(),m+=s[h][f];for(var g=0;g<n.k;g++)s[h][g]=s[h][g]/m}o=new Array(n.k);for(var v=0;v<n.k;v++)o[v]=new Array(n.attributes.length);c=new Array(t.length);for(var p=0;p<t.length;p++)c[p]=new Array(n.k);for(var y=!0,b=0;y&&b<n.maxIterations;)y=!1,Iy(o,t,s,c,n),Ay(s,l,o,t,n),Ey(s,l,n.sensitivityThreshold)||(y=!0),b++;return a=Ty(t,s,n,r),{clusters:a,degreeOfMembership:s}},My={kMeans:Dy,kMedoids:Sy,fuzzyCMeans:nh,fcm:nh},Oy=Kt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Ry={single:"min",complete:"max"},Fy=function(e){var r=Oy(e),t=Ry[r.linkage];return t!=null&&(r.linkage=t),r},ah=function(e,r,t,n,a){for(var o=0,s=1/0,l,c=a.attributes,d=function(E,T){return Gs(a.distance,c.length,function(I){return c[I](E)},function(I){return c[I](T)},E,T)},u=0;u<e.length;u++){var h=e[u].key,m=t[h][n[h]];m<s&&(o=h,s=m)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var f=r[o],g=r[n[o]],v;a.mode==="dendrogram"?v={left:f,right:g,key:f.key}:v={value:f.value.concat(g.value),key:f.key},e[f.index]=v,e.splice(g.index,1),r[f.key]=v;for(var p=0;p<e.length;p++){var y=e[p];f.key===y.key?l=1/0:a.linkage==="min"?(l=t[f.key][y.key],t[f.key][y.key]>t[g.key][y.key]&&(l=t[g.key][y.key])):a.linkage==="max"?(l=t[f.key][y.key],t[f.key][y.key]<t[g.key][y.key]&&(l=t[g.key][y.key])):a.linkage==="mean"?l=(t[f.key][y.key]*f.size+t[g.key][y.key]*g.size)/(f.size+g.size):a.mode==="dendrogram"?l=d(y.value,f.value):l=d(y.value[0],f.value[0]),t[f.key][y.key]=t[y.key][f.key]=l}for(var b=0;b<e.length;b++){var _=e[b].key;if(n[_]===f.key||n[_]===g.key){for(var C=_,w=0;w<e.length;w++){var x=e[w].key;t[_][x]<t[_][C]&&(C=x)}n[_]=C}e[b].index=b}return f.key=g.key=f.index=g.index=null,!0},hs=function i(e,r,t){e&&(e.value?r.push(e.value):(e.left&&i(e.left,r),e.right&&i(e.right,r)))},Py=function i(e,r){if(!e)return"";if(e.left&&e.right){var t=i(e.left,r),n=i(e.right,r),a=r.add({group:"nodes",data:{id:t+","+n}});return r.add({group:"edges",data:{source:t,target:a.id()}}),r.add({group:"edges",data:{source:n,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},Ly=function i(e,r,t){if(!e)return[];var n=[],a=[],o=[];return r===0?(e.left&&hs(e.left,n),e.right&&hs(e.right,a),o=n.concat(a),[t.collection(o)]):r===1?e.value?[t.collection(e.value)]:(e.left&&hs(e.left,n),e.right&&hs(e.right,a),[t.collection(n),t.collection(a)]):e.value?[t.collection(e.value)]:(e.left&&(n=i(e.left,r-1,t)),e.right&&(a=i(e.right,r-1,t)),n.concat(a))},oh=function(e){for(var r=this.cy(),t=this.nodes(),n=Fy(e),a=n.attributes,o=function(b,_){return Gs(n.distance,a.length,function(C){return a[C](b)},function(C){return a[C](_)},b,_)},s=[],l=[],c=[],d=[],u=0;u<t.length;u++){var h={value:n.mode==="dendrogram"?t[u]:[t[u]],key:u,index:u};s[u]=h,d[u]=h,l[u]=[],c[u]=0}for(var m=0;m<s.length;m++)for(var f=0;f<=m;f++){var g=void 0;n.mode==="dendrogram"?g=m===f?1/0:o(s[m].value,s[f].value):g=m===f?1/0:o(s[m].value[0],s[f].value[0]),l[m][f]=g,l[f][m]=g,g<l[m][c[m]]&&(c[m]=f)}for(var v=ah(s,d,l,c,n);v;)v=ah(s,d,l,c,n);var p;return n.mode==="dendrogram"?(p=Ly(s[0],n.dendrogramDepth,r),n.addDendrogram&&Py(s[0],r)):(p=new Array(s.length),s.forEach(function(y,b){y.key=y.index=null,p[b]=r.collection(y.value)})),p},Ny={hierarchicalClustering:oh,hca:oh},By=Kt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Vy=function(e){var r=e.damping,t=e.preference;.5<=r&&r<1||St("Damping must range on [0.5, 1).  Got: ".concat(r));var n=["median","mean","min","max"];return n.some(function(a){return a===t})||ce(t)||St("Preference must be one of [".concat(n.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(t)),By(e)},zy=function(e,r,t,n){var a=function(s,l){return n[l](s)};return-Gs(e,n.length,function(o){return a(r,o)},function(o){return a(t,o)},r,t)},jy=function(e,r){var t=null;return r==="median"?t=Vb(e):r==="mean"?t=Bb(e):r==="min"?t=Lb(e):r==="max"?t=Nb(e):t=r,t},Hy=function(e,r,t){for(var n=[],a=0;a<e;a++)r[a*e+a]+t[a*e+a]>0&&n.push(a);return n},sh=function(e,r,t){for(var n=[],a=0;a<e;a++){for(var o=-1,s=-1/0,l=0;l<t.length;l++){var c=t[l];r[a*e+c]>s&&(o=c,s=r[a*e+c])}o>0&&n.push(o)}for(var d=0;d<t.length;d++)n[t[d]]=t[d];return n},Uy=function(e,r,t){for(var n=sh(e,r,t),a=0;a<t.length;a++){for(var o=[],s=0;s<n.length;s++)n[s]===t[a]&&o.push(s);for(var l=-1,c=-1/0,d=0;d<o.length;d++){for(var u=0,h=0;h<o.length;h++)u+=r[o[h]*e+o[d]];u>c&&(l=d,c=u)}t[a]=o[l]}return n=sh(e,r,t),n},lh=function(e){for(var r=this.cy(),t=this.nodes(),n=Vy(e),a={},o=0;o<t.length;o++)a[t[o].id()]=o;var s,l,c,d,u,h;s=t.length,l=s*s,c=new Array(l);for(var m=0;m<l;m++)c[m]=-1/0;for(var f=0;f<s;f++)for(var g=0;g<s;g++)f!==g&&(c[f*s+g]=zy(n.distance,t[f],t[g],n.attributes));d=jy(c,n.preference);for(var v=0;v<s;v++)c[v*s+v]=d;u=new Array(l);for(var p=0;p<l;p++)u[p]=0;h=new Array(l);for(var y=0;y<l;y++)h[y]=0;for(var b=new Array(s),_=new Array(s),C=new Array(s),w=0;w<s;w++)b[w]=0,_[w]=0,C[w]=0;for(var x=new Array(s*n.minIterations),D=0;D<x.length;D++)x[D]=0;var E;for(E=0;E<n.maxIterations;E++){for(var T=0;T<s;T++){for(var I=-1/0,A=-1/0,M=-1,S=0,F=0;F<s;F++)b[F]=u[T*s+F],S=h[T*s+F]+c[T*s+F],S>=I?(A=I,I=S,M=F):S>A&&(A=S);for(var O=0;O<s;O++)u[T*s+O]=(1-n.damping)*(c[T*s+O]-I)+n.damping*b[O];u[T*s+M]=(1-n.damping)*(c[T*s+M]-A)+n.damping*b[M]}for(var R=0;R<s;R++){for(var P=0,j=0;j<s;j++)b[j]=h[j*s+R],_[j]=Math.max(0,u[j*s+R]),P+=_[j];P-=_[R],_[R]=u[R*s+R],P+=_[R];for(var H=0;H<s;H++)h[H*s+R]=(1-n.damping)*Math.min(0,P-_[H])+n.damping*b[H];h[R*s+R]=(1-n.damping)*(P-_[R])+n.damping*b[R]}for(var V=0,B=0;B<s;B++){var G=h[B*s+B]+u[B*s+B]>0?1:0;x[E%n.minIterations*s+B]=G,V+=G}if(V>0&&(E>=n.minIterations-1||E==n.maxIterations-1)){for(var Q=0,ee=0;ee<s;ee++){C[ee]=0;for(var te=0;te<n.minIterations;te++)C[ee]+=x[te*s+ee];(C[ee]===0||C[ee]===n.minIterations)&&Q++}if(Q===s)break}}for(var re=Hy(s,u,h),$=Uy(s,c,re),L={},Y=0;Y<re.length;Y++)L[re[Y]]=[];for(var K=0;K<t.length;K++){var ue=a[t[K].id()],xe=$[ue];xe!=null&&L[xe].push(t[K])}for(var se=new Array(re.length),de=0;de<re.length;de++)se[de]=r.collection(L[re[de]]);return se},qy={affinityPropagation:lh,ap:lh},Wy=Kt({root:void 0,directed:!1}),Gy={hierholzer:function(e){if(!tt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var t=Wy(e),n=t.root,a=t.directed,o=this,s=!1,l,c,d;n&&(d=_e(n)?this.filter(n)[0].id():n[0].id());var u={},h={};a?o.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.indegree(!0),C=y.outdegree(!0),w=_-C,x=C-_;w==1?l?s=!0:l=b:x==1?c?s=!0:c=b:(x>1||w>1)&&(s=!0),u[b]=[],y.outgoers().forEach(function(D){D.isEdge()&&u[b].push(D.id())})}else h[b]=[void 0,y.target().id()]}):o.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.degree(!0);_%2&&(l?c?s=!0:c=b:l=b),u[b]=[],y.connectedEdges().forEach(function(C){return u[b].push(C.id())})}else h[b]=[y.source().id(),y.target().id()]});var m={found:!1,trail:void 0};if(s)return m;if(c&&l)if(a){if(d&&c!=d)return m;d=c}else{if(d&&c!=d&&l!=d)return m;d||(d=c)}else d||(d=o[0].id());var f=function(b){for(var _=b,C=[b],w,x,D;u[_].length;)w=u[_].shift(),x=h[w][0],D=h[w][1],_!=D?(u[D]=u[D].filter(function(E){return E!=w}),_=D):!a&&_!=x&&(u[x]=u[x].filter(function(E){return E!=w}),_=x),C.unshift(w),C.unshift(_);return C},g=[],v=[];for(v=f(d);v.length!=1;)u[v[0]].length==0?(g.unshift(o.getElementById(v.shift())),g.unshift(o.getElementById(v.shift()))):v=f(v.shift()).concat(v);g.unshift(o.getElementById(v.shift()));for(var p in u)if(u[p].length)return m;return m.found=!0,m.trail=this.spawn(g,!0),m}},fs=function(){var e=this,r={},t=0,n=0,a=[],o=[],s={},l=function(h,m){for(var f=o.length-1,g=[],v=e.spawn();o[f].x!=h||o[f].y!=m;)g.push(o.pop().edge),f--;g.push(o.pop().edge),g.forEach(function(p){var y=p.connectedNodes().intersection(e);v.merge(p),y.forEach(function(b){var _=b.id(),C=b.connectedEdges().intersection(e);v.merge(b),r[_].cutVertex?v.merge(C.filter(function(w){return w.isLoop()})):v.merge(C)})}),a.push(v)},c=function u(h,m,f){h===f&&(n+=1),r[m]={id:t,low:t++,cutVertex:!1};var g=e.getElementById(m).connectedEdges().intersection(e);if(g.size()===0)a.push(e.spawn(e.getElementById(m)));else{var v,p,y,b;g.forEach(function(_){v=_.source().id(),p=_.target().id(),y=v===m?p:v,y!==f&&(b=_.id(),s[b]||(s[b]=!0,o.push({x:m,y,edge:_})),y in r?r[m].low=Math.min(r[m].low,r[y].id):(u(h,y,m),r[m].low=Math.min(r[m].low,r[y].low),r[m].id<=r[y].low&&(r[m].cutVertex=!0,l(m,y))))})}};e.forEach(function(u){if(u.isNode()){var h=u.id();h in r||(n=0,c(h,h),r[h].cutVertex=n>1)}});var d=Object.keys(r).filter(function(u){return r[u].cutVertex}).map(function(u){return e.getElementById(u)});return{cut:e.spawn(d),components:a}},$y={hopcroftTarjanBiconnected:fs,htbc:fs,htb:fs,hopcroftTarjanBiconnectedComponents:fs},ms=function(){var e=this,r={},t=0,n=[],a=[],o=e.spawn(e),s=function l(c){a.push(c),r[c]={index:t,low:t++,explored:!1};var d=e.getElementById(c).connectedEdges().intersection(e);if(d.forEach(function(g){var v=g.target().id();v!==c&&(v in r||l(v),r[v].explored||(r[c].low=Math.min(r[c].low,r[v].low)))}),r[c].index===r[c].low){for(var u=e.spawn();;){var h=a.pop();if(u.merge(e.getElementById(h)),r[h].low=r[c].index,r[h].explored=!0,h===c)break}var m=u.edgesWith(u),f=u.merge(m);n.push(f),o=o.difference(f)}};return e.forEach(function(l){if(l.isNode()){var c=l.id();c in r||s(c)}}),{cut:o,components:n}},Yy={tarjanStronglyConnected:ms,tsc:ms,tscc:ms,tarjanStronglyConnectedComponents:ms},Of={};[no,Eb,kb,Sb,Ab,Mb,Fb,ay,Xn,Qn,bc,by,My,Ny,qy,Gy,$y,Yy].forEach(function(i){Ie(Of,i)});var Rf=0,Ff=1,Pf=2,yr=function i(e){if(!(this instanceof i))return new i(e);this.id="Thenable/1.0.7",this.state=Rf,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};yr.prototype={fulfill:function(e){return ch(this,Ff,"fulfillValue",e)},reject:function(e){return ch(this,Pf,"rejectReason",e)},then:function(e,r){var t=this,n=new yr;return t.onFulfilled.push(uh(e,n,"fulfill")),t.onRejected.push(uh(r,n,"reject")),Lf(t),n.proxy}};var ch=function(e,r,t,n){return e.state===Rf&&(e.state=r,e[t]=n,Lf(e)),e},Lf=function(e){e.state===Ff?dh(e,"onFulfilled",e.fulfillValue):e.state===Pf&&dh(e,"onRejected",e.rejectReason)},dh=function(e,r,t){if(e[r].length!==0){var n=e[r];e[r]=[];var a=function(){for(var s=0;s<n.length;s++)n[s](t)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},uh=function(e,r,t){return function(n){if(typeof e!="function")r[t].call(r,n);else{var a;try{a=e(n)}catch(o){r.reject(o);return}Ky(r,a)}}},Ky=function i(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var t;if(Lt(r)==="object"&&r!==null||typeof r=="function")try{t=r.then}catch(a){e.reject(a);return}if(typeof t=="function"){var n=!1;try{t.call(r,function(a){n||(n=!0,a===r?e.reject(new TypeError("circular thenable chain")):i(e,a))},function(a){n||(n=!0,e.reject(a))})}catch(a){n||e.reject(a)}return}e.fulfill(r)};yr.all=function(i){return new yr(function(e,r){for(var t=new Array(i.length),n=0,a=function(l,c){t[l]=c,n++,n===i.length&&e(t)},o=0;o<i.length;o++)(function(s){var l=i[s],c=l!=null&&l.then!=null;if(c)l.then(function(u){a(s,u)},function(u){r(u)});else{var d=l;a(s,d)}})(o)})};yr.resolve=function(i){return new yr(function(e,r){e(i)})};yr.reject=function(i){return new yr(function(e,r){r(i)})};var aa=typeof Promise<"u"?Promise:yr,yc=function(e,r,t){var n=Fc(e),a=!n,o=this._private=Ie({duration:1e3},r,t);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Ct(o.complete)&&o.completes.push(o.complete),a){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(n){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},_n=yc.prototype;Ie(_n,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,t=e.target._private.animation;e.queue?r=t.queue:r=t.current,r.push(this),vi(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,t=r.playing;return e===void 0?r.progress:(t&&this.pause(),r.progress=e,r.started=!1,t&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var t=function(c,d){var u=e[c];u!=null&&(e[c]=e[d],e[d]=u)};if(t("zoom","startZoom"),t("pan","startPan"),t("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var a=e.style[n],o=a.name,s=e.startStyle[o];e.startStyle[o]=a,e.style[n]=s}return r&&this.play(),this},promise:function(e){var r=this._private,t;switch(e){case"frame":t=r.frames;break;default:case"complete":case"completed":t=r.completes}return new aa(function(n,a){t.push(function(){n()})})}});_n.complete=_n.completed;_n.run=_n.play;_n.running=_n.playing;var Zy={animated:function(){return function(){var r=this,t=r.length!==void 0,n=t?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=n[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,t=r.length!==void 0,n=t?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<n.length;o++){var s=n[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,t){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:r,duration:r,complete:t}):this}},delayAnimation:function(){return function(r,t){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:r,duration:r,complete:t}):this}},animation:function(){return function(r,t){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this,l=!a,c=!l;if(!s.styleEnabled())return this;var d=s.style();r=Ie({},r,t);var u=Object.keys(r).length===0;if(u)return new yc(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=d.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var h=r.renderedPosition,m=s.pan(),f=s.zoom();r.position=xf(h,f,m)}if(l&&r.panBy!=null){var g=r.panBy,v=s.pan();r.pan={x:v.x+g.x,y:v.y+g.y}}var p=r.center||r.centre;if(l&&p!=null){var y=s.getCenterPan(p.eles,r.zoom);y!=null&&(r.pan=y)}if(l&&r.fit!=null){var b=r.fit,_=s.getFitViewport(b.eles||b.boundingBox,b.padding);_!=null&&(r.pan=_.pan,r.zoom=_.zoom)}if(l&&tt(r.zoom)){var C=s.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new yc(o[0],r)}},animate:function(){return function(r,t){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;t&&(r=Ie({},r,t));for(var l=0;l<o.length;l++){var c=o[l],d=c.animated()&&(r.queue===void 0||r.queue),u=c.animation(r,d?{queue:!0}:void 0);u.play()}return this}},stop:function(){return function(r,t){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var c=o[l],d=c._private,u=d.animation.current,h=0;h<u.length;h++){var m=u[h],f=m._private;t&&(f.duration=0)}r&&(d.animation.queue=[]),t||(d.animation.current=[])}return s.notify("draw"),this}}},Xy=Array.isArray,$s=Xy,Qy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jy=/^\w*$/;function e0(i,e){if($s(i))return!1;var r=typeof i;return r=="number"||r=="symbol"||r=="boolean"||i==null||po(i)?!0:Jy.test(i)||!Qy.test(i)||e!=null&&i in Object(e)}var t0=e0,i0="[object AsyncFunction]",r0="[object Function]",n0="[object GeneratorFunction]",a0="[object Proxy]";function o0(i){if(!vn(i))return!1;var e=hf(i);return e==r0||e==n0||e==i0||e==a0}var s0=o0,l0=Hs["__core-js_shared__"],lc=l0,hh=function(){var i=/[^.]+$/.exec(lc&&lc.keys&&lc.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function c0(i){return!!hh&&hh in i}var d0=c0,u0=Function.prototype,h0=u0.toString;function f0(i){if(i!=null){try{return h0.call(i)}catch{}try{return i+""}catch{}}return""}var m0=f0,p0=/[\\^$.*+?()[\]{}|]/g,v0=/^\[object .+?Constructor\]$/,g0=Function.prototype,b0=Object.prototype,y0=g0.toString,_0=b0.hasOwnProperty,x0=RegExp("^"+y0.call(_0).replace(p0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w0(i){if(!vn(i)||d0(i))return!1;var e=s0(i)?x0:v0;return e.test(m0(i))}var C0=w0;function E0(i,e){return i?.[e]}var k0=E0;function D0(i,e){var r=k0(i,e);return C0(r)?r:void 0}var Uc=D0,S0=Uc(Object,"create"),so=S0;function I0(){this.__data__=so?so(null):{},this.size=0}var A0=I0;function T0(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var M0=T0,O0="__lodash_hash_undefined__",R0=Object.prototype,F0=R0.hasOwnProperty;function P0(i){var e=this.__data__;if(so){var r=e[i];return r===O0?void 0:r}return F0.call(e,i)?e[i]:void 0}var L0=P0,N0=Object.prototype,B0=N0.hasOwnProperty;function V0(i){var e=this.__data__;return so?e[i]!==void 0:B0.call(e,i)}var z0=V0,j0="__lodash_hash_undefined__";function H0(i,e){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=so&&e===void 0?j0:e,this}var U0=H0;function oa(i){var e=-1,r=i==null?0:i.length;for(this.clear();++e<r;){var t=i[e];this.set(t[0],t[1])}}oa.prototype.clear=A0;oa.prototype.delete=M0;oa.prototype.get=L0;oa.prototype.has=z0;oa.prototype.set=U0;var fh=oa;function q0(){this.__data__=[],this.size=0}var W0=q0;function G0(i,e){return i===e||i!==i&&e!==e}var Nf=G0;function $0(i,e){for(var r=i.length;r--;)if(Nf(i[r][0],e))return r;return-1}var Ys=$0,Y0=Array.prototype,K0=Y0.splice;function Z0(i){var e=this.__data__,r=Ys(e,i);if(r<0)return!1;var t=e.length-1;return r==t?e.pop():K0.call(e,r,1),--this.size,!0}var X0=Z0;function Q0(i){var e=this.__data__,r=Ys(e,i);return r<0?void 0:e[r][1]}var J0=Q0;function e_(i){return Ys(this.__data__,i)>-1}var t_=e_;function i_(i,e){var r=this.__data__,t=Ys(r,i);return t<0?(++this.size,r.push([i,e])):r[t][1]=e,this}var r_=i_;function sa(i){var e=-1,r=i==null?0:i.length;for(this.clear();++e<r;){var t=i[e];this.set(t[0],t[1])}}sa.prototype.clear=W0;sa.prototype.delete=X0;sa.prototype.get=J0;sa.prototype.has=t_;sa.prototype.set=r_;var n_=sa,a_=Uc(Hs,"Map"),o_=a_;function s_(){this.size=0,this.__data__={hash:new fh,map:new(o_||n_),string:new fh}}var l_=s_;function c_(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var d_=c_;function u_(i,e){var r=i.__data__;return d_(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ks=u_;function h_(i){var e=Ks(this,i).delete(i);return this.size-=e?1:0,e}var f_=h_;function m_(i){return Ks(this,i).get(i)}var p_=m_;function v_(i){return Ks(this,i).has(i)}var g_=v_;function b_(i,e){var r=Ks(this,i),t=r.size;return r.set(i,e),this.size+=r.size==t?0:1,this}var y_=b_;function la(i){var e=-1,r=i==null?0:i.length;for(this.clear();++e<r;){var t=i[e];this.set(t[0],t[1])}}la.prototype.clear=l_;la.prototype.delete=f_;la.prototype.get=p_;la.prototype.has=g_;la.prototype.set=y_;var Bf=la,__="Expected a function";function qc(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(__);var r=function(){var t=arguments,n=e?e.apply(this,t):t[0],a=r.cache;if(a.has(n))return a.get(n);var o=i.apply(this,t);return r.cache=a.set(n,o)||a,o};return r.cache=new(qc.Cache||Bf),r}qc.Cache=Bf;var x_=qc,w_=500;function C_(i){var e=x_(i,function(t){return r.size===w_&&r.clear(),t}),r=e.cache;return e}var E_=C_,k_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D_=/\\(\\)?/g,S_=E_(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(k_,function(r,t,n,a){e.push(n?a.replace(D_,"$1"):t||r)}),e}),Vf=S_;function I_(i,e){for(var r=-1,t=i==null?0:i.length,n=Array(t);++r<t;)n[r]=e(i[r],r,i);return n}var zf=I_,A_=1/0,mh=ea?ea.prototype:void 0,ph=mh?mh.toString:void 0;function jf(i){if(typeof i=="string")return i;if($s(i))return zf(i,jf)+"";if(po(i))return ph?ph.call(i):"";var e=i+"";return e=="0"&&1/i==-A_?"-0":e}var T_=jf;function M_(i){return i==null?"":T_(i)}var Hf=M_;function O_(i,e){return $s(i)?i:t0(i,e)?[i]:Vf(Hf(i))}var Uf=O_,R_=1/0;function F_(i){if(typeof i=="string"||po(i))return i;var e=i+"";return e=="0"&&1/i==-R_?"-0":e}var Wc=F_;function P_(i,e){e=Uf(e,i);for(var r=0,t=e.length;i!=null&&r<t;)i=i[Wc(e[r++])];return r&&r==t?i:void 0}var L_=P_;function N_(i,e,r){var t=i==null?void 0:L_(i,e);return t===void 0?r:t}var B_=N_,V_=function(){try{var i=Uc(Object,"defineProperty");return i({},"",{}),i}catch{}}(),vh=V_;function z_(i,e,r){e=="__proto__"&&vh?vh(i,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):i[e]=r}var j_=z_,H_=Object.prototype,U_=H_.hasOwnProperty;function q_(i,e,r){var t=i[e];(!(U_.call(i,e)&&Nf(t,r))||r===void 0&&!(e in i))&&j_(i,e,r)}var W_=q_,G_=9007199254740991,$_=/^(?:0|[1-9]\d*)$/;function Y_(i,e){var r=typeof i;return e=e??G_,!!e&&(r=="number"||r!="symbol"&&$_.test(i))&&i>-1&&i%1==0&&i<e}var K_=Y_;function Z_(i,e,r,t){if(!vn(i))return i;e=Uf(e,i);for(var n=-1,a=e.length,o=a-1,s=i;s!=null&&++n<a;){var l=Wc(e[n]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(n!=o){var d=s[l];c=t?t(d,l,s):void 0,c===void 0&&(c=vn(d)?d:K_(e[n+1])?[]:{})}W_(s,l,c),s=s[l]}return i}var X_=Z_;function Q_(i,e,r){return i==null?i:X_(i,e,r)}var J_=Q_;function ex(i,e){var r=-1,t=i.length;for(e||(e=Array(t));++r<t;)e[r]=i[r];return e}var tx=ex;function ix(i){return $s(i)?zf(i,Wc):po(i)?[i]:tx(Vf(Hf(i)))}var rx=ix,nx={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(n){},beforeSet:function(n,a){},onSet:function(n){},canSet:function(n){return!0}};return e=Ie({},r,e),function(n,a){var o=e,s=this,l=s.length!==void 0,c=l?s:[s],d=l?s[0]:s;if(_e(n)){var u=n.indexOf(".")!==-1,h=u&&rx(n);if(o.allowGetting&&a===void 0){var m;return d&&(o.beforeGet(d),h&&d._private[o.field][n]===void 0?m=B_(d._private[o.field],h):m=d._private[o.field][n]),m}else if(o.allowSetting&&a!==void 0){var f=!o.immutableKeys[n];if(f){var g=ef({},n,a);o.beforeSet(s,g);for(var v=0,p=c.length;v<p;v++){var y=c[v];o.canSet(y)&&(h&&d._private[o.field][n]===void 0?J_(y._private[o.field],h,a):y._private[o.field][n]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&tt(n)){var b=n,_,C,w=Object.keys(b);o.beforeSet(s,b);for(var x=0;x<w.length;x++){_=w[x],C=b[_];var D=!o.immutableKeys[_];if(D)for(var E=0;E<c.length;E++){var T=c[E];o.canSet(T)&&(T._private[o.field][_]=C)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Ct(n)){var I=n;s.on(o.bindingEvent,I)}else if(o.allowGetting&&n===void 0){var A;return d&&(o.beforeGet(d),A=d._private[o.field]),A}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ie({},r,e),function(n){var a=e,o=this,s=o.length!==void 0,l=s?o:[o];if(_e(n)){for(var c=n.split(/\s+/),d=c.length,u=0;u<d;u++){var h=c[u];if(!Br(h)){var m=!a.immutableKeys[h];if(m)for(var f=0,g=l.length;f<g;f++)l[f]._private[a.field][h]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(n===void 0){for(var v=0,p=l.length;v<p;v++)for(var y=l[v]._private[a.field],b=Object.keys(y),_=0;_<b.length;_++){var C=b[_],w=!a.immutableKeys[C];w&&(y[C]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},ax={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(t,n){var a=this,o=Array.prototype.slice.call(arguments,0);return new aa(function(s,l){var c=function(m){a.off.apply(a,u),s(m)},d=o.concat([c]),u=d.concat([]);a.on.apply(a,d)})}}},ut={};[Zy,nx,ax].forEach(function(i){Ie(ut,i)});var ox={animate:ut.animate(),animation:ut.animation(),animated:ut.animated(),clearQueue:ut.clearQueue(),delay:ut.delay(),delayAnimation:ut.delayAnimation(),stop:ut.stop()},Cs={classes:function(e){var r=this;if(e===void 0){var t=[];return r[0]._private.classes.forEach(function(f){return t.push(f)}),t}else vt(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],a=new na(e),o=0;o<r.length;o++){for(var s=r[o],l=s._private,c=l.classes,d=!1,u=0;u<e.length;u++){var h=e[u],m=c.has(h);if(!m){d=!0;break}}d||(d=c.size!==e.length),d&&(l.classes=a,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){vt(e)||(e=e.match(/\S+/g)||[]);for(var t=this,n=r===void 0,a=[],o=0,s=t.length;o<s;o++)for(var l=t[o],c=l._private.classes,d=!1,u=0;u<e.length;u++){var h=e[u],m=c.has(h),f=!1;r||n&&!m?(c.add(h),f=!0):(!r||n&&m)&&(c.delete(h),f=!0),!d&&f&&(a.push(l),d=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),t},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var t=this;if(r==null)r=250;else if(r===0)return t;return t.addClass(e),setTimeout(function(){t.removeClass(e)},r),t}};Cs.className=Cs.classNames=Cs.classes;var et={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Pt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};et.variable="(?:[\\w-.]|(?:\\\\"+et.metaChar+"))+";et.className="(?:[\\w-]|(?:\\\\"+et.metaChar+"))+";et.value=et.string+"|"+et.number;et.id=et.variable;(function(){var i,e,r;for(i=et.comparatorOp.split("|"),r=0;r<i.length;r++)e=i[r],et.comparatorOp+="|@"+e;for(i=et.comparatorOp.split("|"),r=0;r<i.length;r++)e=i[r],!(e.indexOf("!")>=0)&&e!=="="&&(et.comparatorOp+="|\\!"+e)})();var mt=function(){return{checks:[]}},he={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},_c=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(i,e){return bg(i.selector,e.selector)}),sx=function(){for(var i={},e,r=0;r<_c.length;r++)e=_c[r],i[e.selector]=e.matches;return i}(),lx=function(e,r){return sx[e](r)},cx="("+_c.map(function(i){return i.selector}).join("|")+")",Hn=function(e){return e.replace(new RegExp("\\\\("+et.metaChar+")","g"),function(r,t){return t})},Rr=function(e,r,t){e[e.length-1]=t},xc=[{name:"group",query:!0,regex:"("+et.group+")",populate:function(e,r,t){var n=zi(t,1),a=n[0];r.checks.push({type:he.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:cx,populate:function(e,r,t){var n=zi(t,1),a=n[0];r.checks.push({type:he.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+et.id+")",populate:function(e,r,t){var n=zi(t,1),a=n[0];r.checks.push({type:he.ID,value:Hn(a)})}},{name:"className",query:!0,regex:"\\.("+et.className+")",populate:function(e,r,t){var n=zi(t,1),a=n[0];r.checks.push({type:he.CLASS,value:Hn(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+et.variable+")\\s*\\]",populate:function(e,r,t){var n=zi(t,1),a=n[0];r.checks.push({type:he.DATA_EXIST,field:Hn(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+et.variable+")\\s*("+et.comparatorOp+")\\s*("+et.value+")\\s*\\]",populate:function(e,r,t){var n=zi(t,3),a=n[0],o=n[1],s=n[2],l=new RegExp("^"+et.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:he.DATA_COMPARE,field:Hn(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+et.boolOp+")\\s*("+et.variable+")\\s*\\]",populate:function(e,r,t){var n=zi(t,2),a=n[0],o=n[1];r.checks.push({type:he.DATA_BOOL,field:Hn(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+et.meta+")\\s*("+et.comparatorOp+")\\s*("+et.number+")\\s*\\]\\]",populate:function(e,r,t){var n=zi(t,3),a=n[0],o=n[1],s=n[2];r.checks.push({type:he.META_COMPARE,field:Hn(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:et.separator,populate:function(e,r){var t=e.currentSubject,n=e.edgeCount,a=e.compoundCount,o=e[e.length-1];t!=null&&(o.subject=t,e.currentSubject=null),o.edgeCount=n,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=mt();return s}},{name:"directedEdge",separator:!0,regex:et.directedEdge,populate:function(e,r){if(e.currentSubject==null){var t=mt(),n=r,a=mt();return t.checks.push({type:he.DIRECTED_EDGE,source:n,target:a}),Rr(e,r,t),e.edgeCount++,a}else{var o=mt(),s=r,l=mt();return o.checks.push({type:he.NODE_SOURCE,source:s,target:l}),Rr(e,r,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:et.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var t=mt(),n=r,a=mt();return t.checks.push({type:he.UNDIRECTED_EDGE,nodes:[n,a]}),Rr(e,r,t),e.edgeCount++,a}else{var o=mt(),s=r,l=mt();return o.checks.push({type:he.NODE_NEIGHBOR,node:s,neighbor:l}),Rr(e,r,o),l}}},{name:"child",separator:!0,regex:et.child,populate:function(e,r){if(e.currentSubject==null){var t=mt(),n=mt(),a=e[e.length-1];return t.checks.push({type:he.CHILD,parent:a,child:n}),Rr(e,r,t),e.compoundCount++,n}else if(e.currentSubject===r){var o=mt(),s=e[e.length-1],l=mt(),c=mt(),d=mt(),u=mt();return o.checks.push({type:he.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=r.checks,r.checks=[{type:he.TRUE}],u.checks.push({type:he.TRUE}),l.checks.push({type:he.PARENT,parent:u,child:d}),Rr(e,s,o),e.currentSubject=c,e.compoundCount++,d}else{var h=mt(),m=mt(),f=[{type:he.PARENT,parent:h,child:m}];return h.checks=r.checks,r.checks=f,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:et.descendant,populate:function(e,r){if(e.currentSubject==null){var t=mt(),n=mt(),a=e[e.length-1];return t.checks.push({type:he.DESCENDANT,ancestor:a,descendant:n}),Rr(e,r,t),e.compoundCount++,n}else if(e.currentSubject===r){var o=mt(),s=e[e.length-1],l=mt(),c=mt(),d=mt(),u=mt();return o.checks.push({type:he.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=r.checks,r.checks=[{type:he.TRUE}],u.checks.push({type:he.TRUE}),l.checks.push({type:he.ANCESTOR,ancestor:u,descendant:d}),Rr(e,s,o),e.currentSubject=c,e.compoundCount++,d}else{var h=mt(),m=mt(),f=[{type:he.ANCESTOR,ancestor:h,descendant:m}];return h.checks=r.checks,r.checks=f,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:et.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ht("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var t=e[e.length-1],n=t.checks[0],a=n==null?null:n.type;a===he.DIRECTED_EDGE?n.type=he.NODE_TARGET:a===he.UNDIRECTED_EDGE&&(n.type=he.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];xc.forEach(function(i){return i.regexObj=new RegExp("^"+i.regex)});var dx=function(e){for(var r,t,n,a=0;a<xc.length;a++){var o=xc[a],s=o.name,l=e.match(o.regexObj);if(l!=null){t=l,r=o,n=s;var c=l[0];e=e.substring(c.length);break}}return{expr:r,match:t,name:n,remaining:e}},ux=function(e){var r=e.match(/^\s+/);if(r){var t=r[0];e=e.substring(t.length)}return e},hx=function(e){var r=this,t=r.inputText=e,n=r[0]=mt();for(r.length=1,t=ux(t);;){var a=dx(t);if(a.expr==null)return ht("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(r,n,o);if(s===!1)return!1;if(s!=null&&(n=s),t=a.remaining,t.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var d=r[c];if(d.compoundCount>0&&d.edgeCount>0)return ht("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return ht("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&ht("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},fx=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(d){return d??""},r=function(d){return _e(d)?'"'+d+'"':e(d)},t=function(d){return" "+d+" "},n=function(d,u){var h=d.type,m=d.value;switch(h){case he.GROUP:{var f=e(m);return f.substring(0,f.length-1)}case he.DATA_COMPARE:{var g=d.field,v=d.operator;return"["+g+t(e(v))+r(m)+"]"}case he.DATA_BOOL:{var p=d.operator,y=d.field;return"["+e(p)+y+"]"}case he.DATA_EXIST:{var b=d.field;return"["+b+"]"}case he.META_COMPARE:{var _=d.operator,C=d.field;return"[["+C+t(e(_))+r(m)+"]]"}case he.STATE:return m;case he.ID:return"#"+m;case he.CLASS:return"."+m;case he.PARENT:case he.CHILD:return a(d.parent,u)+t(">")+a(d.child,u);case he.ANCESTOR:case he.DESCENDANT:return a(d.ancestor,u)+" "+a(d.descendant,u);case he.COMPOUND_SPLIT:{var w=a(d.left,u),x=a(d.subject,u),D=a(d.right,u);return w+(w.length>0?" ":"")+x+D}case he.TRUE:return""}},a=function(d,u){return d.checks.reduce(function(h,m,f){return h+(u===d&&f===0?"$":"")+n(m,u)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},mx={parse:hx,toString:fx},qf=function(e,r,t){var n,a=_e(e),o=ce(e),s=_e(t),l,c,d=!1,u=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),u=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),d=!0),(a||s||d)&&(l=!a&&!o?"":""+e,c=""+t),d&&(e=l=l.toLowerCase(),t=c=c.toLowerCase()),r){case"*=":n=l.indexOf(c)>=0;break;case"$=":n=l.indexOf(c,l.length-c.length)>=0;break;case"^=":n=l.indexOf(c)===0;break;case"=":n=e===t;break;case">":h=!0,n=e>t;break;case">=":h=!0,n=e>=t;break;case"<":h=!0,n=e<t;break;case"<=":h=!0,n=e<=t;break;default:n=!1;break}return u&&(e!=null||!h)&&(n=!n),n},px=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},vx=function(e){return e!==void 0},Gc=function(e,r){return e.data(r)},gx=function(e,r){return e[r]()},It=[],yt=function(e,r){return e.checks.every(function(t){return It[t.type](t,r)})};It[he.GROUP]=function(i,e){var r=i.value;return r==="*"||r===e.group()};It[he.STATE]=function(i,e){var r=i.value;return lx(r,e)};It[he.ID]=function(i,e){var r=i.value;return e.id()===r};It[he.CLASS]=function(i,e){var r=i.value;return e.hasClass(r)};It[he.META_COMPARE]=function(i,e){var r=i.field,t=i.operator,n=i.value;return qf(gx(e,r),t,n)};It[he.DATA_COMPARE]=function(i,e){var r=i.field,t=i.operator,n=i.value;return qf(Gc(e,r),t,n)};It[he.DATA_BOOL]=function(i,e){var r=i.field,t=i.operator;return px(Gc(e,r),t)};It[he.DATA_EXIST]=function(i,e){var r=i.field;return i.operator,vx(Gc(e,r))};It[he.UNDIRECTED_EDGE]=function(i,e){var r=i.nodes[0],t=i.nodes[1],n=e.source(),a=e.target();return yt(r,n)&&yt(t,a)||yt(t,n)&&yt(r,a)};It[he.NODE_NEIGHBOR]=function(i,e){return yt(i.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&yt(i.neighbor,r)})};It[he.DIRECTED_EDGE]=function(i,e){return yt(i.source,e.source())&&yt(i.target,e.target())};It[he.NODE_SOURCE]=function(i,e){return yt(i.source,e)&&e.outgoers().some(function(r){return r.isNode()&&yt(i.target,r)})};It[he.NODE_TARGET]=function(i,e){return yt(i.target,e)&&e.incomers().some(function(r){return r.isNode()&&yt(i.source,r)})};It[he.CHILD]=function(i,e){return yt(i.child,e)&&yt(i.parent,e.parent())};It[he.PARENT]=function(i,e){return yt(i.parent,e)&&e.children().some(function(r){return yt(i.child,r)})};It[he.DESCENDANT]=function(i,e){return yt(i.descendant,e)&&e.ancestors().some(function(r){return yt(i.ancestor,r)})};It[he.ANCESTOR]=function(i,e){return yt(i.ancestor,e)&&e.descendants().some(function(r){return yt(i.descendant,r)})};It[he.COMPOUND_SPLIT]=function(i,e){return yt(i.subject,e)&&yt(i.left,e)&&yt(i.right,e)};It[he.TRUE]=function(){return!0};It[he.COLLECTION]=function(i,e){var r=i.value;return r.has(e)};It[he.FILTER]=function(i,e){var r=i.value;return r(e)};var bx=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===he.ID)return e.getElementById(r[0].checks[0].value).collection();var t=function(a){for(var o=0;o<r.length;o++){var s=r[o];if(yt(s,a))return!0}return!1};return r.text()==null&&(t=function(){return!0}),e.filter(t)},yx=function(e){for(var r=this,t=0;t<r.length;t++){var n=r[t];if(yt(n,e))return!0}return!1},_x={matches:yx,filter:bx},zr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||_e(e)&&e.match(/^\s*$/)||(vi(e)?this.addQuery({checks:[{type:he.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:he.FILTER,value:e}]}):_e(e)?this.parse(e)||(this.invalid=!0):St("A selector must be created from a string; found "))},jr=zr.prototype;[mx,_x].forEach(function(i){return Ie(jr,i)});jr.text=function(){return this.inputText};jr.size=function(){return this.length};jr.eq=function(i){return this[i]};jr.sameText=function(i){return!this.invalid&&!i.invalid&&this.text()===i.text()};jr.addQuery=function(i){this[this.length++]=i};jr.selector=jr.toString;var Lr={allAre:function(e){var r=new zr(e);return this.every(function(t){return r.matches(t)})},is:function(e){var r=new zr(e);return this.some(function(t){return r.matches(t)})},some:function(e,r){for(var t=0;t<this.length;t++){var n=r?e.apply(r,[this[t],t,this]):e(this[t],t,this);if(n)return!0}return!1},every:function(e,r){for(var t=0;t<this.length;t++){var n=r?e.apply(r,[this[t],t,this]):e(this[t],t,this);if(!n)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,t=e.length;return r!==t?!1:r===1?this[0]===e[0]:this.every(function(n){return e.hasElementWithId(n.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(t){return r.hasElementWithId(t.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(t){return r.hasElementWithId(t.id())})}};Lr.allAreNeighbours=Lr.allAreNeighbors;Lr.has=Lr.contains;Lr.equal=Lr.equals=Lr.same;var Di=function(e,r){return function(n,a,o,s){var l=n,c=this,d;if(l==null?d="":vi(l)&&l.length===1&&(d=l.id()),c.length===1&&d){var u=c[0]._private,h=u.traversalCache=u.traversalCache||{},m=h[r]=h[r]||[],f=gn(d),g=m[f];return g||(m[f]=e.call(c,n,a,o,s))}else return e.call(c,n,a,o,s)}},ra={parent:function(e){var r=[];if(this.length===1){var t=this[0]._private.parent;if(t)return t}for(var n=0;n<this.length;n++){var a=this[n],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],t=this.parent();t.nonempty();){for(var n=0;n<t.length;n++){var a=t[n];r.push(a)}t=t.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,t=0;t<this.length;t++){var n=this[t],a=n.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Di(function(i){for(var e=[],r=0;r<this.length;r++)for(var t=this[r],n=t._private.children,a=0;a<n.length;a++)e.push(n[a]);return this.spawn(e,!0).filter(i)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function t(n){for(var a=0;a<n.length;a++){var o=n[a];r.push(o),o.children().nonempty()&&t(o.children())}}return t(this.children()),this.spawn(r,!0).filter(e)}};function $c(i,e,r,t){for(var n=[],a=new na,o=i.cy(),s=o.hasCompoundNodes(),l=0;l<i.length;l++){var c=i[l];r?n.push(c):s&&t(n,a,c)}for(;n.length>0;){var d=n.shift();e(d),a.add(d.id()),s&&t(n,a,d)}return i}function Wf(i,e,r){if(r.isParent())for(var t=r._private.children,n=0;n<t.length;n++){var a=t[n];e.has(a.id())||i.push(a)}}ra.forEachDown=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $c(this,i,e,Wf)};function Gf(i,e,r){if(r.isChild()){var t=r._private.parent;e.has(t.id())||i.push(t)}}ra.forEachUp=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $c(this,i,e,Gf)};function xx(i,e,r){Gf(i,e,r),Wf(i,e,r)}ra.forEachUpAndDown=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $c(this,i,e,xx)};ra.ancestors=ra.parents;var lo,$f;lo=$f={data:ut.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ut.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ut.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ut.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ut.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ut.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};lo.attr=lo.data;lo.removeAttr=lo.removeData;var wx=$f,Zs={};function cc(i){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var t=0,n=r[0],a=n._private.edges,o=0;o<a.length;o++){var s=a[o];!e&&s.isLoop()||(t+=i(n,s))}return t}else return}}Ie(Zs,{degree:cc(function(i,e){return e.source().same(e.target())?2:1}),indegree:cc(function(i,e){return e.target().same(i)?1:0}),outdegree:cc(function(i,e){return e.source().same(i)?1:0})});function Un(i,e){return function(r){for(var t,n=this.nodes(),a=0;a<n.length;a++){var o=n[a],s=o[i](r);s!==void 0&&(t===void 0||e(s,t))&&(t=s)}return t}}Ie(Zs,{minDegree:Un("degree",function(i,e){return i<e}),maxDegree:Un("degree",function(i,e){return i>e}),minIndegree:Un("indegree",function(i,e){return i<e}),maxIndegree:Un("indegree",function(i,e){return i>e}),minOutdegree:Un("outdegree",function(i,e){return i<e}),maxOutdegree:Un("outdegree",function(i,e){return i>e})});Ie(Zs,{totalDegree:function(e){for(var r=0,t=this.nodes(),n=0;n<t.length;n++)r+=t[n].degree(e);return r}});var Ui,Yf,Kf=function(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(!a.locked()){var o=a._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,t),a.dirtyBoundingBoxCache()}}},gh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Kf(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ui=Yf={position:ut.data(gh),silentPosition:ut.data(Ie({},gh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Kf(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(tt(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var t=e,n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=t(o,a))&&(r?o.silentPosition(s):o.position(s))}n.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,t){var n;if(tt(e)?(n={x:ce(e.x)?e.x:0,y:ce(e.y)?e.y:0},t=r):_e(e)&&ce(r)&&(n={x:0,y:0},n[e]=r),n!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),c={x:l.x+n.x,y:l.y+n.y};t?s.silentPosition(c):s.position(c)}}a.endBatch()}return this},silentShift:function(e,r){return tt(e)?this.shift(e,!0):_e(e)&&ce(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var t=this[0],n=this.cy(),a=n.zoom(),o=n.pan(),s=tt(e)?e:void 0,l=s!==void 0||r!==void 0&&_e(e);if(t&&t.isNode())if(l)for(var c=0;c<this.length;c++){var d=this[c];r!==void 0?d.position(e,(r-o[e])/a):s!==void 0&&d.position(xf(s,a,o))}else{var u=t.position();return s=Ws(u,a,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,r){var t=this[0],n=this.cy(),a=tt(e)?e:void 0,o=a!==void 0||r!==void 0&&_e(e),s=n.hasCompoundNodes();if(t&&t.isNode())if(o)for(var l=0;l<this.length;l++){var c=this[l],d=s?c.parent():null,u=d&&d.length>0,h=u;u&&(d=d[0]);var m=h?d.position():{x:0,y:0};r!==void 0?c.position(e,r+m[e]):a!==void 0&&c.position({x:a.x+m.x,y:a.y+m.y})}else{var f=t.position(),g=s?t.parent():null,v=g&&g.length>0,p=v;v&&(g=g[0]);var y=p?g.position():{x:0,y:0};return a={x:f.x-y.x,y:f.y-y.y},e===void 0?a:a[e]}else if(!o)return;return this}};Ui.modelPosition=Ui.point=Ui.position;Ui.modelPositions=Ui.points=Ui.positions;Ui.renderedPoint=Ui.renderedPosition;Ui.relativePoint=Ui.relativePosition;var Cx=Yf,Jn,Ur;Jn=Ur={};Ur.renderedBoundingBox=function(i){var e=this.boundingBox(i),r=this.cy(),t=r.zoom(),n=r.pan(),a=e.x1*t+n.x,o=e.x2*t+n.x,s=e.y1*t+n.y,l=e.y2*t+n.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};Ur.dirtyCompoundBoundsCache=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var t=r._private;t.compoundBoundsClean=!1,t.bbCache=null,i||r.emitAndNotify("bounds")}}),this)};Ur.updateCompoundBounds=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!i&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},u=l.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),h=s.position;(u.w===0||u.h===0)&&(u={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},u.x1=h.x-u.w/2,u.x2=h.x+u.w/2,u.y1=h.y-u.h/2,u.y2=h.y+u.h/2);function m(E,T,I){var A=0,M=0,S=T+I;return E>0&&S>0&&(A=T/S*E,M=I/S*E),{biasDiff:A,biasComplementDiff:M}}function f(E,T,I,A){if(I.units==="%")switch(A){case"width":return E>0?I.pfValue*E:0;case"height":return T>0?I.pfValue*T:0;case"average":return E>0&&T>0?I.pfValue*(E+T)/2:0;case"min":return E>0&&T>0?E>T?I.pfValue*T:I.pfValue*E:0;case"max":return E>0&&T>0?E>T?I.pfValue*E:I.pfValue*T:0;default:return 0}else return I.units==="px"?I.pfValue:0}var g=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(g=g*100/d.width.val);var v=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(v=v*100/d.width.val);var p=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(p=p*100/d.height.val);var y=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(y=y*100/d.height.val);var b=m(d.width.val-u.w,g,v),_=b.biasDiff,C=b.biasComplementDiff,w=m(d.height.val-u.h,p,y),x=w.biasDiff,D=w.biasComplementDiff;s.autoPadding=f(u.w,u.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(u.w,d.width.val),h.x=(-_+u.x1+u.x2+C)/2,s.autoHeight=Math.max(u.h,d.height.val),h.y=(-x+u.y1+u.y2+D)/2}for(var t=0;t<this.length;t++){var n=this[t],a=n._private;(!a.compoundBoundsClean||i)&&(r(n),e.batching()||(a.compoundBoundsClean=!0))}return this};var ki=function(e){return e===1/0||e===-1/0?0:e},ji=function(e,r,t,n,a){n-r===0||a-t===0||r==null||t==null||n==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=t<e.y1?t:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},hn=function(e,r){return r==null?e:ji(e,r.x1,r.y1,r.x2,r.y2)},Wa=function(e,r,t){return Hi(e,r,t)},ps=function(e,r,t){if(!r.cy().headless()){var n=r._private,a=n.rstyle,o=a.arrowWidth/2,s=r.pstyle(t+"-arrow-shape").value,l,c;if(s!=="none"){t==="source"?(l=a.srcX,c=a.srcY):t==="target"?(l=a.tgtX,c=a.tgtY):(l=a.midX,c=a.midY);var d=n.arrowBounds=n.arrowBounds||{},u=d[t]=d[t]||{};u.x1=l-o,u.y1=c-o,u.x2=l+o,u.y2=c+o,u.w=u.x2-u.x1,u.h=u.y2-u.y1,xs(u,1),ji(e,u.x1,u.y1,u.x2,u.y2)}}},dc=function(e,r,t){if(!r.cy().headless()){var n;t?n=t+"-":n="";var a=r._private,o=a.rstyle,s=r.pstyle(n+"label").strValue;if(s){var l=r.pstyle("text-halign"),c=r.pstyle("text-valign"),d=Wa(o,"labelWidth",t),u=Wa(o,"labelHeight",t),h=Wa(o,"labelX",t),m=Wa(o,"labelY",t),f=r.pstyle(n+"text-margin-x").pfValue,g=r.pstyle(n+"text-margin-y").pfValue,v=r.isEdge(),p=r.pstyle(n+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,_=b/2,C=r.pstyle("text-background-padding").pfValue,w=2,x=u,D=d,E=D/2,T=x/2,I,A,M,S;if(v)I=h-E,A=h+E,M=m-T,S=m+T;else{switch(l.value){case"left":I=h-D,A=h;break;case"center":I=h-E,A=h+E;break;case"right":I=h,A=h+D;break}switch(c.value){case"top":M=m-x,S=m;break;case"center":M=m-T,S=m+T;break;case"bottom":M=m,S=m+x;break}}I+=f-Math.max(y,_)-C-w,A+=f+Math.max(y,_)+C+w,M+=g-Math.max(y,_)-C-w,S+=g+Math.max(y,_)+C+w;var F=t||"main",O=a.labelBounds,R=O[F]=O[F]||{};R.x1=I,R.y1=M,R.x2=A,R.y2=S,R.w=A-I,R.h=S-M;var P=v&&p.strValue==="autorotate",j=p.pfValue!=null&&p.pfValue!==0;if(P||j){var H=P?Wa(a.rstyle,"labelAngle",t):p.pfValue,V=Math.cos(H),B=Math.sin(H),G=(I+A)/2,Q=(M+S)/2;if(!v){switch(l.value){case"left":G=A;break;case"right":G=I;break}switch(c.value){case"top":Q=S;break;case"bottom":Q=M;break}}var ee=function(xe,se){return xe=xe-G,se=se-Q,{x:xe*V-se*B+G,y:xe*B+se*V+Q}},te=ee(I,M),re=ee(I,S),$=ee(A,M),L=ee(A,S);I=Math.min(te.x,re.x,$.x,L.x),A=Math.max(te.x,re.x,$.x,L.x),M=Math.min(te.y,re.y,$.y,L.y),S=Math.max(te.y,re.y,$.y,L.y)}var Y=F+"Rot",K=O[Y]=O[Y]||{};K.x1=I,K.y1=M,K.x2=A,K.y2=S,K.w=A-I,K.h=S-M,ji(e,I,M,A,S),ji(a.labelBounds.all,I,M,A,S)}return e}},Ex=function(e,r){if(!r.cy().headless()){var t=r.pstyle("outline-opacity").value,n=r.pstyle("outline-width").value;if(t>0&&n>0){var a=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,s=n+a,l=(e.w+s*2)/e.w,c=(e.h+s*2)/e.h,d=0,u=0;["diamond","pentagon","round-triangle"].includes(o)?(l=(e.w+s*2.4)/e.w,u=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?l=(e.w+s*2.4)/e.w:o==="star"?(l=(e.w+s*2.8)/e.w,c=(e.h+s*2.6)/e.h,u=-s/3.8):o==="triangle"?(l=(e.w+s*2.8)/e.w,c=(e.h+s*2.4)/e.h,u=-s/1.4):o==="vee"&&(l=(e.w+s*4.4)/e.w,c=(e.h+s*3.8)/e.h,u=-s*.5);var h=e.h*c-e.h,m=e.w*l-e.w;if(ws(e,[Math.ceil(h/2),Math.ceil(m/2)]),d!=0||u!==0){var f=Wb(e,d,u);Cf(e,f)}}}},kx=function(e,r){var t=e._private.cy,n=t.styleEnabled(),a=t.headless(),o=mi(),s=e._private,l=e.isNode(),c=e.isEdge(),d,u,h,m,f,g,v=s.rstyle,p=l&&n?e.pstyle("bounds-expansion").pfValue:[0],y=function(fe){return fe.pstyle("display").value!=="none"},b=!n||y(e)&&(!c||y(e.source())&&y(e.target()));if(b){var _=0,C=0;n&&r.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(C=e.pstyle("overlay-padding").value));var w=0,x=0;n&&r.includeUnderlays&&(w=e.pstyle("underlay-opacity").value,w!==0&&(x=e.pstyle("underlay-padding").value));var D=Math.max(C,x),E=0,T=0;if(n&&(E=e.pstyle("width").pfValue,T=E/2),l&&r.includeNodes){var I=e.position();f=I.x,g=I.y;var A=e.outerWidth(),M=A/2,S=e.outerHeight(),F=S/2;d=f-M,u=f+M,h=g-F,m=g+F,ji(o,d,h,u,m),n&&r.includeOutlines&&Ex(o,e)}else if(c&&r.includeEdges)if(n&&!a){var O=e.pstyle("curve-style").strValue;if(d=Math.min(v.srcX,v.midX,v.tgtX),u=Math.max(v.srcX,v.midX,v.tgtX),h=Math.min(v.srcY,v.midY,v.tgtY),m=Math.max(v.srcY,v.midY,v.tgtY),d-=T,u+=T,h-=T,m+=T,ji(o,d,h,u,m),O==="haystack"){var R=v.haystackPts;if(R&&R.length===2){if(d=R[0].x,h=R[0].y,u=R[1].x,m=R[1].y,d>u){var P=d;d=u,u=P}if(h>m){var j=h;h=m,m=j}ji(o,d-T,h-T,u+T,m+T)}}else if(O==="bezier"||O==="unbundled-bezier"||O.endsWith("segments")||O.endsWith("taxi")){var H;switch(O){case"bezier":case"unbundled-bezier":H=v.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":H=v.linePts;break}if(H!=null)for(var V=0;V<H.length;V++){var B=H[V];d=B.x-T,u=B.x+T,h=B.y-T,m=B.y+T,ji(o,d,h,u,m)}}}else{var G=e.source(),Q=G.position(),ee=e.target(),te=ee.position();if(d=Q.x,u=te.x,h=Q.y,m=te.y,d>u){var re=d;d=u,u=re}if(h>m){var $=h;h=m,m=$}d-=T,u+=T,h-=T,m+=T,ji(o,d,h,u,m)}if(n&&r.includeEdges&&c&&(ps(o,e,"mid-source"),ps(o,e,"mid-target"),ps(o,e,"source"),ps(o,e,"target")),n){var L=e.pstyle("ghost").value==="yes";if(L){var Y=e.pstyle("ghost-offset-x").pfValue,K=e.pstyle("ghost-offset-y").pfValue;ji(o,o.x1+Y,o.y1+K,o.x2+Y,o.y2+K)}}var ue=s.bodyBounds=s.bodyBounds||{};Zu(ue,o),ws(ue,p),xs(ue,1),n&&(d=o.x1,u=o.x2,h=o.y1,m=o.y2,ji(o,d-D,h-D,u+D,m+D));var xe=s.overlayBounds=s.overlayBounds||{};Zu(xe,o),ws(xe,p),xs(xe,1);var se=s.labelBounds=s.labelBounds||{};se.all!=null?qb(se.all):se.all=mi(),n&&r.includeLabels&&(r.includeMainLabels&&dc(o,e,null),c&&(r.includeSourceLabels&&dc(o,e,"source"),r.includeTargetLabels&&dc(o,e,"target")))}return o.x1=ki(o.x1),o.y1=ki(o.y1),o.x2=ki(o.x2),o.y2=ki(o.y2),o.w=ki(o.x2-o.x1),o.h=ki(o.y2-o.y1),o.w>0&&o.h>0&&b&&(ws(o,p),xs(o,1)),o},Zf=function(e){var r=0,t=function(o){return(o?1:0)<<r++},n=0;return n+=t(e.incudeNodes),n+=t(e.includeEdges),n+=t(e.includeLabels),n+=t(e.includeMainLabels),n+=t(e.includeSourceLabels),n+=t(e.includeTargetLabels),n+=t(e.includeOverlays),n+=t(e.includeOutlines),n},Xf=function(e){if(e.isEdge()){var r=e.source().position(),t=e.target().position(),n=function(o){return Math.round(o)};return ub([n(r.x),n(r.y),n(t.x),n(t.y)])}else return 0},bh=function(e,r){var t=e._private,n,a=e.isEdge(),o=r==null?yh:Zf(r),s=o===yh,l=Xf(e),c=t.bbCachePosKey===l,d=r.useCache&&c,u=function(g){return g._private.bbCache==null||g._private.styleDirty},h=!d||u(e)||a&&u(e.source())||u(e.target());if(h?(c||e.recalculateRenderedStyle(d),n=kx(e,co),t.bbCache=n,t.bbCachePosKey=l):n=t.bbCache,!s){var m=e.isNode();n=mi(),(r.includeNodes&&m||r.includeEdges&&!m)&&(r.includeOverlays?hn(n,t.overlayBounds):hn(n,t.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?hn(n,t.labelBounds.all):(r.includeMainLabels&&hn(n,t.labelBounds.mainRot),r.includeSourceLabels&&hn(n,t.labelBounds.sourceRot),r.includeTargetLabels&&hn(n,t.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},co={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},yh=Zf(co),_h=Kt(co);Ur.boundingBox=function(i){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(i===void 0||i.useCache===void 0||i.useCache===!0))i===void 0?i=co:i=_h(i),e=bh(this[0],i);else{e=mi(),i=i||co;var r=_h(i),t=this,n=t.cy(),a=n.styleEnabled();if(a)for(var o=0;o<t.length;o++){var s=t[o],l=s._private,c=Xf(s),d=l.bbCachePosKey===c,u=r.useCache&&d&&!l.styleDirty;s.recalculateRenderedStyle(u)}this.updateCompoundBounds(!i.useCache);for(var h=0;h<t.length;h++){var m=t[h];hn(e,bh(m,r))}}return e.x1=ki(e.x1),e.y1=ki(e.y1),e.x2=ki(e.x2),e.y2=ki(e.y2),e.w=ki(e.x2-e.x1),e.h=ki(e.y2-e.y1),e};Ur.dirtyBoundingBoxCache=function(){for(var i=0;i<this.length;i++){var e=this[i]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Ur.boundingBoxAt=function(i){var e=this.nodes(),r=this.cy(),t=r.hasCompoundNodes(),n=r.collection();if(t&&(n=e.filter(function(c){return c.isParent()}),e=e.not(n)),tt(i)){var a=i;i=function(){return a}}var o=function(d,u){return d._private.bbAtOldPos=i(d,u)},s=function(d){return d._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(i),t&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var l=Ub(this.boundingBox({useCache:!1}));return e.silentPositions(s),t&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),r.endBatch(),l};Jn.boundingbox=Jn.bb=Jn.boundingBox;Jn.renderedBoundingbox=Jn.renderedBoundingBox;var Dx=Ur,Xa,go;Xa=go={};var Qf=function(e){e.uppercaseName=Uu(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Uu(e.outerName),Xa[e.name]=function(){var t=this[0],n=t._private,a=n.cy,o=a._private.styleEnabled;if(t)if(o){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var s=t.pstyle(e.name);switch(s.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Xa["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private,a=n.cy,o=a._private.styleEnabled;if(t)if(o){var s=t[e.name](),l=t.pstyle("border-width").pfValue,c=2*t.padding();return s+l+c}else return 1},Xa["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var n=t[e.name]();return n*this.cy().zoom()}},Xa["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var n=t[e.outerName]();return n*this.cy().zoom()}}};Qf({name:"width"});Qf({name:"height"});go.padding=function(){var i=this[0],e=i._private;return i.isParent()?(i.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:i.pstyle("padding").pfValue):i.pstyle("padding").pfValue};go.paddedHeight=function(){var i=this[0];return i.height()+2*i.padding()};go.paddedWidth=function(){var i=this[0];return i.width()+2*i.padding()};var Sx=go,Ix=function(e,r){if(e.isEdge())return r(e)},Ax=function(e,r){if(e.isEdge()){var t=e.cy();return Ws(r(e),t.zoom(),t.pan())}},Tx=function(e,r){if(e.isEdge()){var t=e.cy(),n=t.pan(),a=t.zoom();return r(e).map(function(o){return Ws(o,a,n)})}},Mx=function(e){return e.renderer().getControlPoints(e)},Ox=function(e){return e.renderer().getSegmentPoints(e)},Rx=function(e){return e.renderer().getSourceEndpoint(e)},Fx=function(e){return e.renderer().getTargetEndpoint(e)},Px=function(e){return e.renderer().getEdgeMidpoint(e)},xh={controlPoints:{get:Mx,mult:!0},segmentPoints:{get:Ox,mult:!0},sourceEndpoint:{get:Rx},targetEndpoint:{get:Fx},midpoint:{get:Px}},Lx=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Nx=Object.keys(xh).reduce(function(i,e){var r=xh[e],t=Lx(e);return i[e]=function(){return Ix(this,r.get)},r.mult?i[t]=function(){return Tx(this,r.get)}:i[t]=function(){return Ax(this,r.get)},i},{}),Bx=Ie({},Cx,Dx,Sx,Nx);var Jf=function(e,r){this.recycle(e,r)};function Ga(){return!1}function vs(){return!0}Jf.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ga,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?vs:Ga):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var t=this.position,n=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:t.x*n+a.x,y:t.y*n+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=vs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=vs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=vs,this.stopPropagation()},isDefaultPrevented:Ga,isPropagationStopped:Ga,isImmediatePropagationStopped:Ga};var em=/^([^.]+)(\.(?:[^.]+))?$/,Vx=".*",tm={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},wh=Object.keys(tm),zx={};function Xs(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zx,e=arguments.length>1?arguments[1]:void 0,r=0;r<wh.length;r++){var t=wh[r];this[t]=i[t]||tm[t]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Hr=Xs.prototype,im=function(e,r,t,n,a,o,s){Ct(n)&&(a=n,n=null),s&&(o==null?o=s:o=Ie({},o,s));for(var l=vt(t)?t:t.split(/\s+/),c=0;c<l.length;c++){var d=l[c];if(!Br(d)){var u=d.match(em);if(u){var h=u[1],m=u[2]?u[2]:null,f=r(e,d,h,m,n,a,o);if(f===!1)break}}}},Ch=function(e,r){return e.addEventFields(e.context,r),new Jf(r.type,r)},jx=function(e,r,t){if(sg(t)){r(e,t);return}else if(tt(t)){r(e,Ch(e,t));return}for(var n=vt(t)?t:t.split(/\s+/),a=0;a<n.length;a++){var o=n[a];if(!Br(o)){var s=o.match(em);if(s){var l=s[1],c=s[2]?s[2]:null,d=Ch(e,{type:l,namespace:c,target:e.context});r(e,d)}}}};Hr.on=Hr.addListener=function(i,e,r,t,n){return im(this,function(a,o,s,l,c,d,u){Ct(d)&&a.listeners.push({event:o,callback:d,type:s,namespace:l,qualifier:c,conf:u})},i,e,r,t,n),this};Hr.one=function(i,e,r,t){return this.on(i,e,r,t,{one:!0})};Hr.removeListener=Hr.off=function(i,e,r,t){var n=this;this.emitting!==0&&(this.listeners=vb(this.listeners));for(var a=this.listeners,o=function(c){var d=a[c];im(n,function(u,h,m,f,g,v){if((d.type===m||i==="*")&&(!f&&d.namespace!==".*"||d.namespace===f)&&(!g||u.qualifierCompare(d.qualifier,g))&&(!v||d.callback===v))return a.splice(c,1),!1},i,e,r,t)},s=a.length-1;s>=0;s--)o(s);return this};Hr.removeAllListeners=function(){return this.removeListener("*")};Hr.emit=Hr.trigger=function(i,e,r){var t=this.listeners,n=t.length;return this.emitting++,vt(e)||(e=[e]),jx(this,function(a,o){r!=null&&(t=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],n=t.length);for(var s=function(d){var u=t[d];if(u.type===o.type&&(!u.namespace||u.namespace===o.namespace||u.namespace===Vx)&&a.eventMatches(a.context,u,o)){var h=[o];e!=null&&bb(h,e),a.beforeEmit(a.context,u,o),u.conf&&u.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==u}));var m=a.callbackContext(a.context,u,o),f=u.callback.apply(m,h);a.afterEmit(a.context,u,o),f===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<n;l++)s(l);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},i),this.emitting--,this};var Hx={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,t){var n=r.qualifier;return n!=null?e!==t.target&&mo(t.target)&&n.matches(t.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,t){return r.qualifier!=null?t.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},gs=function(e){return _e(e)?new zr(e):e},rm={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],t=r._private;t.emitter||(t.emitter=new Xs(Hx,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,t){for(var n=gs(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,n,t)}return this},removeListener:function(e,r,t){for(var n=gs(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,n,t)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,t){for(var n=gs(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,n,t)}return this},once:function(e,r,t){for(var n=gs(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,n,t,{once:!0,onceCollection:this})}},emit:function(e,r){for(var t=0;t<this.length;t++){var n=this[t];n.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ut.eventAliasesOn(rm);var nm={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),t=0;t<this.length;t++){var n=this[t];n.isNode()?e.push(n):r.push(n)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(_e(e)||vi(e))return new zr(e).filter(this);if(Ct(e)){for(var t=this.spawn(),n=this,a=0;a<n.length;a++){var o=n[a],s=r?e.apply(r,[o,a,n]):e(o,a,n);s&&t.push(o)}return t}return this.spawn()},not:function(e){if(e){_e(e)&&(e=this.filter(e));for(var r=this.spawn(),t=0;t<this.length;t++){var n=this[t],a=e.has(n);a||r.push(n)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(_e(e)){var r=e;return this.filter(r)}for(var t=this.spawn(),n=this,a=e,o=this.length<e.length,s=o?n:a,l=o?a:n,c=0;c<s.length;c++){var d=s[c];l.has(d)&&t.push(d)}return t},xor:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var t=this.spawn(),n=this,a=e,o=function(l,c){for(var d=0;d<l.length;d++){var u=l[d],h=u._private.data.id,m=c.hasElementWithId(h);m||t.push(u)}};return o(n,a),o(a,n),t},diff:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var t=this.spawn(),n=this.spawn(),a=this.spawn(),o=this,s=e,l=function(d,u,h){for(var m=0;m<d.length;m++){var f=d[m],g=f._private.data.id,v=u.hasElementWithId(g);v?a.merge(f):h.push(f)}};return l(o,s,t),l(s,o,n),{left:t,right:n,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(_e(e)){var t=e;e=r.mutableElements().filter(t)}for(var n=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],s=!this.has(o);s&&n.push(o)}return n},merge:function(e){var r=this._private,t=r.cy;if(!e)return this;if(e&&_e(e)){var n=e;e=t.mutableElements().filter(n)}for(var a=r.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,c=!a.has(l);if(c){var d=this.length++;this[d]=s,a.set(l,{ele:s,index:d})}}return this},unmergeAt:function(e){var r=this[e],t=r.id(),n=this._private,a=n.map;this[e]=void 0,a.delete(t);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],c=l._private.data.id;this[s]=void 0,this[e]=l,a.set(c,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,t=e._private.data.id,n=r.map,a=n.get(t);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&_e(e)){var t=e;e=r.mutableElements().filter(t)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var t=this[r];e(t)&&this.unmergeAt(r)}return this},map:function(e,r){for(var t=[],n=this,a=0;a<n.length;a++){var o=n[a],s=r?e.apply(r,[o,a,n]):e(o,a,n);t.push(s)}return t},reduce:function(e,r){for(var t=r,n=this,a=0;a<n.length;a++)t=e(t,n[a],a,n);return t},max:function(e,r){for(var t=-1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l>t&&(t=l,n=s)}return{value:t,ele:n}},min:function(e,r){for(var t=1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=r?e.apply(r,[s,o,a]):e(s,o,a);l<t&&(t=l,n=s)}return{value:t,ele:n}}},at=nm;at.u=at["|"]=at["+"]=at.union=at.or=at.add;at["\\"]=at["!"]=at["-"]=at.difference=at.relativeComplement=at.subtract=at.not;at.n=at["&"]=at["."]=at.and=at.intersection=at.intersect;at["^"]=at["(+)"]=at["(-)"]=at.symmetricDifference=at.symdiff=at.xor;at.fnFilter=at.filterFn=at.stdFilter=at.filter;at.complement=at.abscomp=at.absoluteComplement;var Ux={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},am=function(e,r){var t=e.cy(),n=t.hasCompoundNodes();function a(d){var u=d.pstyle("z-compound-depth");return u.value==="auto"?n?d.zDepth():0:u.value==="bottom"?-1:u.value==="top"?Lc:0}var o=a(e)-a(r);if(o!==0)return o;function s(d){var u=d.pstyle("z-index-compare");return u.value==="auto"&&d.isNode()?1:0}var l=s(e)-s(r);if(l!==0)return l;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},Ls={forEach:function(e,r){if(Ct(e))for(var t=this.length,n=0;n<t;n++){var a=this[n],o=r?e.apply(r,[a,n,this]):e(a,n,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var t=[],n=this.length;r==null&&(r=n),e==null&&(e=0),e<0&&(e=n+e),r<0&&(r=n+r);for(var a=e;a>=0&&a<r&&a<n;a++)t.push(this[a]);return this.spawn(t)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(am)},zDepth:function(){var e=this[0];if(e){var r=e._private,t=r.group;if(t==="nodes"){var n=r.data.parent?e.parents().size():0;return e.isParent()?n:Lc-1}else{var a=r.source,o=r.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};Ls.each=Ls.forEach;var qx=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Lt(Symbol))!=e&&Lt(Symbol.iterator)!=e;r&&(Ls[Symbol.iterator]=function(){var t=this,n={value:void 0,done:!1},a=0,o=this.length;return ef({next:function(){return a<o?n.value=t[a++]:(n.value=void 0,n.done=!0),n}},Symbol.iterator,function(){return this})})};qx();var Wx=Kt({nodeDimensionsIncludeLabels:!1}),Es={layoutDimensions:function(e){e=Wx(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var t=this.boundingBox();r={w:t.w,h:t.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,t){var n=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),o=r.eles,s=function(w){return w.id()},l=to(t,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(w,x,D){var E={x:x.x1+x.w/2,y:x.y1+x.h/2},T={x:(D.x-E.x)*w,y:(D.y-E.y)*w};return{x:E.x+T.x,y:E.y+T.y}},d=r.spacingFactor&&r.spacingFactor!==1,u=function(){if(!d)return null;for(var w=mi(),x=0;x<n.length;x++){var D=n[x],E=l(D,x);Gb(w,E.x,E.y)}return w},h=u(),m=to(function(C,w){var x=l(C,w);if(d){var D=Math.abs(r.spacingFactor);x=c(D,h,x)}return r.transform!=null&&(x=r.transform(C,x)),x},s);if(r.animate){for(var f=0;f<n.length;f++){var g=n[f],v=m(g,f),p=r.animateFilter==null||r.animateFilter(g,f);if(p){var y=g.animation({position:v,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else g.position(v)}if(r.fit){var b=a.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var _=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),aa.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(m),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ie({},e,{eles:this}))}};Es.createLayout=Es.makeLayout=Es.layout;function om(i,e,r){var t=r._private,n=t.styleCache=t.styleCache||[],a;return(a=n[i])!=null||(a=n[i]=e(r)),a}function Qs(i,e){return i=gn(i),function(t){return om(i,e,t)}}function Js(i,e){i=gn(i);var r=function(n){return e.call(n)};return function(){var n=this[0];if(n)return om(i,r,n)}}var $t={recalculateRenderedStyle:function(e){var r=this.cy(),t=r.renderer(),n=r.styleEnabled();return t&&n&&t.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var t;t=this.spawnSelf().merge(this.descendants()).merge(this.parents()),t.merge(t.connectedEdges()),t.forEach(r)}else this.forEach(function(n){r(n),n.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var t=r._private.batchStyleEles;return t.merge(this),this}var n=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),n&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var t=this[r];t._private.styleDirty&&(t._private.styleDirty=!1,e.style().apply(t))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this[0],n=t.cy();if(n.styleEnabled()&&t){this.cleanStyle();var a=t._private.style[e];return a??(r?n.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var t=r.pstyle(e);return t.pfValue!==void 0?t.pfValue:t.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var t=this[0];if(t)return r.style().getRenderedStyle(t,e)},style:function(e,r){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,a=t.style();if(tt(e)){var o=e;a.applyBypass(this,o,n),this.emitAndNotify("style")}else if(_e(e))if(r===void 0){var s=this[0];return s?a.getStylePropertyValue(s,e):void 0}else a.applyBypass(this,e,r,n),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var t=!1,n=r.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var s=a[o];n.removeAllBypasses(s,t)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var c=a[l];n.removeBypasses(c,e,t)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),t=this[0];if(t){var n=t._private,a=t.pstyle("opacity").value;if(!r)return a;var o=n.data.parent?t.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=l.pstyle("opacity").value;a=c*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],t=r.cy().hasCompoundNodes();if(r)return t?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function uc(i,e){var r=i._private,t=r.data.parent?i.parents():null;if(t)for(var n=0;n<t.length;n++){var a=t[n];if(!e(a))return!1}return!0}function Yc(i){var e=i.ok,r=i.edgeOkViaNode||i.ok,t=i.parentOk||i.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],o=n.hasCompoundNodes();if(a){var s=a._private;if(!e(a))return!1;if(a.isNode())return!o||uc(a,t);var l=s.source,c=s.target;return r(l)&&(!o||uc(l,r))&&(l===c||r(c)&&(!o||uc(c,r)))}}}var ca=Qs("eleTakesUpSpace",function(i){return i.pstyle("display").value==="element"&&i.width()!==0&&(i.isNode()?i.height()!==0:!0)});$t.takesUpSpace=Js("takesUpSpace",Yc({ok:ca}));var Gx=Qs("eleInteractive",function(i){return i.pstyle("events").value==="yes"&&i.pstyle("visibility").value==="visible"&&ca(i)}),$x=Qs("parentInteractive",function(i){return i.pstyle("visibility").value==="visible"&&ca(i)});$t.interactive=Js("interactive",Yc({ok:Gx,parentOk:$x,edgeOkViaNode:ca}));$t.noninteractive=function(){var i=this[0];if(i)return!i.interactive()};var Yx=Qs("eleVisible",function(i){return i.pstyle("visibility").value==="visible"&&i.pstyle("opacity").pfValue!==0&&ca(i)}),Kx=ca;$t.visible=Js("visible",Yc({ok:Yx,edgeOkViaNode:Kx}));$t.hidden=function(){var i=this[0];if(i)return!i.visible()};$t.isBundledBezier=Js("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});$t.bypass=$t.css=$t.style;$t.renderedCss=$t.renderedStyle;$t.removeBypass=$t.removeCss=$t.removeStyle;$t.pstyle=$t.parsedStyle;var Nr={};function Eh(i){return function(){var e=arguments,r=[];if(e.length===2){var t=e[0],n=e[1];this.on(i.event,t,n)}else if(e.length===1&&Ct(e[0])){var a=e[0];this.on(i.event,a)}else if(e.length===0||e.length===1&&vt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],c=!i.ableField||l._private[i.ableField],d=l._private[i.field]!=i.value;if(i.overrideAble){var u=i.overrideAble(l);if(u!==void 0&&(c=u,!u))return this}c&&(l._private[i.field]=i.value,d&&r.push(l))}var h=this.spawn(r);h.updateStyle(),h.emit(i.event),o&&h.emit(o)}return this}}function da(i){Nr[i.field]=function(){var e=this[0];if(e){if(i.overrideField){var r=i.overrideField(e);if(r!==void 0)return r}return e._private[i.field]}},Nr[i.on]=Eh({event:i.on,field:i.field,ableField:i.ableField,overrideAble:i.overrideAble,value:!0}),Nr[i.off]=Eh({event:i.off,field:i.field,ableField:i.ableField,overrideAble:i.overrideAble,value:!1})}da({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});da({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});da({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});da({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Nr.deselect=Nr.unselect;Nr.grabbed=function(){var i=this[0];if(i)return i._private.grabbed};da({field:"active",on:"activate",off:"unactivate"});da({field:"pannable",on:"panify",off:"unpanify"});Nr.inactive=function(){var i=this[0];if(i)return!i._private.active};var ti={},kh=function(e){return function(t){for(var n=this,a=[],o=0;o<n.length;o++){var s=n[o];if(s.isNode()){for(var l=!1,c=s.connectedEdges(),d=0;d<c.length;d++){var u=c[d],h=u.source(),m=u.target();if(e.noIncomingEdges&&m===s&&h!==s||e.noOutgoingEdges&&h===s&&m!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(t)}},Dh=function(e){return function(r){for(var t=this,n=[],a=0;a<t.length;a++){var o=t[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var c=s[l],d=c.source(),u=c.target();e.outgoing&&d===o?(n.push(c),n.push(u)):e.incoming&&u===o&&(n.push(c),n.push(d))}}return this.spawn(n,!0).filter(r)}},Sh=function(e){return function(r){for(var t=this,n=[],a={};;){var o=e.outgoing?t.outgoers():t.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var c=o[l],d=c.id();a[d]||(a[d]=!0,n.push(c),s=!0)}if(!s)break;t=o}return this.spawn(n,!0).filter(r)}};ti.clearTraversalCache=function(){for(var i=0;i<this.length;i++)this[i]._private.traversalCache=null};Ie(ti,{roots:kh({noIncomingEdges:!0}),leaves:kh({noOutgoingEdges:!0}),outgoers:Di(Dh({outgoing:!0}),"outgoers"),successors:Sh({outgoing:!0}),incomers:Di(Dh({incoming:!0}),"incomers"),predecessors:Sh({incoming:!0})});Ie(ti,{neighborhood:Di(function(i){for(var e=[],r=this.nodes(),t=0;t<r.length;t++)for(var n=r[t],a=n.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),c=s.target(),d=n===l?c:l;d.length>0&&e.push(d[0]),e.push(s[0])}return this.spawn(e,!0).filter(i)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});ti.neighbourhood=ti.neighborhood;ti.closedNeighbourhood=ti.closedNeighborhood;ti.openNeighbourhood=ti.openNeighborhood;Ie(ti,{source:Di(function(e){var r=this[0],t;return r&&(t=r._private.source||r.cy().collection()),t&&e?t.filter(e):t},"source"),target:Di(function(e){var r=this[0],t;return r&&(t=r._private.target||r.cy().collection()),t&&e?t.filter(e):t},"target"),sources:Ih({attr:"source"}),targets:Ih({attr:"target"})});function Ih(i){return function(r){for(var t=[],n=0;n<this.length;n++){var a=this[n],o=a._private[i.attr];o&&t.push(o)}return this.spawn(t,!0).filter(r)}}Ie(ti,{edgesWith:Di(Ah(),"edgesWith"),edgesTo:Di(Ah({thisIsSrc:!0}),"edgesTo")});function Ah(i){return function(r){var t=[],n=this._private.cy,a=i||{};_e(r)&&(r=n.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var c=s[l],d=c._private.data,u=this.hasElementWithId(d.source)&&r.hasElementWithId(d.target),h=r.hasElementWithId(d.source)&&this.hasElementWithId(d.target),m=u||h;m&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!u||a.thisIsTgt&&!h)||t.push(c))}return this.spawn(t,!0)}}Ie(ti,{connectedEdges:Di(function(i){for(var e=[],r=this,t=0;t<r.length;t++){var n=r[t];if(n.isNode())for(var a=n._private.edges,o=0;o<a.length;o++){var s=a[o];e.push(s)}}return this.spawn(e,!0).filter(i)},"connectedEdges"),connectedNodes:Di(function(i){for(var e=[],r=this,t=0;t<r.length;t++){var n=r[t];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,!0).filter(i)},"connectedNodes"),parallelEdges:Di(Th(),"parallelEdges"),codirectedEdges:Di(Th({codirected:!0}),"codirectedEdges")});function Th(i){var e={codirected:!1};return i=Ie({},e,i),function(t){for(var n=[],a=this.edges(),o=i,s=0;s<a.length;s++)for(var l=a[s],c=l._private,d=c.source,u=d._private.data.id,h=c.data.target,m=d._private.edges,f=0;f<m.length;f++){var g=m[f],v=g._private.data,p=v.target,y=v.source,b=p===h&&y===u,_=u===p&&h===y;(o.codirected&&b||!o.codirected&&(b||_))&&n.push(g)}return this.spawn(n,!0).filter(t)}}Ie(ti,{components:function(e){var r=this,t=r.cy(),n=t.collection(),a=e==null?r.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var s=function(d,u){n.merge(d),a.unmerge(d),u.merge(d)};if(a.empty())return r.spawn();var l=function(){var d=t.collection();o.push(d);var u=a[0];s(u,d),r.bfs({directed:!1,roots:u,visit:function(m){return s(m,d)}}),d.forEach(function(h){h.connectedEdges().forEach(function(m){r.has(m)&&d.has(m.source())&&d.has(m.target())&&d.merge(m)})})};do l();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});ti.componentsOf=ti.components;var Yt=function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){St("A collection must have a reference to the core");return}var a=new rr,o=!1;if(!r)r=[];else if(r.length>0&&tt(r[0])&&!mo(r[0])){o=!0;for(var s=[],l=new na,c=0,d=r.length;c<d;c++){var u=r[c];u.data==null&&(u.data={});var h=u.data;if(h.id==null)h.id=yf();else if(e.hasElementWithId(h.id)||l.has(h.id))continue;var m=new qs(e,u,!1);s.push(m),l.add(h.id)}r=s}this.length=0;for(var f=0,g=r.length;f<g;f++){var v=r[f][0];if(v!=null){var p=v._private.data.id;(!t||!a.has(p))&&(t&&a.set(p,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new rr,_=this.eles,C=0;C<_.length;C++){var w=_[C];b.set(w.id(),{index:C,ele:w})}}},t&&(this._private.map=a),o&&!n&&this.restore()},bt=qs.prototype=Yt.prototype=Object.create(Array.prototype);bt.instanceString=function(){return"collection"};bt.spawn=function(i,e){return new Yt(this.cy(),i,e)};bt.spawnSelf=function(){return this.spawn(this)};bt.cy=function(){return this._private.cy};bt.renderer=function(){return this._private.cy.renderer()};bt.element=function(){return this[0]};bt.collection=function(){return af(this)?this:new Yt(this._private.cy,[this])};bt.unique=function(){return new Yt(this._private.cy,this,!0)};bt.hasElementWithId=function(i){return i=""+i,this._private.map.has(i)};bt.getElementById=function(i){i=""+i;var e=this._private.cy,r=this._private.map.get(i);return r?r.ele:new Yt(e)};bt.$id=bt.getElementById;bt.poolIndex=function(){var i=this._private.cy,e=i._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};bt.indexOf=function(i){var e=i[0]._private.data.id;return this._private.map.get(e).index};bt.indexOfId=function(i){return i=""+i,this._private.map.get(i).index};bt.json=function(i){var e=this.element(),r=this.cy();if(e==null&&i)return this;if(e!=null){var t=e._private;if(tt(i)){if(r.startBatch(),i.data){e.data(i.data);var n=t.data;if(e.isEdge()){var a=!1,o={},s=i.data.source,l=i.data.target;s!=null&&s!=n.source&&(o.source=""+s,a=!0),l!=null&&l!=n.target&&(o.target=""+l,a=!0),a&&(e=e.move(o))}else{var c="parent"in i.data,d=i.data.parent;c&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),e=e.move({parent:d}))}}i.position&&e.position(i.position);var u=function(g,v,p){var y=i[g];y!=null&&y!==t[g]&&(y?e[v]():e[p]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),i.classes!=null&&e.classes(i.classes),r.endBatch(),this}else if(i===void 0){var h={data:ir(t.data),position:ir(t.position),group:t.group,removed:t.removed,selected:t.selected,selectable:t.selectable,locked:t.locked,grabbable:t.grabbable,pannable:t.pannable,classes:null};h.classes="";var m=0;return t.classes.forEach(function(f){return h.classes+=m++===0?f:" "+f}),h}}};bt.jsons=function(){for(var i=[],e=0;e<this.length;e++){var r=this[e],t=r.json();i.push(t)}return i};bt.clone=function(){for(var i=this.cy(),e=[],r=0;r<this.length;r++){var t=this[r],n=t.json(),a=new qs(i,n,!1);e.push(a)}return new Yt(i,e)};bt.copy=bt.clone;bt.restore=function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,t=r.cy(),n=t._private,a=[],o=[],s,l=0,c=r.length;l<c;l++){var d=r[l];e&&!d.removed()||(d.isNode()?a.push(d):o.push(d))}s=a.concat(o);var u,h=function(){s.splice(u,1),u--};for(u=0;u<s.length;u++){var m=s[u],f=m._private,g=f.data;if(m.clearTraversalCache(),!(!e&&!f.removed)){if(g.id===void 0)g.id=yf();else if(ce(g.id))g.id=""+g.id;else if(Br(g.id)||!_e(g.id)){St("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(t.hasElementWithId(g.id)){St("Can not create second element with ID `"+g.id+"`"),h();continue}}var v=g.id;if(m.isNode()){var p=f.position;p.x==null&&(p.x=0),p.y==null&&(p.y=0)}if(m.isEdge()){for(var y=m,b=["source","target"],_=b.length,C=!1,w=0;w<_;w++){var x=b[w],D=g[x];ce(D)&&(D=g[x]=""+g[x]),D==null||D===""?(St("Can not create edge `"+v+"` with unspecified "+x),C=!0):t.hasElementWithId(D)||(St("Can not create edge `"+v+"` with nonexistant "+x+" `"+D+"`"),C=!0)}if(C){h();continue}var E=t.getElementById(g.source),T=t.getElementById(g.target);E.same(T)?E._private.edges.push(y):(E._private.edges.push(y),T._private.edges.push(y)),y._private.source=E,y._private.target=T}f.map=new rr,f.map.set(v,{ele:m,index:0}),f.removed=!1,e&&t.addToPool(m)}for(var I=0;I<a.length;I++){var A=a[I],M=A._private.data;ce(M.parent)&&(M.parent=""+M.parent);var S=M.parent,F=S!=null;if(F||A._private.parent){var O=A._private.parent?t.collection().merge(A._private.parent):t.getElementById(S);if(O.empty())M.parent=void 0;else if(O[0].removed())ht("Node added with missing parent, reference to parent removed"),M.parent=void 0,A._private.parent=null;else{for(var R=!1,P=O;!P.empty();){if(A.same(P)){R=!0,M.parent=void 0;break}P=P.parent()}R||(O[0]._private.children.push(A),A._private.parent=O[0],n.hasCompoundNodes=!0)}}}if(s.length>0){for(var j=s.length===r.length?r:new Yt(t,s),H=0;H<j.length;H++){var V=j[H];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}var B;n.hasCompoundNodes?B=t.collection().merge(j).merge(j.connectedNodes()).merge(j.parent()):B=j,B.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(i),i?j.emitAndNotify("add"):e&&j.emit("add")}return r};bt.removed=function(){var i=this[0];return i&&i._private.removed};bt.inside=function(){var i=this[0];return i&&!i._private.removed};bt.remove=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,t=[],n={},a=r._private.cy;function o(S){for(var F=S._private.edges,O=0;O<F.length;O++)l(F[O])}function s(S){for(var F=S._private.children,O=0;O<F.length;O++)l(F[O])}function l(S){var F=n[S.id()];e&&S.removed()||F||(n[S.id()]=!0,S.isNode()?(t.push(S),o(S),s(S)):t.unshift(S))}for(var c=0,d=r.length;c<d;c++){var u=r[c];l(u)}function h(S,F){var O=S._private.edges;Vr(O,F),S.clearTraversalCache()}function m(S){S.clearTraversalCache()}var f=[];f.ids={};function g(S,F){F=F[0],S=S[0];var O=S._private.children,R=S.id();Vr(O,F),F._private.parent=null,f.ids[R]||(f.ids[R]=!0,f.push(S))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(t);for(var v=0;v<t.length;v++){var p=t[v];if(p.isEdge()){var y=p.source()[0],b=p.target()[0];h(y,p),h(b,p);for(var _=p.parallelEdges(),C=0;C<_.length;C++){var w=_[C];m(w),w.isBundledBezier()&&w.dirtyBoundingBoxCache()}}else{var x=p.parent();x.length!==0&&g(x,p)}e&&(p._private.removed=!0)}var D=a._private.elements;a._private.hasCompoundNodes=!1;for(var E=0;E<D.length;E++){var T=D[E];if(T.isParent()){a._private.hasCompoundNodes=!0;break}}var I=new Yt(this.cy(),t);I.size()>0&&(i?I.emitAndNotify("remove"):e&&I.emit("remove"));for(var A=0;A<f.length;A++){var M=f[A];(!e||!M.removed())&&M.updateStyle()}return I};bt.move=function(i){var e=this._private.cy,r=this,t=!1,n=!1,a=function(f){return f==null?f:""+f};if(i.source!==void 0||i.target!==void 0){var o=a(i.source),s=a(i.target),l=o!=null&&e.hasElementWithId(o),c=s!=null&&e.hasElementWithId(s);(l||c)&&(e.batch(function(){r.remove(t,n),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var f=r[m],g=f._private.data;f.isEdge()&&(l&&(g.source=o),c&&(g.target=s))}r.restore(t,n)}),r.emitAndNotify("move"))}else if(i.parent!==void 0){var d=a(i.parent),u=d===null||e.hasElementWithId(d);if(u){var h=d===null?void 0:d;e.batch(function(){var m=r.remove(t,n);m.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var g=r[f],v=g._private.data;g.isNode()&&(v.parent=h)}m.restore(t,n)}),r.emitAndNotify("move")}}return this};[Of,ox,Cs,Lr,ra,wx,Zs,Bx,rm,nm,Ux,Ls,Es,$t,Nr,ti].forEach(function(i){Ie(bt,i)});var Zx={add:function(e){var r,t=this;if(vi(e)){var n=e;if(n._private.cy===t)r=n.restore();else{for(var a=[],o=0;o<n.length;o++){var s=n[o];a.push(s.json())}r=new Yt(t,a)}}else if(vt(e)){var l=e;r=new Yt(t,l)}else if(tt(e)&&(vt(e.nodes)||vt(e.edges))){for(var c=e,d=[],u=["nodes","edges"],h=0,m=u.length;h<m;h++){var f=u[h],g=c[f];if(vt(g))for(var v=0,p=g.length;v<p;v++){var y=Ie({group:f},g[v]);d.push(y)}}r=new Yt(t,d)}else{var b=e;r=new qs(t,b).collection()}return r},remove:function(e){if(!vi(e)){if(_e(e)){var r=e;e=this.$(r)}}return e.remove()}};function Xx(i,e,r,t){var n=4,a=.001,o=1e-7,s=10,l=11,c=1/(l-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var u=0;u<4;++u)if(typeof arguments[u]!="number"||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;i=Math.min(i,1),r=Math.min(r,1),i=Math.max(i,0),r=Math.max(r,0);var h=d?new Float32Array(l):new Array(l);function m(T,I){return 1-3*I+3*T}function f(T,I){return 3*I-6*T}function g(T){return 3*T}function v(T,I,A){return((m(I,A)*T+f(I,A))*T+g(I))*T}function p(T,I,A){return 3*m(I,A)*T*T+2*f(I,A)*T+g(I)}function y(T,I){for(var A=0;A<n;++A){var M=p(I,i,r);if(M===0)return I;var S=v(I,i,r)-T;I-=S/M}return I}function b(){for(var T=0;T<l;++T)h[T]=v(T*c,i,r)}function _(T,I,A){var M,S,F=0;do S=I+(A-I)/2,M=v(S,i,r)-T,M>0?A=S:I=S;while(Math.abs(M)>o&&++F<s);return S}function C(T){for(var I=0,A=1,M=l-1;A!==M&&h[A]<=T;++A)I+=c;--A;var S=(T-h[A])/(h[A+1]-h[A]),F=I+S*c,O=p(F,i,r);return O>=a?y(T,F):O===0?F:_(T,I,I+c)}var w=!1;function x(){w=!0,(i!==e||r!==t)&&b()}var D=function(I){return w||x(),i===e&&r===t?I:I===0?0:I===1?1:v(C(I),e,t)};D.getControlPoints=function(){return[{x:i,y:e},{x:r,y:t}]};var E="generateBezier("+[i,e,r,t]+")";return D.toString=function(){return E},D}var Qx=function(){function i(t){return-t.tension*t.x-t.friction*t.v}function e(t,n,a){var o={x:t.x+a.dx*n,v:t.v+a.dv*n,tension:t.tension,friction:t.friction};return{dx:o.v,dv:i(o)}}function r(t,n){var a={dx:t.v,dv:i(t)},o=e(t,n*.5,a),s=e(t,n*.5,o),l=e(t,n,s),c=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),d=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return t.x=t.x+c*n,t.v=t.v+d*n,t}return function t(n,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],c=0,d=1/1e4,u=16/1e3,h,m,f;for(n=parseFloat(n)||500,a=parseFloat(a)||20,o=o||null,s.tension=n,s.friction=a,h=o!==null,h?(c=t(n,a),m=c/o*u):m=u;f=r(f||s,m),l.push(1+f.x),c+=16,Math.abs(f.x)>d&&Math.abs(f.v)>d;);return h?function(g){return l[g*(l.length-1)|0]}:c}}(),gt=function(e,r,t,n){var a=Xx(e,r,t,n);return function(o,s,l){return o+(s-o)*a(l)}},ks={linear:function(e,r,t){return e+(r-e)*t},ease:gt(.25,.1,.25,1),"ease-in":gt(.42,0,1,1),"ease-out":gt(0,0,.58,1),"ease-in-out":gt(.42,0,.58,1),"ease-in-sine":gt(.47,0,.745,.715),"ease-out-sine":gt(.39,.575,.565,1),"ease-in-out-sine":gt(.445,.05,.55,.95),"ease-in-quad":gt(.55,.085,.68,.53),"ease-out-quad":gt(.25,.46,.45,.94),"ease-in-out-quad":gt(.455,.03,.515,.955),"ease-in-cubic":gt(.55,.055,.675,.19),"ease-out-cubic":gt(.215,.61,.355,1),"ease-in-out-cubic":gt(.645,.045,.355,1),"ease-in-quart":gt(.895,.03,.685,.22),"ease-out-quart":gt(.165,.84,.44,1),"ease-in-out-quart":gt(.77,0,.175,1),"ease-in-quint":gt(.755,.05,.855,.06),"ease-out-quint":gt(.23,1,.32,1),"ease-in-out-quint":gt(.86,0,.07,1),"ease-in-expo":gt(.95,.05,.795,.035),"ease-out-expo":gt(.19,1,.22,1),"ease-in-out-expo":gt(1,0,0,1),"ease-in-circ":gt(.6,.04,.98,.335),"ease-out-circ":gt(.075,.82,.165,1),"ease-in-out-circ":gt(.785,.135,.15,.86),spring:function(e,r,t){if(t===0)return ks.linear;var n=Qx(e,r,t);return function(a,o,s){return a+(o-a)*n(s)}},"cubic-bezier":gt};function Mh(i,e,r,t,n){if(t===1||e===r)return r;var a=n(e,r,t);return i==null||((i.roundValue||i.color)&&(a=Math.round(a)),i.min!==void 0&&(a=Math.max(a,i.min)),i.max!==void 0&&(a=Math.min(a,i.max))),a}function Oh(i,e){return i.pfValue!=null||i.value!=null?i.pfValue!=null&&(e==null||e.type.units!=="%")?i.pfValue:i.value:i}function qn(i,e,r,t,n){var a=n!=null?n.type:null;r<0?r=0:r>1&&(r=1);var o=Oh(i,n),s=Oh(e,n);if(ce(o)&&ce(s))return Mh(a,o,s,r,t);if(vt(o)&&vt(s)){for(var l=[],c=0;c<s.length;c++){var d=o[c],u=s[c];if(d!=null&&u!=null){var h=Mh(a,d,u,r,t);l.push(h)}else l.push(u)}return l}}function Jx(i,e,r,t){var n=!t,a=i._private,o=e._private,s=o.easing,l=o.startTime,c=t?i:i.cy(),d=c.style();if(!o.easingImpl)if(s==null)o.easingImpl=ks.linear;else{var u;if(_e(s)){var h=d.parse("transition-timing-function",s);u=h.value}else u=s;var m,f;_e(u)?(m=u,f=[]):(m=u[1],f=u.slice(2).map(function(j){return+j})),f.length>0?(m==="spring"&&f.push(o.duration),o.easingImpl=ks[m].apply(null,f)):o.easingImpl=ks[m]}var g=o.easingImpl,v;if(o.duration===0?v=1:v=(r-l)/o.duration,o.applying&&(v=o.progress),v<0?v=0:v>1&&(v=1),o.delay==null){var p=o.startPosition,y=o.position;if(y&&n&&!i.locked()){var b={};$a(p.x,y.x)&&(b.x=qn(p.x,y.x,v,g)),$a(p.y,y.y)&&(b.y=qn(p.y,y.y,v,g)),i.position(b)}var _=o.startPan,C=o.pan,w=a.pan,x=C!=null&&t;x&&($a(_.x,C.x)&&(w.x=qn(_.x,C.x,v,g)),$a(_.y,C.y)&&(w.y=qn(_.y,C.y,v,g)),i.emit("pan"));var D=o.startZoom,E=o.zoom,T=E!=null&&t;T&&($a(D,E)&&(a.zoom=ao(a.minZoom,qn(D,E,v,g),a.maxZoom)),i.emit("zoom")),(x||T)&&i.emit("viewport");var I=o.style;if(I&&I.length>0&&n){for(var A=0;A<I.length;A++){var M=I[A],S=M.name,F=M,O=o.startStyle[S],R=d.properties[O.name],P=qn(O,F,v,g,R);d.overrideBypass(i,S,P)}i.emit("style")}}return o.progress=v,v}function $a(i,e){return i==null||e==null?!1:ce(i)&&ce(e)?!0:!!(i&&e)}function ew(i,e,r,t){var n=e._private;n.started=!0,n.startTime=r-n.progress*n.duration}function Rh(i,e){var r=e._private.aniEles,t=[];function n(d,u){var h=d._private,m=h.animation.current,f=h.animation.queue,g=!1;if(m.length===0){var v=f.shift();v&&m.push(v)}for(var p=function(w){for(var x=w.length-1;x>=0;x--){var D=w[x];D()}w.splice(0,w.length)},y=m.length-1;y>=0;y--){var b=m[y],_=b._private;if(_.stopped){m.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||ew(d,b,i),Jx(d,b,i,u),_.applying&&(_.applying=!1),p(_.frames),_.step!=null&&_.step(i),b.completed()&&(m.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.completes)),g=!0)}return!u&&m.length===0&&f.length===0&&t.push(d),g}for(var a=!1,o=0;o<r.length;o++){var s=r[o],l=n(s);a=a||l}var c=n(e,!0);(a||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(t),e.emit("step")}var tw={animate:ut.animate(),animation:ut.animation(),animated:ut.animated(),clearQueue:ut.clearQueue(),delay:ut.delay(),delayAnimation:ut.delayAnimation(),stop:ut.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Ms(function(a){Rh(a,e),r()})}var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(a,o){Rh(o,e)},t.beforeRenderPriorities.animations):r()}},iw={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,t){var n=r.qualifier;return n!=null?e!==t.target&&mo(t.target)&&n.matches(t.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,t){return r.qualifier!=null?t.target:e}},bs=function(e){return _e(e)?new zr(e):e},sm={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Xs(iw,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,t){return this.emitter().on(e,bs(r),t),this},removeListener:function(e,r,t){return this.emitter().removeListener(e,bs(r),t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,t){return this.emitter().one(e,bs(r),t),this},once:function(e,r,t){return this.emitter().one(e,bs(r),t),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ut.eventAliasesOn(sm);var wc={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};wc.jpeg=wc.jpg;var Ds={layout:function(e){var r=this;if(e==null){St("Layout options must be specified to make a layout");return}if(e.name==null){St("A `name` must be specified to make a layout");return}var t=e.name,n=r.extension("layout",t);if(n==null){St("No such layout `"+t+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;_e(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var o=new n(Ie({},e,{cy:r,eles:a}));return o}};Ds.createLayout=Ds.makeLayout=Ds.layout;var rw={notify:function(e,r){var t=this._private;if(this.batching()){t.batchNotifications=t.batchNotifications||{};var n=t.batchNotifications[e]=t.batchNotifications[e]||this.collection();r!=null&&n.merge(r);return}if(t.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(t){var n=e.batchNotifications[t];n.empty()?r.notify(t):r.notify(t,n)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var t=Object.keys(e),n=0;n<t.length;n++){var a=t[n],o=e[a],s=r.getElementById(a);s.data(o)}})}},nw=Kt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Cc={renderTo:function(e,r,t,n){var a=this._private.renderer;return a.renderTo(e,r,t,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,t=r.extension("renderer",e.name);if(t==null){St("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ht("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=nw(e);n.cy=r,r._private.renderer=new t(n),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(t){var n=t._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Cc.invalidateDimensions=Cc.resize;var Ss={collection:function(e,r){return _e(e)?this.$(e):vi(e)?e.collection():vt(e)?(r||(r={}),new Yt(this,e,r.unique,r.removed)):new Yt(this)},nodes:function(e){var r=this.$(function(t){return t.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(t){return t.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Ss.elements=Ss.filter=Ss.$;var ri={},Ja="t",aw="f";ri.apply=function(i){for(var e=this,r=e._private,t=r.cy,n=t.collection(),a=0;a<i.length;a++){var o=i[a],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),c=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var d=e.updateStyleHints(o);d&&n.push(o)}}return n};ri.getPropertiesDiff=function(i,e){var r=this,t=r._private.propDiffs=r._private.propDiffs||{},n=i+"-"+e,a=t[n];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var c=r[l],d=i[l]===Ja,u=e[l]===Ja,h=d!==u,m=c.mappedProperties.length>0;if(h||u&&m){var f=void 0;h&&m||h?f=c.properties:m&&(f=c.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],p=v.name,y=!1,b=l+1;b<r.length;b++){var _=r[b],C=e[b]===Ja;if(C&&(y=_.properties[v.name]!=null,y))break}!s[p]&&!y&&(s[p]=!0,o.push(p))}}}return t[n]=o,o};ri.getContextMeta=function(i){for(var e=this,r="",t,n=i._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],s=o.selector&&o.selector.matches(i);s?r+=Ja:r+=aw}return t=e.getPropertiesDiff(n,r),i._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:t.length===0}};ri.getContextStyle=function(i){var e=i.key,r=this,t=this._private.contextStyles=this._private.contextStyles||{};if(t[e])return t[e];for(var n={_private:{key:e}},a=0;a<r.length;a++){var o=r[a],s=e[a]===Ja;if(s)for(var l=0;l<o.properties.length;l++){var c=o.properties[l];n[c.name]=c}}return t[e]=n,n};ri.applyContextStyle=function(i,e,r){for(var t=this,n=i.diffPropNames,a={},o=t.types,s=0;s<n.length;s++){var l=n[s],c=e[l],d=r.pstyle(l);if(!c)if(d)d.bypass?c={name:l,deleteBypassed:!0}:c={name:l,delete:!0};else continue;if(d!==c){if(c.mapped===o.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var u=d.mapping,h=u.fnValue=c.value(r);if(h===u.prevFnValue)continue}var m=a[l]={prev:d};t.applyParsedProperty(r,c),m.next=r.pstyle(l),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:a}};ri.updateStyleHints=function(i){var e=i._private,r=this,t=r.propertyGroupNames,n=r.propertyGroupKeys,a=function(K,ue,xe){return r.getPropertiesHash(K,ue,xe)},o=e.styleKey;if(i.removed())return!1;var s=e.group==="nodes",l=i._private.style;t=Object.keys(l);for(var c=0;c<n.length;c++){var d=n[c];e.styleKeys[d]=[$n,Ka]}for(var u=function(K,ue){return e.styleKeys[ue][0]=io(K,e.styleKeys[ue][0])},h=function(K,ue){return e.styleKeys[ue][1]=ro(K,e.styleKeys[ue][1])},m=function(K,ue){u(K,ue),h(K,ue)},f=function(K,ue){for(var xe=0;xe<K.length;xe++){var se=K.charCodeAt(xe);u(se,ue),h(se,ue)}},g=2e9,v=function(K){return-128<K&&K<128&&Math.floor(K)!==K?g-(K*1024|0):K},p=0;p<t.length;p++){var y=t[p],b=l[y];if(b!=null){var _=this.properties[y],C=_.type,w=_.groupKey,x=void 0;_.hashOverride!=null?x=_.hashOverride(i,b):b.pfValue!=null&&(x=b.pfValue);var D=_.enums==null?b.value:null,E=x!=null,T=D!=null,I=E||T,A=b.units;if(C.number&&I&&!C.multiple){var M=E?x:D;m(v(M),w),!E&&A!=null&&f(A,w)}else f(b.strValue,w)}}for(var S=[$n,Ka],F=0;F<n.length;F++){var O=n[F],R=e.styleKeys[O];S[0]=io(R[0],S[0]),S[1]=ro(R[1],S[1])}e.styleKey=db(S[0],S[1]);var P=e.styleKeys;e.labelDimsKey=Or(P.labelDimensions);var j=a(i,["label"],P.labelDimensions);if(e.labelKey=Or(j),e.labelStyleKey=Or(cs(P.commonLabel,j)),!s){var H=a(i,["source-label"],P.labelDimensions);e.sourceLabelKey=Or(H),e.sourceLabelStyleKey=Or(cs(P.commonLabel,H));var V=a(i,["target-label"],P.labelDimensions);e.targetLabelKey=Or(V),e.targetLabelStyleKey=Or(cs(P.commonLabel,V))}if(s){var B=e.styleKeys,G=B.nodeBody,Q=B.nodeBorder,ee=B.nodeOutline,te=B.backgroundImage,re=B.compound,$=B.pie,L=[G,Q,ee,te,re,$].filter(function(Y){return Y!=null}).reduce(cs,[$n,Ka]);e.nodeKey=Or(L),e.hasPie=$!=null&&$[0]!==$n&&$[1]!==Ka}return o!==e.styleKey};ri.clearStyleHints=function(i){var e=i._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ri.applyParsedProperty=function(i,e){var r=this,t=e,n=i._private.style,a,o=r.types,s=r.properties[t.name].type,l=t.bypass,c=n[t.name],d=c&&c.bypass,u=i._private,h="mapping",m=function(G){return G==null?null:G.pfValue!=null?G.pfValue:G.value},f=function(){var G=m(c),Q=m(t);r.checkTriggers(i,t.name,G,Q)};if(e.name==="curve-style"&&i.isEdge()&&(e.value!=="bezier"&&i.isLoop()||e.value==="haystack"&&(i.source().isParent()||i.target().isParent()))&&(t=e=this.parse(e.name,"bezier",l)),t.delete)return n[t.name]=void 0,f(),!0;if(t.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,f(),!0):!1:(f(),!0);if(t.deleteBypass)return c?c.bypass?(n[t.name]=c.bypassed,f(),!0):!1:(f(),!0);var g=function(){ht("Do not assign mappings to elements without corresponding data (i.e. ele `"+i.id()+"` has no mapping for property `"+t.name+"` with data field `"+t.field+"`); try a `["+t.field+"]` selector to limit scope to elements with `"+t.field+"` defined")};switch(t.mapped){case o.mapData:{for(var v=t.field.split("."),p=u.data,y=0;y<v.length&&p;y++){var b=v[y];p=p[b]}if(p==null)return g(),!1;var _;if(ce(p)){var C=t.fieldMax-t.fieldMin;C===0?_=0:_=(p-t.fieldMin)/C}else return ht("Do not use continuous mappers without specifying numeric data (i.e. `"+t.field+": "+p+"` for `"+i.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),s.color){var w=t.valueMin[0],x=t.valueMax[0],D=t.valueMin[1],E=t.valueMax[1],T=t.valueMin[2],I=t.valueMax[2],A=t.valueMin[3]==null?1:t.valueMin[3],M=t.valueMax[3]==null?1:t.valueMax[3],S=[Math.round(w+(x-w)*_),Math.round(D+(E-D)*_),Math.round(T+(I-T)*_),Math.round(A+(M-A)*_)];a={bypass:t.bypass,name:t.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(s.number){var F=t.valueMin+(t.valueMax-t.valueMin)*_;a=this.parse(t.name,F,t.bypass,h)}else return!1;if(!a)return g(),!1;a.mapping=t,t=a;break}case o.data:{for(var O=t.field.split("."),R=u.data,P=0;P<O.length&&R;P++){var j=O[P];R=R[j]}if(R!=null&&(a=this.parse(t.name,R,t.bypass,h)),!a)return g(),!1;a.mapping=t,t=a;break}case o.fn:{var H=t.value,V=t.fnValue!=null?t.fnValue:H(i);if(t.prevFnValue=V,V==null)return ht("Custom function mappers may not return null (i.e. `"+t.name+"` for ele `"+i.id()+"` is null)"),!1;if(a=this.parse(t.name,V,t.bypass,h),!a)return ht("Custom function mappers may not return invalid values for the property type (i.e. `"+t.name+"` for ele `"+i.id()+"` is invalid)"),!1;a.mapping=ir(t),t=a;break}case void 0:break;default:return!1}return l?(d?t.bypassed=c.bypassed:t.bypassed=c,n[t.name]=t):d?c.bypassed=t:n[t.name]=t,f(),!0};ri.cleanElements=function(i,e){for(var r=0;r<i.length;r++){var t=i[r];if(this.clearStyleHints(t),t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),!e)t._private.style={};else for(var n=t._private.style,a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s];l!=null&&(l.bypass?l.bypassed=null:n[s]=null)}}};ri.update=function(){var i=this._private.cy,e=i.mutableElements();e.updateStyle()};ri.updateTransitions=function(i,e){var r=this,t=i._private,n=i.pstyle("transition-property").value,a=i.pstyle("transition-duration").pfValue,o=i.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var s={},l=!1,c=0;c<n.length;c++){var d=n[c],u=i.pstyle(d),h=e[d];if(h){var m=h.prev,f=m,g=h.next!=null?h.next:u,v=!1,p=void 0,y=1e-6;f&&(ce(f.pfValue)&&ce(g.pfValue)?(v=g.pfValue-f.pfValue,p=f.pfValue+y*v):ce(f.value)&&ce(g.value)?(v=g.value-f.value,p=f.value+y*v):vt(f.value)&&vt(g.value)&&(v=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],p=f.strValue),v&&(s[d]=g.strValue,this.applyBypass(i,d,p),l=!0))}}if(!l)return;t.transitioning=!0,new aa(function(b){o>0?i.delayAnimation(o).play().promise().then(b):b()}).then(function(){return i.animation({style:s,duration:a,easing:i.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(i,n),i.emitAndNotify("style"),t.transitioning=!1})}else t.transitioning&&(this.removeBypasses(i,n),i.emitAndNotify("style"),t.transitioning=!1)};ri.checkTrigger=function(i,e,r,t,n,a){var o=this.properties[e],s=n(o);s!=null&&s(r,t)&&a(o)};ri.checkZOrderTrigger=function(i,e,r,t){var n=this;this.checkTrigger(i,e,r,t,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",i)})};ri.checkBoundsTrigger=function(i,e,r,t){this.checkTrigger(i,e,r,t,function(n){return n.triggersBounds},function(n){i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),n.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||t==="bezier")&&i.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),n.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||t==="none")&&i.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ri.checkTriggers=function(i,e,r,t){i.dirtyStyleCache(),this.checkZOrderTrigger(i,e,r,t),this.checkBoundsTrigger(i,e,r,t)};var bo={};bo.applyBypass=function(i,e,r,t){var n=this,a=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<n.properties.length;s++){var l=n.properties[s],c=l.name,d=this.parse(c,r,!0);d&&a.push(d)}}else if(_e(e)){var u=this.parse(e,r,!0);u&&a.push(u)}else if(tt(e)){var h=e;t=r;for(var m=Object.keys(h),f=0;f<m.length;f++){var g=m[f],v=h[g];if(v===void 0&&(v=h[js(g)]),v!==void 0){var p=this.parse(g,v,!0);p&&a.push(p)}}}else return!1;if(a.length===0)return!1;for(var y=!1,b=0;b<i.length;b++){for(var _=i[b],C={},w=void 0,x=0;x<a.length;x++){var D=a[x];if(t){var E=_.pstyle(D.name);w=C[D.name]={prev:E}}y=this.applyParsedProperty(_,ir(D))||y,t&&(w.next=_.pstyle(D.name))}y&&this.updateStyleHints(_),t&&this.updateTransitions(_,C,o)}return y};bo.overrideBypass=function(i,e,r){e=Pc(e);for(var t=0;t<i.length;t++){var n=i[t],a=n._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,c=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),s?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(n)),this.checkTriggers(n,e,c,r)}};bo.removeAllBypasses=function(i,e){return this.removeBypasses(i,this.propertyNames,e)};bo.removeBypasses=function(i,e,r){for(var t=!0,n=0;n<i.length;n++){for(var a=i[n],o={},s=0;s<e.length;s++){var l=e[s],c=this.properties[l],d=a.pstyle(c.name);if(!(!d||!d.bypass)){var u="",h=this.parse(l,u,!0),m=o[c.name]={prev:d};this.applyParsedProperty(a,h),m.next=a.pstyle(c.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,t)}};var Kc={};Kc.getEmSizeInPixels=function(){var i=this.containerCss("font-size");return i!=null?parseFloat(i):1};Kc.containerCss=function(i){var e=this._private.cy,r=e.container(),t=e.window();if(t&&r&&t.getComputedStyle)return t.getComputedStyle(r).getPropertyValue(i)};var nr={};nr.getRenderedStyle=function(i,e){return e?this.getStylePropertyValue(i,e,!0):this.getRawStyle(i,!0)};nr.getRawStyle=function(i,e){var r=this;if(i=i[0],i){for(var t={},n=0;n<r.properties.length;n++){var a=r.properties[n],o=r.getStylePropertyValue(i,a.name,e);o!=null&&(t[a.name]=o,t[js(a.name)]=o)}return t}};nr.getIndexedStyle=function(i,e,r,t){var n=i.pstyle(e)[r][t];return n??i.cy().style().getDefaultProperty(e)[r][0]};nr.getStylePropertyValue=function(i,e,r){var t=this;if(i=i[0],i){var n=t.properties[e];n.alias&&(n=n.pointsTo);var a=n.type,o=i.pstyle(n.name);if(o){var s=o.value,l=o.units,c=o.strValue;if(r&&a.number&&s!=null&&ce(s)){var d=i.cy().zoom(),u=function(v){return v*d},h=function(v,p){return u(v)+p},m=vt(s),f=m?l.every(function(g){return g!=null}):l!=null;return f?m?s.map(function(g,v){return h(g,l[v])}).join(" "):h(s,l):m?s.map(function(g){return _e(g)?g:""+u(g)}).join(" "):""+u(s)}else if(c!=null)return c}return null}};nr.getAnimationStartStyle=function(i,e){for(var r={},t=0;t<e.length;t++){var n=e[t],a=n.name,o=i.pstyle(a);o!==void 0&&(tt(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};nr.getPropsList=function(i){var e=this,r=[],t=i,n=e.properties;if(t)for(var a=Object.keys(t),o=0;o<a.length;o++){var s=a[o],l=t[s],c=n[s]||n[Pc(s)],d=this.parse(c.name,l);d&&r.push(d)}return r};nr.getNonDefaultPropertiesHash=function(i,e,r){var t=r.slice(),n,a,o,s,l,c;for(l=0;l<e.length;l++)if(n=e[l],a=i.pstyle(n,!1),a!=null)if(a.pfValue!=null)t[0]=io(s,t[0]),t[1]=ro(s,t[1]);else for(o=a.strValue,c=0;c<o.length;c++)s=o.charCodeAt(c),t[0]=io(s,t[0]),t[1]=ro(s,t[1]);return t};nr.getPropertiesHash=nr.getNonDefaultPropertiesHash;var el={};el.appendFromJson=function(i){for(var e=this,r=0;r<i.length;r++){var t=i[r],n=t.selector,a=t.style||t.css,o=Object.keys(a);e.selector(n);for(var s=0;s<o.length;s++){var l=o[s],c=a[l];e.css(l,c)}}return e};el.fromJson=function(i){var e=this;return e.resetToDefault(),e.appendFromJson(i),e};el.json=function(){for(var i=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],t=r.selector,n=r.properties,a={},o=0;o<n.length;o++){var s=n[o];a[s.name]=s.strValue}i.push({selector:t?t.toString():"core",style:a})}return i};var Zc={};Zc.appendFromString=function(i){var e=this,r=this,t=""+i,n,a,o;t=t.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){t.length>n.length?t=t.substr(n.length):t=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var c=t.match(/^\s*$/);if(c)break;var d=t.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){ht("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+t);break}n=d[0];var u=d[1];if(u!=="core"){var h=new zr(u);if(h.invalid){ht("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),s();continue}}var m=d[2],f=!1;a=m;for(var g=[];;){var v=a.match(/^\s*$/);if(v)break;var p=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){ht("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),f=!0;break}o=p[0];var y=p[1],b=p[2],_=e.properties[y];if(!_){ht("Skipping property: Invalid property name in: "+o),l();continue}var C=r.parse(y,b);if(!C){ht("Skipping property: Invalid property definition in: "+o),l();continue}g.push({name:y,val:b}),l()}if(f){s();break}r.selector(u);for(var w=0;w<g.length;w++){var x=g[w];r.css(x.name,x.val)}s()}return r};Zc.fromString=function(i){var e=this;return e.resetToDefault(),e.appendFromString(i),e};var Gt={};(function(){var i=Pt,e=fg,r=pg,t=vg,n=gg,a=function(L){return"^"+L+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(L){var Y=i+"|\\w+|"+e+"|"+r+"|"+t+"|"+n;return"^"+L+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+i+")\\s*\\,\\s*("+i+")\\s*,\\s*("+Y+")\\s*\\,\\s*("+Y+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Gt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(L,Y){switch(L.length){case 2:return Y[0]!=="deg"&&Y[0]!=="rad"&&Y[1]!=="deg"&&Y[1]!=="rad";case 1:return _e(L[0])||Y[0]==="deg"||Y[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+i+")\\s*,\\s*("+i+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+i+")\\s*,\\s*("+i+")\\s*,\\s*("+i+")\\s*,\\s*("+i+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(L){var Y=L.length;return Y===1||Y===2||Y===4}}};var l={zeroNonZero:function(L,Y){return(L==null||Y==null)&&L!==Y||L==0&&Y!=0?!0:L!=0&&Y==0},any:function(L,Y){return L!=Y},emptyNonEmpty:function(L,Y){var K=Br(L),ue=Br(Y);return K&&!ue||!K&&ue}},c=Gt.types,d=[{name:"label",type:c.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any}],u=[{name:"source-label",type:c.text,triggersBounds:l.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:c.size,triggersBounds:l.any}],h=[{name:"target-label",type:c.text,triggersBounds:l.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:c.size,triggersBounds:l.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:l.any},{name:"font-style",type:c.fontStyle,triggersBounds:l.any},{name:"font-weight",type:c.fontWeight,triggersBounds:l.any},{name:"font-size",type:c.size,triggersBounds:l.any},{name:"text-transform",type:c.textTransform,triggersBounds:l.any},{name:"text-wrap",type:c.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:c.size,triggersBounds:l.any},{name:"text-outline-width",type:c.size,triggersBounds:l.any},{name:"line-height",type:c.positiveNumber,triggersBounds:l.any}],f=[{name:"text-valign",type:c.valign,triggersBounds:l.any},{name:"text-halign",type:c.halign,triggersBounds:l.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:l.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:l.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:c.justification}],g=[{name:"events",type:c.bool,triggersZOrder:l.any},{name:"text-events",type:c.bool,triggersZOrder:l.any}],v=[{name:"display",type:c.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:c.visibility,triggersZOrder:l.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:c.number,triggersZOrder:l.any}],p=[{name:"overlay-padding",type:c.size,triggersBounds:l.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:c.cornerRadius}],y=[{name:"underlay-padding",type:c.size,triggersBounds:l.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:c.cornerRadius}],b=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],_=function(L,Y){return Y.value==="label"?-L.poolIndex():Y.pfValue},C=[{name:"height",type:c.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"width",type:c.nodeSize,triggersBounds:l.any,hashOverride:_},{name:"shape",type:c.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:l.any}],w=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:l.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],x=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:l.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:l.any}],D=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],E=[{name:"position",type:c.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:c.size,triggersBounds:l.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:c.size,triggersBounds:l.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:l.any}],T=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:c.size,triggersBounds:l.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-radii",type:c.numbers,triggersBounds:l.any},{name:"radius-type",type:c.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:l.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:c.number,triggersBounds:l.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:c.angle,triggersBounds:l.any},{name:"loop-sweep",type:c.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:c.size,triggersBounds:l.any},{name:"target-distance-from-node",type:c.size,triggersBounds:l.any}],I=[{name:"ghost",type:c.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:c.zeroOneNumber}],A=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],M=[];Gt.pieBackgroundN=16,M.push({name:"pie-size",type:c.sizeMaybePercent});for(var S=1;S<=Gt.pieBackgroundN;S++)M.push({name:"pie-"+S+"-background-color",type:c.color}),M.push({name:"pie-"+S+"-background-size",type:c.percent}),M.push({name:"pie-"+S+"-background-opacity",type:c.zeroOneNumber});var F=[],O=Gt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function($){O.forEach(function(L){var Y=L+"-"+$.name,K=$.type,ue=$.triggersBounds;F.push({name:Y,type:K,triggersBounds:ue})})},{});var R=Gt.properties=[].concat(g,b,v,p,y,I,f,m,d,u,h,C,w,x,D,M,E,T,F,A),P=Gt.propertyGroups={behavior:g,transition:b,visibility:v,overlay:p,underlay:y,ghost:I,commonLabel:f,labelDimensions:m,mainLabel:d,sourceLabel:u,targetLabel:h,nodeBody:C,nodeBorder:w,nodeOutline:x,backgroundImage:D,pie:M,compound:E,edgeLine:T,edgeArrow:F,core:A},j=Gt.propertyGroupNames={},H=Gt.propertyGroupKeys=Object.keys(P);H.forEach(function($){j[$]=P[$].map(function(L){return L.name}),P[$].forEach(function(L){return L.groupKey=$})});var V=Gt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Gt.propertyNames=R.map(function($){return $.name});for(var B=0;B<R.length;B++){var G=R[B];R[G.name]=G}for(var Q=0;Q<V.length;Q++){var ee=V[Q],te=R[ee.pointsTo],re={name:ee.name,alias:!0,pointsTo:te};R.push(re),R[ee.name]=re}})();Gt.getDefaultProperty=function(i){return this.getDefaultProperties()[i]};Gt.getDefaultProperties=function(){var i=this._private;if(i.defaultProperties!=null)return i.defaultProperties;for(var e=Ie({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,c){for(var d=1;d<=Gt.pieBackgroundN;d++){var u=c.name.replace("{{i}}",d),h=c.value;l[u]=h}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,c){return Gt.arrowPrefixes.forEach(function(d){var u=d+"-"+c.name,h=c.value;l[u]=h}),l},{})),r={},t=0;t<this.properties.length;t++){var n=this.properties[t];if(!n.pointsTo){var a=n.name,o=e[a],s=this.parse(a,o);r[a]=s}}return i.defaultProperties=r,i.defaultProperties};Gt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var tl={};tl.parse=function(i,e,r,t){var n=this;if(Ct(e))return n.parseImplWarn(i,e,r,t);var a=t==="mapping"||t===!0||t===!1||t==null?"dontcare":t,o=r?"t":"f",s=""+e,l=vf(i,s,o,a),c=n.propCache=n.propCache||[],d;return(d=c[l])||(d=c[l]=n.parseImplWarn(i,e,r,t)),(r||t==="mapping")&&(d=ir(d),d&&(d.value=ir(d.value))),d};tl.parseImplWarn=function(i,e,r,t){var n=this.parseImpl(i,e,r,t);return!n&&e!=null&&ht("The style property `".concat(i,": ").concat(e,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&e==="label"&&ht("The style value of `label` is deprecated for `"+n.name+"`"),n};tl.parseImpl=function(i,e,r,t){var n=this;i=Pc(i);var a=n.properties[i],o=e,s=n.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,i=a.name);var l=_e(e);l&&(e=e.trim());var c=a.type;if(!c)return null;if(r&&(e===""||e===null))return{name:i,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:i,value:e,strValue:"fn",mapped:s.fn,bypass:r};var d,u;if(!(!l||t||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(d=new RegExp(s.data.regex).exec(e))){if(r)return!1;var h=s.data;return{name:i,value:d,strValue:""+e,mapped:h,field:d[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(u=new RegExp(s.mapData.regex).exec(e))){if(r||c.multiple)return!1;var m=s.mapData;if(!(c.color||c.number))return!1;var f=this.parse(i,u[4]);if(!f||f.mapped)return!1;var g=this.parse(i,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return ht("`"+i+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+i+": "+f.strValue+"`"),this.parse(i,f.strValue);if(c.color){var v=f.value,p=g.value,y=v[0]===p[0]&&v[1]===p[1]&&v[2]===p[2]&&(v[3]===p[3]||(v[3]==null||v[3]===1)&&(p[3]==null||p[3]===1));if(y)return!1}return{name:i,value:u,strValue:""+e,mapped:m,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:r}}}if(c.multiple&&t!=="multiple"){var b;if(l?b=e.split(/\s+/):vt(e)?b=e:b=[e],c.evenMultiple&&b.length%2!==0)return null;for(var _=[],C=[],w=[],x="",D=!1,E=0;E<b.length;E++){var T=n.parse(i,b[E],r,"multiple");D=D||_e(T.value),_.push(T.value),w.push(T.pfValue!=null?T.pfValue:T.value),C.push(T.units),x+=(E>0?" ":"")+T.strValue}return c.validate&&!c.validate(_,C)?null:c.singleEnum&&D?_.length===1&&_e(_[0])?{name:i,value:_[0],strValue:_[0],bypass:r}:null:{name:i,value:_,pfValue:w,strValue:x,bypass:r,units:C}}var I=function(){for(var L=0;L<c.enums.length;L++){var Y=c.enums[L];if(Y===e)return{name:i,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var A,M="px";if(c.units&&(A=c.units),c.implicitUnits&&(M=c.implicitUnits),!c.unitless)if(l){var S="px|em"+(c.allowPercent?"|\\%":"");A&&(S=A);var F=e.match("^("+Pt+")("+S+")?$");F&&(e=F[1],A=F[2]||M)}else(!A||c.implicitUnits)&&(A=M);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=o,I();if(c.integer&&!og(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var O={name:i,value:e,strValue:""+e+(A||""),units:A,bypass:r};return c.unitless||A!=="px"&&A!=="em"?O.pfValue=e:O.pfValue=A==="px"||!A?e:this.getEmSizeInPixels()*e,(A==="ms"||A==="s")&&(O.pfValue=A==="ms"?e:1e3*e),(A==="deg"||A==="rad")&&(O.pfValue=A==="rad"?e:zb(e)),A==="%"&&(O.pfValue=e/100),O}else if(c.propList){var R=[],P=""+e;if(P!=="none"){for(var j=P.split(/\s*,\s*|\s+/),H=0;H<j.length;H++){var V=j[H].trim();n.properties[V]?R.push(V):ht("`"+V+"` is not a valid property name")}if(R.length===0)return null}return{name:i,value:R,strValue:R.length===0?"none":R.join(" "),bypass:r}}else if(c.color){var B=Cg(e);return B?{name:i,value:B,pfValue:B,strValue:"rgb("+B[0]+","+B[1]+","+B[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var G=I();if(G)return G}for(var Q=c.regexes?c.regexes:[c.regex],ee=0;ee<Q.length;ee++){var te=new RegExp(Q[ee]),re=te.exec(e);if(re)return{name:i,value:c.singleRegexMatchValue?re[1]:re,strValue:""+e,bypass:r}}return null}else return c.string?{name:i,value:""+e,strValue:""+e,bypass:r}:c.enums?I():null};var ei=function i(e){if(!(this instanceof i))return new i(e);if(!Fc(e)){St("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ii=ei.prototype;ii.instanceString=function(){return"style"};ii.clear=function(){for(var i=this._private,e=i.cy,r=e.elements(),t=0;t<this.length;t++)this[t]=void 0;return this.length=0,i.contextStyles={},i.propDiffs={},this.cleanElements(r,!0),r.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};ii.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};ii.core=function(i){return this._private.coreStyle[i]||this.getDefaultProperty(i)};ii.selector=function(i){var e=i==="core"?null:new zr(i),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};ii.css=function(){var i=this,e=arguments;if(e.length===1)for(var r=e[0],t=0;t<i.properties.length;t++){var n=i.properties[t],a=r[n.name];a===void 0&&(a=r[js(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};ii.style=ii.css;ii.cssRule=function(i,e){var r=this.parse(i,e);if(r){var t=this.length-1;this[t].properties.push(r),this[t].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[t].mappedProperties.push(r);var n=!this[t].selector;n&&(this._private.coreStyle[r.name]=r)}return this};ii.append=function(i){return of(i)?i.appendToStyle(this):vt(i)?this.appendFromJson(i):_e(i)&&this.appendFromString(i),this};ei.fromJson=function(i,e){var r=new ei(i);return r.fromJson(e),r};ei.fromString=function(i,e){return new ei(i).fromString(e)};[ri,bo,Kc,nr,el,Zc,Gt,tl].forEach(function(i){Ie(ii,i)});ei.types=ii.types;ei.properties=ii.properties;ei.propertyGroups=ii.propertyGroups;ei.propertyGroupNames=ii.propertyGroupNames;ei.propertyGroupKeys=ii.propertyGroupKeys;var ow={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return of(e)?r.style=e.generateStyle(this):vt(e)?r.style=ei.fromJson(this,e):_e(e)?r.style=ei.fromString(this,e):r.style=ei(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},sw="single",xn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=sw),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,t,n,a,o,s;switch(e.length){case 0:return r;case 1:if(_e(e[0]))return t=e[0],r[t];if(tt(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,s=a.y,ce(o)&&(r.x=o),ce(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=e[0],n=e[1],(t==="x"||t==="y")&&ce(n)&&(r[t]=n),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var t=arguments,n=this._private.pan,a,o,s,l,c;if(!this._private.panningEnabled)return this;switch(t.length){case 1:tt(e)&&(s=t[0],l=s.x,c=s.y,ce(l)&&(n.x+=l),ce(c)&&(n.y+=c),this.emit("pan viewport"));break;case 2:a=e,o=r,(a==="x"||a==="y")&&ce(o)&&(n[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var t=this.getFitViewport(e,r);if(t){var n=this._private;n.zoom=t.zoom,n.pan=t.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(ce(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var t;if(_e(e)){var n=e;e=this.$(n)}else if(cg(e)){var a=e;t={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},t.w=t.x2-t.x1,t.h=t.y2-t.y1}else vi(e)||(e=this.mutableElements());if(!(vi(e)&&e.empty())){t=t||e.boundingBox();var o=this.width(),s=this.height(),l;if(r=ce(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(t.w)&&!isNaN(t.h)&&t.w>0&&t.h>0){l=Math.min((o-2*r)/t.w,(s-2*r)/t.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var c={x:(o-l*(t.x1+t.x2))/2,y:(s-l*(t.y1+t.y2))/2};return{zoom:l,pan:c}}}}},zoomRange:function(e,r){var t=this._private;if(r==null){var n=e;e=n.min,r=n.max}return ce(e)&&ce(r)&&e<=r?(t.minZoom=e,t.maxZoom=r):ce(e)&&r===void 0&&e<=t.maxZoom?t.minZoom=e:ce(r)&&e===void 0&&r>=t.minZoom&&(t.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,t=r.pan,n=r.zoom,a,o,s=!1;if(r.zoomingEnabled||(s=!0),ce(e)?o=e:tt(e)&&(o=e.level,e.position!=null?a=Ws(e.position,n,t):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!ce(o)||o===n||a!=null&&(!ce(a.x)||!ce(a.y)))return null;if(a!=null){var l=t,c=n,d=o,u={x:-d/c*(a.x-l.x)+a.x,y:-d/c*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:d,pan:u}}else return{zoomed:!0,panned:!1,zoom:o,pan:t}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),t=this._private;return r==null||!r.zoomed?this:(t.zoom=r.zoom,r.panned&&(t.pan.x=r.pan.x,t.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,t=!0,n=!0,a=[],o=!1,s=!1;if(!e)return this;if(ce(e.zoom)||(t=!1),tt(e.pan)||(n=!1),!t&&!n)return this;if(t){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,a.push("zoom"))}if(n&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;ce(c.x)&&(r.pan.x=c.x,s=!1),ce(c.y)&&(r.pan.y=c.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(_e(e)){var t=e;e=this.mutableElements().filter(t)}else vi(e)||(e=this.mutableElements());if(e.length!==0){var n=e.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(a-r*(n.x1+n.x2))/2,y:(o-r*(n.y1+n.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,t=this;return e.sizeCache=e.sizeCache||(r?function(){var n=t.window().getComputedStyle(r),a=function(s){return parseFloat(n.getPropertyValue(s))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,t=this.renderedExtent(),n={x1:(t.x1-e.x)/r,x2:(t.x2-e.x)/r,y1:(t.y1-e.y)/r,y2:(t.y2-e.y)/r};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};xn.centre=xn.center;xn.autolockNodes=xn.autolock;xn.autoungrabifyNodes=xn.autoungrabify;var uo={data:ut.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ut.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ut.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ut.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};uo.attr=uo.data;uo.removeAttr=uo.removeData;var ho=function(e){var r=this;e=Ie({},e);var t=e.container;t&&!Ts(t)&&Ts(t[0])&&(t=t[0]);var n=t?t._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var a=n.readies=n.readies||[];t&&(t._cyreg=n),n.cy=r;var o=Ft!==void 0&&t!==void 0&&!e.headless,s=e;s.layout=Ie({name:o?"grid":"null"},s.layout),s.renderer=Ie({name:o?"canvas":"null"},s.renderer);var l=function(f,g,v){return g!==void 0?g:v!==void 0?v:f},c=this._private={container:t,ready:!1,options:s,elements:new Yt(this),listeners:[],aniEles:new Yt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:ce(s.zoom)?s.zoom:1,pan:{x:tt(s.pan)&&ce(s.pan.x)?s.pan.x:0,y:tt(s.pan)&&ce(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var d=function(f,g){var v=f.some(dg);if(v)return aa.all(f).then(g);g(f)};c.styleEnabled&&r.setStyle([]);var u=Ie({},s,s.renderer);r.initRenderer(u);var h=function(f,g,v){r.notifications(!1);var p=r.mutableElements();p.length>0&&p.remove(),f!=null&&(tt(f)||vt(f))&&r.add(f),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",v),r.emit("done")});var y=Ie({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};d([s.style,s.elements],function(m){var f=m[0],g=m[1];c.styleEnabled&&r.style().append(f),h(g,function(){r.startAnimationLoop(),c.ready=!0,Ct(s.ready)&&r.on("ready",s.ready);for(var v=0;v<a.length;v++){var p=a[v];r.on("ready",p)}n&&(n.readies=[]),r.emit("ready")},s.done)})},Ns=ho.prototype;Ie(Ns,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ft;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ft:r.defaultView||Ft},mount:function(e){if(e!=null){var r=this,t=r._private,n=t.options;return!Ts(e)&&Ts(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),t.container=e,t.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ie({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),r.startAnimationLoop(),r.style(n.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ir(this._private.options)},json:function(e){var r=this,t=r._private,n=r.mutableElements(),a=function(_){return r.getElementById(_.id())};if(tt(e)){if(r.startBatch(),e.elements){var o={},s=function(_,C){for(var w=[],x=[],D=0;D<_.length;D++){var E=_[D];if(!E.data.id){ht("cy.json() cannot handle elements without an ID attribute");continue}var T=""+E.data.id,I=r.getElementById(T);o[T]=!0,I.length!==0?x.push({ele:I,json:E}):(C&&(E.group=C),w.push(E))}r.add(w);for(var A=0;A<x.length;A++){var M=x[A],S=M.ele,F=M.json;S.json(F)}};if(vt(e.elements))s(e.elements);else for(var l=["nodes","edges"],c=0;c<l.length;c++){var d=l[c],u=e.elements[d];vt(u)&&s(u,d)}var h=r.collection();n.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?h.merge(b):b.remove()}),h.forEach(function(b){return b.children().move({parent:null})}),h.forEach(function(b){return a(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==t.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==t.pan.x||e.pan.y!==t.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<m.length;f++){var g=m[f];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var v=!!e,p={};v?p.elements=this.elements().map(function(b){return b.json()}):(p.elements={},n.forEach(function(b){var _=b.group();p.elements[_]||(p.elements[_]=[]),p.elements[_].push(b.json())})),this._private.styleEnabled&&(p.style=r.style().json()),p.data=ir(r.data());var y=t.options;return p.zoomingEnabled=t.zoomingEnabled,p.userZoomingEnabled=t.userZoomingEnabled,p.zoom=t.zoom,p.minZoom=t.minZoom,p.maxZoom=t.maxZoom,p.panningEnabled=t.panningEnabled,p.userPanningEnabled=t.userPanningEnabled,p.pan=ir(t.pan),p.boxSelectionEnabled=t.boxSelectionEnabled,p.renderer=ir(y.renderer),p.hideEdgesOnViewport=y.hideEdgesOnViewport,p.textureOnViewport=y.textureOnViewport,p.wheelSensitivity=y.wheelSensitivity,p.motionBlur=y.motionBlur,p.multiClickDebounceTime=y.multiClickDebounceTime,p}}});Ns.$id=Ns.getElementById;[Zx,tw,sm,wc,Ds,rw,Cc,Ss,ow,xn,uo].forEach(function(i){Ie(Ns,i)});var lw={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},cw={maximal:!1,acyclic:!1},Wn=function(e){return e.scratch("breadthfirst")},Fh=function(e,r){return e.scratch("breadthfirst",r)};function lm(i){this.options=Ie({},lw,cw,i)}lm.prototype.run=function(){var i=this.options,e=i,r=i.cy,t=e.eles,n=t.nodes().filter(function(se){return!se.isParent()}),a=t,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=mi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c;if(vi(e.roots))c=e.roots;else if(vt(e.roots)){for(var d=[],u=0;u<e.roots.length;u++){var h=e.roots[u],m=r.getElementById(h);d.push(m)}c=r.collection(d)}else if(_e(e.roots))c=r.$(e.roots);else if(o)c=n.roots();else{var f=t.components();c=r.collection();for(var g=function(de){var fe=f[de],ge=fe.maxDegree(!1),pe=fe.filter(function(Ee){return Ee.degree(!1)===ge});c=c.add(pe)},v=0;v<f.length;v++)g(v)}var p=[],y={},b=function(de,fe){p[fe]==null&&(p[fe]=[]);var ge=p[fe].length;p[fe].push(de),Fh(de,{index:ge,depth:fe})},_=function(de,fe){var ge=Wn(de),pe=ge.depth,Ee=ge.index;p[pe][Ee]=null,b(de,fe)};a.bfs({roots:c,directed:e.directed,visit:function(de,fe,ge,pe,Ee){var lt=de[0],Je=lt.id();b(lt,Ee),y[Je]=!0}});for(var C=[],w=0;w<n.length;w++){var x=n[w];y[x.id()]||C.push(x)}var D=function(de){for(var fe=p[de],ge=0;ge<fe.length;ge++){var pe=fe[ge];if(pe==null){fe.splice(ge,1),ge--;continue}Fh(pe,{depth:de,index:ge})}},E=function(){for(var de=0;de<p.length;de++)D(de)},T=function(de,fe){for(var ge=Wn(de),pe=de.incomers().filter(function(k){return k.isNode()&&t.has(k)}),Ee=-1,lt=de.id(),Je=0;Je<pe.length;Je++){var Be=pe[Je],it=Wn(Be);Ee=Math.max(Ee,it.depth)}if(ge.depth<=Ee){if(!e.acyclic&&fe[lt])return null;var J=Ee+1;return _(de,J),fe[lt]=J,!0}return!1};if(o&&s){var I=[],A={},M=function(de){return I.push(de)},S=function(){return I.shift()};for(n.forEach(function(se){return I.push(se)});I.length>0;){var F=S(),O=T(F,A);if(O)F.outgoers().filter(function(se){return se.isNode()&&t.has(se)}).forEach(M);else if(O===null){ht("Detected double maximal shift for node `"+F.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var R=0;if(e.avoidOverlap)for(var P=0;P<n.length;P++){var j=n[P],H=j.layoutDimensions(e),V=H.w,B=H.h;R=Math.max(R,V,B)}var G={},Q=function(de){if(G[de.id()])return G[de.id()];for(var fe=Wn(de).depth,ge=de.neighborhood(),pe=0,Ee=0,lt=0;lt<ge.length;lt++){var Je=ge[lt];if(!(Je.isEdge()||Je.isParent()||!n.has(Je))){var Be=Wn(Je);if(Be!=null){var it=Be.index,J=Be.depth;if(!(it==null||J==null)){var k=p[J].length;J<fe&&(pe+=it/k,Ee++)}}}}return Ee=Math.max(1,Ee),pe=pe/Ee,Ee===0&&(pe=0),G[de.id()]=pe,pe},ee=function(de,fe){var ge=Q(de),pe=Q(fe),Ee=ge-pe;return Ee===0?lf(de.id(),fe.id()):Ee};e.depthSort!==void 0&&(ee=e.depthSort);for(var te=0;te<p.length;te++)p[te].sort(ee),D(te);for(var re=[],$=0;$<C.length;$++)re.push(C[$]);p.unshift(re),E();for(var L=0,Y=0;Y<p.length;Y++)L=Math.max(p[Y].length,L);var K={x:l.x1+l.w/2,y:l.x1+l.h/2},ue=p.reduce(function(se,de){return Math.max(se,de.length)},0),xe=function(de){var fe=Wn(de),ge=fe.depth,pe=fe.index,Ee=p[ge].length,lt=Math.max(l.w/((e.grid?ue:Ee)+1),R),Je=Math.max(l.h/(p.length+1),R),Be=Math.min(l.w/2/p.length,l.h/2/p.length);if(Be=Math.max(Be,R),e.circle){var J=Be*ge+Be-(p.length>0&&p[0].length<=3?Be/2:0),k=2*Math.PI/p[ge].length*pe;return ge===0&&p[0].length===1&&(J=1),{x:K.x+J*Math.cos(k),y:K.y+J*Math.sin(k)}}else{var it={x:K.x+(pe+1-(Ee+1)/2)*lt,y:(ge+1)*Je};return it}};return t.nodes().layoutPositions(this,e,xe),this};var dw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function cm(i){this.options=Ie({},dw,i)}cm.prototype.run=function(){var i=this.options,e=i,r=i.cy,t=e.eles,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=t.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=mi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,c=l/Math.max(1,a.length-1),d,u=0,h=0;h<a.length;h++){var m=a[h],f=m.layoutDimensions(e),g=f.w,v=f.h;u=Math.max(u,g,v)}if(ce(e.radius)?d=e.radius:a.length<=1?d=0:d=Math.min(o.h,o.w)/2-u,a.length>1&&e.avoidOverlap){u*=1.75;var p=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),b=Math.sqrt(u*u/(p*p+y*y));d=Math.max(b,d)}var _=function(w,x){var D=e.startAngle+x*c*(n?1:-1),E=d*Math.cos(D),T=d*Math.sin(D),I={x:s.x+E,y:s.y+T};return I};return t.nodes().layoutPositions(this,e,_),this};var uw={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function dm(i){this.options=Ie({},uw,i)}dm.prototype.run=function(){for(var i=this.options,e=i,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,t=i.cy,n=e.eles,a=n.nodes().not(":parent"),o=mi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],c=0,d=0;d<a.length;d++){var u=a[d],h=void 0;h=e.concentric(u),l.push({value:h,node:u}),u._private.scratch.concentric=h}a.updateStyle();for(var m=0;m<a.length;m++){var f=a[m],g=f.layoutDimensions(e);c=Math.max(c,g.w,g.h)}l.sort(function(se,de){return de.value-se.value});for(var v=e.levelWidth(a),p=[[]],y=p[0],b=0;b<l.length;b++){var _=l[b];if(y.length>0){var C=Math.abs(y[0].value-_.value);C>=v&&(y=[],p.push(y))}y.push(_)}var w=c+e.minNodeSpacing;if(!e.avoidOverlap){var x=p.length>0&&p[0].length>1,D=Math.min(o.w,o.h)/2-w,E=D/(p.length+x?1:0);w=Math.min(w,E)}for(var T=0,I=0;I<p.length;I++){var A=p[I],M=e.sweep===void 0?2*Math.PI-2*Math.PI/A.length:e.sweep,S=A.dTheta=M/Math.max(1,A.length-1);if(A.length>1&&e.avoidOverlap){var F=Math.cos(S)-Math.cos(0),O=Math.sin(S)-Math.sin(0),R=Math.sqrt(w*w/(F*F+O*O));T=Math.max(R,T)}A.r=T,T+=w}if(e.equidistant){for(var P=0,j=0,H=0;H<p.length;H++){var V=p[H],B=V.r-j;P=Math.max(P,B)}j=0;for(var G=0;G<p.length;G++){var Q=p[G];G===0&&(j=Q.r),Q.r=j,j+=P}}for(var ee={},te=0;te<p.length;te++)for(var re=p[te],$=re.dTheta,L=re.r,Y=0;Y<re.length;Y++){var K=re[Y],ue=e.startAngle+(r?1:-1)*$*Y,xe={x:s.x+L*Math.cos(ue),y:s.y+L*Math.sin(ue)};ee[K.node.id()]=xe}return n.nodes().layoutPositions(this,e,function(se){var de=se.id();return ee[de]}),this};var hc,hw={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function il(i){this.options=Ie({},hw,i),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),t=r.filter(function(n){var a=n.source().data("id"),o=n.target().data("id"),s=e.some(function(c){return c.data("id")===a}),l=e.some(function(c){return c.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(t)}il.prototype.run=function(){var i=this.options,e=i.cy,r=this;r.stopped=!1,(i.animate===!0||i.animate===!1)&&r.emit({type:"layoutstart",layout:r}),i.debug===!0?hc=!0:hc=!1;var t=fw(e,r,i);hc&&vw(t),i.randomize&&gw(t);var n=gr(),a=function(){bw(t,e,i),i.fit===!0&&e.fit(i.padding)},o=function(h){return!(r.stopped||h>=i.numIter||(yw(t,i),t.temperature=t.temperature*i.coolingFactor,t.temperature<i.minTemp))},s=function(){if(i.animate===!0||i.animate===!1)a(),r.one("layoutstop",i.stop),r.emit({type:"layoutstop",layout:r});else{var h=i.eles.nodes(),m=um(t,i,h);h.layoutPositions(r,i,m)}},l=0,c=!0;if(i.animate===!0){var d=function u(){for(var h=0;c&&h<i.refresh;)c=o(l),l++,h++;if(!c)Lh(t,i),s();else{var m=gr();m-n>=i.animationThreshold&&a(),Ms(u)}};d()}else{for(;c;)c=o(l),l++;Lh(t,i),s()}return this};il.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};il.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var fw=function(e,r,t){for(var n=t.eles.edges(),a=t.eles.nodes(),o=mi(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:t.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=t.eles.components(),c={},d=0;d<l.length;d++)for(var u=l[d],h=0;h<u.length;h++){var m=u[h];c[m.id()]=d}for(var d=0;d<s.nodeSize;d++){var f=a[d],g=f.layoutDimensions(t),v={};v.isLocked=f.locked(),v.id=f.data("id"),v.parentId=f.data("parent"),v.cmptId=c[f.id()],v.children=[],v.positionX=f.position("x"),v.positionY=f.position("y"),v.offsetX=0,v.offsetY=0,v.height=g.w,v.width=g.h,v.maxX=v.positionX+v.width/2,v.minX=v.positionX-v.width/2,v.maxY=v.positionY+v.height/2,v.minY=v.positionY-v.height/2,v.padLeft=parseFloat(f.style("padding")),v.padRight=parseFloat(f.style("padding")),v.padTop=parseFloat(f.style("padding")),v.padBottom=parseFloat(f.style("padding")),v.nodeRepulsion=Ct(t.nodeRepulsion)?t.nodeRepulsion(f):t.nodeRepulsion,s.layoutNodes.push(v),s.idToIndex[v.id]=d}for(var p=[],y=0,b=-1,_=[],d=0;d<s.nodeSize;d++){var f=s.layoutNodes[d],C=f.parentId;C!=null?s.layoutNodes[s.idToIndex[C]].children.push(f.id):(p[++b]=f.id,_.push(f.id))}for(s.graphSet.push(_);y<=b;){var w=p[y++],x=s.idToIndex[w],m=s.layoutNodes[x],D=m.children;if(D.length>0){s.graphSet.push(D);for(var d=0;d<D.length;d++)p[++b]=D[d]}}for(var d=0;d<s.graphSet.length;d++)for(var E=s.graphSet[d],h=0;h<E.length;h++){var T=s.idToIndex[E[h]];s.indexToGraph[T]=d}for(var d=0;d<s.edgeSize;d++){var I=n[d],A={};A.id=I.data("id"),A.sourceId=I.data("source"),A.targetId=I.data("target");var M=Ct(t.idealEdgeLength)?t.idealEdgeLength(I):t.idealEdgeLength,S=Ct(t.edgeElasticity)?t.edgeElasticity(I):t.edgeElasticity,F=s.idToIndex[A.sourceId],O=s.idToIndex[A.targetId],R=s.indexToGraph[F],P=s.indexToGraph[O];if(R!=P){for(var j=mw(A.sourceId,A.targetId,s),H=s.graphSet[j],V=0,v=s.layoutNodes[F];H.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],V++;for(v=s.layoutNodes[O];H.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],V++;M*=V*t.nestingFactor}A.idealLength=M,A.elasticity=S,s.layoutEdges.push(A)}return s},mw=function(e,r,t){var n=pw(e,r,0,t);return 2>n.count?0:n.graph},pw=function i(e,r,t,n){var a=n.graphSet[t];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:t};for(var o=0,s=0;s<a.length;s++){var l=a[s],c=n.idToIndex[l],d=n.layoutNodes[c].children;if(d.length!==0){var u=n.indexToGraph[n.idToIndex[d[0]]],h=i(e,r,u,n);if(h.count!==0)if(h.count===1){if(o++,o===2)break}else return h}}return{count:o,graph:t}},vw,gw=function(e,r){for(var t=e.clientWidth,n=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*t,o.positionY=Math.random()*n)}},um=function(e,r,t){var n=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(t.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var c=(l.positionX-a.x1)/a.w,d=(l.positionY-a.y1)/a.h;return{x:n.x1+c*n.w,y:n.y1+d*n.h}}else return{x:l.positionX,y:l.positionY}}},bw=function(e,r,t){var n=t.layout,a=t.eles.nodes(),o=um(e,t,a);a.positions(o),e.ready!==!0&&(e.ready=!0,n.one("layoutready",t.ready),n.emit({type:"layoutready",layout:this}))},yw=function(e,r,t){_w(e,r),Cw(e),Ew(e,r),kw(e),Dw(e)},_w=function(e,r){for(var t=0;t<e.graphSet.length;t++)for(var n=e.graphSet[t],a=n.length,o=0;o<a;o++)for(var s=e.layoutNodes[e.idToIndex[n[o]]],l=o+1;l<a;l++){var c=e.layoutNodes[e.idToIndex[n[l]]];xw(s,c,e,r)}},Ph=function(e){return-e+2*e*Math.random()},xw=function(e,r,t,n){var a=e.cmptId,o=r.cmptId;if(!(a!==o&&!t.isCompound)){var s=r.positionX-e.positionX,l=r.positionY-e.positionY,c=1;s===0&&l===0&&(s=Ph(c),l=Ph(c));var d=ww(e,r,s,l);if(d>0)var u=n.nodeOverlap*d,h=Math.sqrt(s*s+l*l),m=u*s/h,f=u*l/h;else var g=Bs(e,s,l),v=Bs(r,-1*s,-1*l),p=v.x-g.x,y=v.y-g.y,b=p*p+y*y,h=Math.sqrt(b),u=(e.nodeRepulsion+r.nodeRepulsion)/b,m=u*p/h,f=u*y/h;e.isLocked||(e.offsetX-=m,e.offsetY-=f),r.isLocked||(r.offsetX+=m,r.offsetY+=f)}},ww=function(e,r,t,n){if(t>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(n>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},Bs=function(e,r,t){var n=e.positionX,a=e.positionY,o=e.height||1,s=e.width||1,l=t/r,c=o/s,d={};return r===0&&0<t||r===0&&0>t?(d.x=n,d.y=a+o/2,d):0<r&&-1*c<=l&&l<=c?(d.x=n+s/2,d.y=a+s*t/2/r,d):0>r&&-1*c<=l&&l<=c?(d.x=n-s/2,d.y=a-s*t/2/r,d):0<t&&(l<=-1*c||l>=c)?(d.x=n+o*r/2/t,d.y=a+o/2,d):(0>t&&(l<=-1*c||l>=c)&&(d.x=n-o*r/2/t,d.y=a-o/2),d)},Cw=function(e,r){for(var t=0;t<e.edgeSize;t++){var n=e.layoutEdges[t],a=e.idToIndex[n.sourceId],o=e.layoutNodes[a],s=e.idToIndex[n.targetId],l=e.layoutNodes[s],c=l.positionX-o.positionX,d=l.positionY-o.positionY;if(!(c===0&&d===0)){var u=Bs(o,c,d),h=Bs(l,-1*c,-1*d),m=h.x-u.x,f=h.y-u.y,g=Math.sqrt(m*m+f*f),v=Math.pow(n.idealLength-g,2)/n.elasticity;if(g!==0)var p=v*m/g,y=v*f/g;else var p=0,y=0;o.isLocked||(o.offsetX+=p,o.offsetY+=y),l.isLocked||(l.offsetX-=p,l.offsetY-=y)}}},Ew=function(e,r){if(r.gravity!==0)for(var t=1,n=0;n<e.graphSet.length;n++){var a=e.graphSet[n],o=a.length;if(n===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[a[0]]],d=e.layoutNodes[e.idToIndex[c.parentId]],s=d.positionX,l=d.positionY;for(var u=0;u<o;u++){var h=e.layoutNodes[e.idToIndex[a[u]]];if(!h.isLocked){var m=s-h.positionX,f=l-h.positionY,g=Math.sqrt(m*m+f*f);if(g>t){var v=r.gravity*m/g,p=r.gravity*f/g;h.offsetX+=v,h.offsetY+=p}}}}},kw=function(e,r){var t=[],n=0,a=-1;for(t.push.apply(t,e.graphSet[0]),a+=e.graphSet[0].length;n<=a;){var o=t[n++],s=e.idToIndex[o],l=e.layoutNodes[s],c=l.children;if(0<c.length&&!l.isLocked){for(var d=l.offsetX,u=l.offsetY,h=0;h<c.length;h++){var m=e.layoutNodes[e.idToIndex[c[h]]];m.offsetX+=d,m.offsetY+=u,t[++a]=c[h]}l.offsetX=0,l.offsetY=0}}},Dw=function(e,r){for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];if(!(0<n.children.length||n.isLocked)){var a=Sw(n.offsetX,n.offsetY,e.temperature);n.positionX+=a.x,n.positionY+=a.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,Iw(n,e)}}for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},Sw=function(e,r,t){var n=Math.sqrt(e*e+r*r);if(n>t)var a={x:t*e/n,y:t*r/n};else var a={x:e,y:r};return a},Iw=function i(e,r){var t=e.parentId;if(t!=null){var n=r.layoutNodes[r.idToIndex[t]],a=!1;if((n.maxX==null||e.maxX+n.padRight>n.maxX)&&(n.maxX=e.maxX+n.padRight,a=!0),(n.minX==null||e.minX-n.padLeft<n.minX)&&(n.minX=e.minX-n.padLeft,a=!0),(n.maxY==null||e.maxY+n.padBottom>n.maxY)&&(n.maxY=e.maxY+n.padBottom,a=!0),(n.minY==null||e.minY-n.padTop<n.minY)&&(n.minY=e.minY-n.padTop,a=!0),a)return i(n,r)}},Lh=function(e,r){for(var t=e.layoutNodes,n=[],a=0;a<t.length;a++){var o=t[a],s=o.cmptId,l=n[s]=n[s]||[];l.push(o)}for(var c=0,a=0;a<n.length;a++){var d=n[a];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var u=0;u<d.length;u++){var h=d[u];d.x1=Math.min(d.x1,h.positionX-h.width/2),d.x2=Math.max(d.x2,h.positionX+h.width/2),d.y1=Math.min(d.y1,h.positionY-h.height/2),d.y2=Math.max(d.y2,h.positionY+h.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}n.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var m=0,f=0,g=0,v=0,p=Math.sqrt(c)*e.clientWidth/e.clientHeight,a=0;a<n.length;a++){var d=n[a];if(d){for(var u=0;u<d.length;u++){var h=d[u];h.isLocked||(h.positionX+=m-d.x1,h.positionY+=f-d.y1)}m+=d.w+r.componentSpacing,g+=d.w+r.componentSpacing,v=Math.max(v,d.h),g>p&&(f+=v+r.componentSpacing,m=0,g=0,v=0)}}},Aw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hm(i){this.options=Ie({},Aw,i)}hm.prototype.run=function(){var i=this.options,e=i,r=i.cy,t=e.eles,n=t.nodes().not(":parent");e.sort&&(n=n.sort(e.sort));var a=mi(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)t.nodes().layoutPositions(this,e,function(G){return{x:a.x1,y:a.y1}});else{var o=n.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),c=Math.round(a.w/a.h*s),d=function(Q){if(Q==null)return Math.min(l,c);var ee=Math.min(l,c);ee==l?l=Q:c=Q},u=function(Q){if(Q==null)return Math.max(l,c);var ee=Math.max(l,c);ee==l?l=Q:c=Q},h=e.rows,m=e.cols!=null?e.cols:e.columns;if(h!=null&&m!=null)l=h,c=m;else if(h!=null&&m==null)l=h,c=Math.ceil(o/l);else if(h==null&&m!=null)c=m,l=Math.ceil(o/c);else if(c*l>o){var f=d(),g=u();(f-1)*g>=o?d(f-1):(g-1)*f>=o&&u(g-1)}else for(;c*l<o;){var v=d(),p=u();(p+1)*v>=o?u(p+1):d(v+1)}var y=a.w/c,b=a.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var _=0;_<n.length;_++){var C=n[_],w=C._private.position;(w.x==null||w.y==null)&&(w.x=0,w.y=0);var x=C.layoutDimensions(e),D=e.avoidOverlapPadding,E=x.w+D,T=x.h+D;y=Math.max(y,E),b=Math.max(b,T)}for(var I={},A=function(Q,ee){return!!I["c-"+Q+"-"+ee]},M=function(Q,ee){I["c-"+Q+"-"+ee]=!0},S=0,F=0,O=function(){F++,F>=c&&(F=0,S++)},R={},P=0;P<n.length;P++){var j=n[P],H=e.position(j);if(H&&(H.row!==void 0||H.col!==void 0)){var V={row:H.row,col:H.col};if(V.col===void 0)for(V.col=0;A(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;A(V.row,V.col);)V.row++;R[j.id()]=V,M(V.row,V.col)}}var B=function(Q,ee){var te,re;if(Q.locked()||Q.isParent())return!1;var $=R[Q.id()];if($)te=$.col*y+y/2+a.x1,re=$.row*b+b/2+a.y1;else{for(;A(S,F);)O();te=F*y+y/2+a.x1,re=S*b+b/2+a.y1,M(S,F),O()}return{x:te,y:re}};n.layoutPositions(this,e,B)}return this};var Tw={ready:function(){},stop:function(){}};function Xc(i){this.options=Ie({},Tw,i)}Xc.prototype.run=function(){var i=this.options,e=i.eles,r=this;return i.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",i.ready),r.emit("layoutready"),r.one("layoutstop",i.stop),r.emit("layoutstop"),this};Xc.prototype.stop=function(){return this};var Mw={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function fm(i){this.options=Ie({},Mw,i)}fm.prototype.run=function(){var i=this.options,e=i.eles,r=e.nodes(),t=Ct(i.positions);function n(a){if(i.positions==null)return Pb(a.position());if(t)return i.positions(a);var o=i.positions[a._private.data.id];return o??null}return r.layoutPositions(this,i,function(a,o){var s=n(a);return a.locked()||s==null?!1:s}),this};var Ow={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function mm(i){this.options=Ie({},Ow,i)}mm.prototype.run=function(){var i=this.options,e=i.cy,r=i.eles,t=mi(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),n=function(o,s){return{x:t.x1+Math.round(Math.random()*t.w),y:t.y1+Math.round(Math.random()*t.h)}};return r.nodes().layoutPositions(this,i,n),this};var Rw=[{name:"breadthfirst",impl:lm},{name:"circle",impl:cm},{name:"concentric",impl:dm},{name:"cose",impl:il},{name:"grid",impl:hm},{name:"null",impl:Xc},{name:"preset",impl:fm},{name:"random",impl:mm}];function pm(i){this.options=i,this.notifications=0}var Nh=function(){},Bh=function(){throw new Error("A headless instance can not render images")};pm.prototype={recalculateRenderedStyle:Nh,notify:function(){this.notifications++},init:Nh,isHeadless:function(){return!0},png:Bh,jpg:Bh};var Qc={};Qc.arrowShapeWidth=.3;Qc.registerArrowShapes=function(){var i=this.arrowShapes={},e=this,r=function(c,d,u,h,m,f,g){var v=m.x-u/2-g,p=m.x+u/2+g,y=m.y-u/2-g,b=m.y+u/2+g,_=v<=c&&c<=p&&y<=d&&d<=b;return _},t=function(c,d,u,h,m){var f=c*Math.cos(h)-d*Math.sin(h),g=c*Math.sin(h)+d*Math.cos(h),v=f*u,p=g*u,y=v+m.x,b=p+m.y;return{x:y,y:b}},n=function(c,d,u,h){for(var m=[],f=0;f<c.length;f+=2){var g=c[f],v=c[f+1];m.push(t(g,v,d,u,h))}return m},a=function(c){for(var d=[],u=0;u<c.length;u++){var h=c[u];d.push(h.x,h.y)}return d},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},s=function(c,d){_e(d)&&(d=i[d]),i[c]=Ie({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,m,f,g,v,p){var y=a(n(this.points,f+2*p,g,v)),b=fi(h,m,y);return b},roughCollide:r,draw:function(h,m,f,g){var v=n(this.points,m,f,g);e.arrowShapeImpl("polygon")(h,v)},spacing:function(h){return 0},gap:o},d)};s("none",{collide:Os,roughCollide:Os,draw:Nc,spacing:Yu,gap:Yu}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:i.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=this.controlPoint,v=t(g[0],g[1],d,u,h);e.arrowShapeImpl(this.name)(c,f,v)},gap:function(c){return o(c)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,u,h,m,f,g){var v=a(n(this.points,u+2*g,h,m)),p=a(n(this.pointsTee,u+2*g,h,m)),y=fi(c,d,v)||fi(c,d,p);return y},draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=n(this.pointsTee,d,u,h);e.arrowShapeImpl(this.name)(c,f,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,u,h,m,f,g){var v=m,p=Math.pow(v.x-c,2)+Math.pow(v.y-d,2)<=Math.pow((u+2*g)*this.radius,2),y=a(n(this.points,u+2*g,h,m));return fi(c,d,y)||p},draw:function(c,d,u,h,m){var f=n(this.pointsTr,d,u,h);e.arrowShapeImpl(this.name)(c,f,h.x,h.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var u=this.baseCrossLinePts.slice(),h=d/c,m=3,f=5;return u[m]=u[m]-h,u[f]=u[f]-h,u},collide:function(c,d,u,h,m,f,g){var v=a(n(this.points,u+2*g,h,m)),p=a(n(this.crossLinePts(u,f),u+2*g,h,m)),y=fi(c,d,v)||fi(c,d,p);return y},draw:function(c,d,u,h,m){var f=n(this.points,d,u,h),g=n(this.crossLinePts(d,m),d,u,h);e.arrowShapeImpl(this.name)(c,f,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),s("circle",{radius:.15,collide:function(c,d,u,h,m,f,g){var v=m,p=Math.pow(v.x-c,2)+Math.pow(v.y-d,2)<=Math.pow((u+2*g)*this.radius,2);return p},draw:function(c,d,u,h,m){e.arrowShapeImpl(this.name)(c,h.x,h.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Cn={};Cn.projectIntoViewport=function(i,e){var r=this.cy,t=this.findContainerClientCoords(),n=t[0],a=t[1],o=t[4],s=r.pan(),l=r.zoom(),c=((i-n)/o-s.x)/l,d=((e-a)/o-s.y)/l;return[c,d]};Cn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var i=this.container,e=i.getBoundingClientRect(),r=this.cy.window().getComputedStyle(i),t=function(p){return parseFloat(r.getPropertyValue(p))},n={left:t("padding-left"),right:t("padding-right"),top:t("padding-top"),bottom:t("padding-bottom")},a={left:t("border-left-width"),right:t("border-right-width"),top:t("border-top-width"),bottom:t("border-bottom-width")},o=i.clientWidth,s=i.clientHeight,l=n.left+n.right,c=n.top+n.bottom,d=a.left+a.right,u=e.width/(o+d),h=o-l,m=s-c,f=e.left+n.left+a.left,g=e.top+n.top+a.top;return this.containerBB=[f,g,h,m,u]};Cn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Cn.findNearestElement=function(i,e,r,t){return this.findNearestElements(i,e,r,t)[0]};Cn.findNearestElements=function(i,e,r,t){var n=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),c=a.cy.hasCompoundNodes(),d=(t?24:8)/l,u=(t?8:2)/l,h=(t?8:2)/l,m=1/0,f,g;r&&(o=o.interactive);function v(x,D){if(x.isNode()){if(g)return;g=x,s.push(x)}if(x.isEdge()&&(D==null||D<m))if(f){if(f.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&f.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var E=0;E<s.length;E++)if(s[E].isEdge()){s[E]=x,f=x,m=D??m;break}}}else s.push(x),f=x,m=D??m}function p(x){var D=x.outerWidth()+2*u,E=x.outerHeight()+2*u,T=D/2,I=E/2,A=x.position(),M=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,S=x._private.rscratch;if(A.x-T<=i&&i<=A.x+T&&A.y-I<=e&&e<=A.y+I){var F=a.nodeShapes[n.getNodeShape(x)];if(F.checkPoint(i,e,0,D,E,A.x,A.y,M,S))return v(x,0),!0}}function y(x){var D=x._private,E=D.rscratch,T=x.pstyle("width").pfValue,I=x.pstyle("arrow-scale").value,A=T/2+d,M=A*A,S=A*2,P=D.source,j=D.target,F;if(E.edgeType==="segments"||E.edgeType==="straight"||E.edgeType==="haystack"){for(var O=E.allpts,R=0;R+3<O.length;R+=2)if(Yb(i,e,O[R],O[R+1],O[R+2],O[R+3],S)&&M>(F=Jb(i,e,O[R],O[R+1],O[R+2],O[R+3])))return v(x,F),!0}else if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"){for(var O=E.allpts,R=0;R+5<E.allpts.length;R+=4)if(Kb(i,e,O[R],O[R+1],O[R+2],O[R+3],O[R+4],O[R+5],S)&&M>(F=Qb(i,e,O[R],O[R+1],O[R+2],O[R+3],O[R+4],O[R+5])))return v(x,F),!0}for(var P=P||D.source,j=j||D.target,H=n.getArrowWidth(T,I),V=[{name:"source",x:E.arrowStartX,y:E.arrowStartY,angle:E.srcArrowAngle},{name:"target",x:E.arrowEndX,y:E.arrowEndY,angle:E.tgtArrowAngle},{name:"mid-source",x:E.midX,y:E.midY,angle:E.midsrcArrowAngle},{name:"mid-target",x:E.midX,y:E.midY,angle:E.midtgtArrowAngle}],R=0;R<V.length;R++){var B=V[R],G=a.arrowShapes[x.pstyle(B.name+"-arrow-shape").value],Q=x.pstyle("width").pfValue;if(G.roughCollide(i,e,H,B.angle,{x:B.x,y:B.y},Q,d)&&G.collide(i,e,H,B.angle,{x:B.x,y:B.y},Q,d))return v(x),!0}c&&s.length>0&&(p(P),p(j))}function b(x,D,E){return Hi(x,D,E)}function _(x,D){var E=x._private,T=h,I;D?I=D+"-":I="",x.boundingBox();var A=E.labelBounds[D||"main"],M=x.pstyle(I+"label").value,S=x.pstyle("text-events").strValue==="yes";if(!(!S||!M)){var F=b(E.rscratch,"labelX",D),O=b(E.rscratch,"labelY",D),R=b(E.rscratch,"labelAngle",D),P=x.pstyle(I+"text-margin-x").pfValue,j=x.pstyle(I+"text-margin-y").pfValue,H=A.x1-T-P,V=A.x2+T-P,B=A.y1-T-j,G=A.y2+T-j;if(R){var Q=Math.cos(R),ee=Math.sin(R),te=function(xe,se){return xe=xe-F,se=se-O,{x:xe*Q-se*ee+F,y:xe*ee+se*Q+O}},re=te(H,B),$=te(H,G),L=te(V,B),Y=te(V,G),K=[re.x+P,re.y+j,L.x+P,L.y+j,Y.x+P,Y.y+j,$.x+P,$.y+j];if(fi(i,e,K))return v(x),!0}else if(ta(A,i,e))return v(x),!0}}for(var C=o.length-1;C>=0;C--){var w=o[C];w.isNode()?p(w)||_(w):y(w)||_(w)||_(w,"source")||_(w,"target")}return s};Cn.getAllInBox=function(i,e,r,t){var n=this.getCachedZSortedEles().interactive,a=[],o=Math.min(i,r),s=Math.max(i,r),l=Math.min(e,t),c=Math.max(e,t);i=o,r=s,e=l,t=c;for(var d=mi({x1:i,y1:e,x2:r,y2:t}),u=0;u<n.length;u++){var h=n[u];if(h.isNode()){var m=h,f=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});zc(d,f)&&!Ef(f,d)&&a.push(m)}else{var g=h,v=g._private,p=v.rscratch;if(p.startX!=null&&p.startY!=null&&!ta(d,p.startX,p.startY)||p.endX!=null&&p.endY!=null&&!ta(d,p.endX,p.endY))continue;if(p.edgeType==="bezier"||p.edgeType==="multibezier"||p.edgeType==="self"||p.edgeType==="compound"||p.edgeType==="segments"||p.edgeType==="haystack"){for(var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,b=!0,_=0;_<y.length;_++)if(!$b(d,y[_])){b=!1;break}b&&a.push(g)}else(p.edgeType==="haystack"||p.edgeType==="straight")&&a.push(g)}}return a};var Vs={};Vs.calculateArrowAngles=function(i){var e=i._private.rscratch,r=e.edgeType==="haystack",t=e.edgeType==="bezier",n=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,c,d,u,h,m,p,y;if(r?(d=e.haystackPts[0],u=e.haystackPts[1],h=e.haystackPts[2],m=e.haystackPts[3]):(d=e.arrowStartX,u=e.arrowStartY,h=e.arrowEndX,m=e.arrowEndY),p=e.midX,y=e.midY,a)l=d-e.segpts[0],c=u-e.segpts[1];else if(n||o||s||t){var f=e.allpts,g=zt(f[0],f[2],f[4],.1),v=zt(f[1],f[3],f[5],.1);l=d-g,c=u-v}else l=d-p,c=u-y;e.srcArrowAngle=ds(l,c);var p=e.midX,y=e.midY;if(r&&(p=(d+h)/2,y=(u+m)/2),l=h-d,c=m-u,a){var f=e.allpts;if(f.length/2%2===0){var b=f.length/2,_=b-2;l=f[b]-f[_],c=f[b+1]-f[_+1]}else if(e.isRound)l=e.midVector[1],c=-e.midVector[0];else{var b=f.length/2-1,_=b-2;l=f[b]-f[_],c=f[b+1]-f[_+1]}}else if(n||o||s){var f=e.allpts,C=e.ctrlpts,w,x,D,E;if(C.length/2%2===0){var T=f.length/2-1,I=T+2,A=I+2;w=zt(f[T],f[I],f[A],0),x=zt(f[T+1],f[I+1],f[A+1],0),D=zt(f[T],f[I],f[A],1e-4),E=zt(f[T+1],f[I+1],f[A+1],1e-4)}else{var I=f.length/2-1,T=I-2,A=I+2;w=zt(f[T],f[I],f[A],.4999),x=zt(f[T+1],f[I+1],f[A+1],.4999),D=zt(f[T],f[I],f[A],.5),E=zt(f[T+1],f[I+1],f[A+1],.5)}l=D-w,c=E-x}if(e.midtgtArrowAngle=ds(l,c),e.midDispX=l,e.midDispY=c,l*=-1,c*=-1,a){var f=e.allpts;if(f.length/2%2!==0){if(!e.isRound){var b=f.length/2-1,M=b+2;l=-(f[M]-f[b]),c=-(f[M+1]-f[b+1])}}}if(e.midsrcArrowAngle=ds(l,c),a)l=h-e.segpts[e.segpts.length-2],c=m-e.segpts[e.segpts.length-1];else if(n||o||s||t){var f=e.allpts,S=f.length,g=zt(f[S-6],f[S-4],f[S-2],.9),v=zt(f[S-5],f[S-3],f[S-1],.9);l=h-g,c=m-v}else l=h-p,c=m-y;e.tgtArrowAngle=ds(l,c)};Vs.getArrowWidth=Vs.getArrowHeight=function(i,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},t=r[i+", "+e];return t||(t=Math.max(Math.pow(i*13.37,.9),29)*e,r[i+", "+e]=t,t)};var Ec,kc,tr={},Ei={},Vh,zh,mn,Is,vr,cn,fn,er,Gn,ys,vm,gm,Dc,Sc,jh,Hh=function(e,r,t){t.x=r.x-e.x,t.y=r.y-e.y,t.len=Math.sqrt(t.x*t.x+t.y*t.y),t.nx=t.x/t.len,t.ny=t.y/t.len,t.ang=Math.atan2(t.ny,t.nx)},Fw=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Pw=function(e,r,t,n,a){if(e!==jh?Hh(r,e,tr):Fw(Ei,tr),Hh(r,t,Ei),Vh=tr.nx*Ei.ny-tr.ny*Ei.nx,zh=tr.nx*Ei.nx-tr.ny*-Ei.ny,vr=Math.asin(Math.max(-1,Math.min(1,Vh))),Math.abs(vr)<1e-6){Ec=r.x,kc=r.y,fn=Gn=0;return}mn=1,Is=!1,zh<0?vr<0?vr=Math.PI+vr:(vr=Math.PI-vr,mn=-1,Is=!0):vr>0&&(mn=-1,Is=!0),r.radius!==void 0?Gn=r.radius:Gn=n,cn=vr/2,ys=Math.min(tr.len/2,Ei.len/2),a?(er=Math.abs(Math.cos(cn)*Gn/Math.sin(cn)),er>ys?(er=ys,fn=Math.abs(er*Math.sin(cn)/Math.cos(cn))):fn=Gn):(er=Math.min(ys,Gn),fn=Math.abs(er*Math.sin(cn)/Math.cos(cn))),Dc=r.x+Ei.nx*er,Sc=r.y+Ei.ny*er,Ec=Dc-Ei.ny*fn*mn,kc=Sc+Ei.nx*fn*mn,vm=r.x+tr.nx*er,gm=r.y+tr.ny*er,jh=r};function bm(i,e){e.radius===0?i.lineTo(e.cx,e.cy):i.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Jc(i,e,r,t){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return t===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Pw(i,e,r,t,n),{cx:Ec,cy:kc,radius:fn,startX:vm,startY:gm,stopX:Dc,stopY:Sc,startAngle:tr.ang+Math.PI/2*mn,endAngle:Ei.ang-Math.PI/2*mn,counterClockwise:Is})}var ni={};ni.findMidptPtsEtc=function(i,e){var r=e.posPts,t=e.intersectionPts,n=e.vectorNormInverse,a,o=i.pstyle("source-endpoint"),s=i.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,c=function(C,w,x,D){var E=D-w,T=x-C,I=Math.sqrt(T*T+E*E);return{x:-E/I,y:T/I}},d=i.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=t;break;case"endpoints":{if(l){var u=this.manualEndptToPx(i.source()[0],o),h=zi(u,2),m=h[0],f=h[1],g=this.manualEndptToPx(i.target()[0],s),v=zi(g,2),p=v[0],y=v[1],b={x1:m,y1:f,x2:p,y2:y};n=c(m,f,p,y),a=b}else ht("Edge ".concat(i.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=t;break}}return{midptPts:a,vectorNormInverse:n}};ni.findHaystackPoints=function(i){for(var e=0;e<i.length;e++){var r=i[e],t=r._private,n=t.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var o=t.source,s=t.target,l=o.position(),c=s.position(),d=o.width(),u=s.width(),h=o.height(),m=s.height(),f=r.pstyle("haystack-radius").value,g=f/2;n.haystackPts=n.allpts=[n.source.x*d*g+l.x,n.source.y*h*g+l.y,n.target.x*u*g+c.x,n.target.y*m*g+c.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};ni.findSegmentsPoints=function(i,e){var r=i._private.rscratch,t=i.pstyle("segment-weights"),n=i.pstyle("segment-distances"),a=i.pstyle("segment-radii"),o=i.pstyle("radius-type"),s=Math.min(t.pfValue.length,n.pfValue.length),l=a.pfValue[a.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<s;d++){var u=t.pfValue[d],h=n.pfValue[d],m=1-u,f=u,g=this.findMidptPtsEtc(i,e),v=g.midptPts,p=g.vectorNormInverse,y={x:v.x1*m+v.x2*f,y:v.y1*m+v.y2*f};r.segpts.push(y.x+p.x*h,y.y+p.y*h),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:l),r.isArcRadius.push((o.pfValue[d]!==void 0?o.pfValue[d]:c)==="arc-radius")}};ni.findLoopPoints=function(i,e,r,t){var n=i._private.rscratch,a=e.dirCounts,o=e.srcPos,s=i.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,c=i.pstyle("loop-direction").pfValue,d=i.pstyle("loop-sweep").pfValue,u=i.pstyle("control-point-step-size").pfValue;n.edgeType="self";var h=r,m=u;t&&(h=0,m=l);var f=c-Math.PI/2,g=f-d/2,v=f+d/2,p=c+"_"+d;h=a[p]===void 0?a[p]=0:++a[p],n.ctrlpts=[o.x+Math.cos(g)*1.4*m*(h/3+1),o.y+Math.sin(g)*1.4*m*(h/3+1),o.x+Math.cos(v)*1.4*m*(h/3+1),o.y+Math.sin(v)*1.4*m*(h/3+1)]};ni.findCompoundLoopPoints=function(i,e,r,t){var n=i._private.rscratch;n.edgeType="compound";var a=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,c=e.tgtW,d=e.tgtH,u=i.pstyle("control-point-step-size").pfValue,h=i.pstyle("control-point-distances"),m=h?h.pfValue[0]:void 0,f=r,g=u;t&&(f=0,g=m);var v=50,p={x:a.x-s/2,y:a.y-l/2},y={x:o.x-c/2,y:o.y-d/2},b={x:Math.min(p.x,y.x),y:Math.min(p.y,y.y)},_=.5,C=Math.max(_,Math.log(s*.01)),w=Math.max(_,Math.log(c*.01));n.ctrlpts=[b.x,b.y-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*C,b.x-(1+Math.pow(v,1.12)/100)*g*(f/3+1)*w,b.y]};ni.findStraightEdgePoints=function(i){i._private.rscratch.edgeType="straight"};ni.findBezierPoints=function(i,e,r,t,n){var a=i._private.rscratch,o=i.pstyle("control-point-step-size").pfValue,s=i.pstyle("control-point-distances"),l=i.pstyle("control-point-weights"),c=s&&l?Math.min(s.value.length,l.value.length):1,d=s?s.pfValue[0]:void 0,u=l.value[0],h=t;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var m=0;m<c;m++){var f=(.5-e.eles.length/2+r)*o*(n?-1:1),g=void 0,v=wf(f);h&&(d=s?s.pfValue[m]:o,u=l.value[m]),t?g=d:g=d!==void 0?v*d:void 0;var p=g!==void 0?g:f,y=1-u,b=u,_=this.findMidptPtsEtc(i,e),C=_.midptPts,w=_.vectorNormInverse,x={x:C.x1*y+C.x2*b,y:C.y1*y+C.y2*b};a.ctrlpts.push(x.x+w.x*p,x.y+w.y*p)}};ni.findTaxiPoints=function(i,e){var r=i._private.rscratch;r.edgeType="segments";var t="vertical",n="horizontal",a="leftward",o="rightward",s="downward",l="upward",c="auto",d=e.posPts,u=e.srcW,h=e.srcH,m=e.tgtW,f=e.tgtH,g=i.pstyle("edge-distances").value,v=g!=="node-position",p=i.pstyle("taxi-direction").value,y=p,b=i.pstyle("taxi-turn"),_=b.units==="%",C=b.pfValue,w=C<0,x=i.pstyle("taxi-turn-min-distance").pfValue,D=v?(u+m)/2:0,E=v?(h+f)/2:0,T=d.x2-d.x1,I=d.y2-d.y1,A=function(ke,De){return ke>0?Math.max(ke-De,0):Math.min(ke+De,0)},M=A(T,D),S=A(I,E),F=!1;y===c?p=Math.abs(M)>Math.abs(S)?n:t:y===l||y===s?(p=t,F=!0):(y===a||y===o)&&(p=n,F=!0);var O=p===t,R=O?S:M,P=O?I:T,j=wf(P),H=!1;!(F&&(_||w))&&(y===s&&P<0||y===l&&P>0||y===a&&P>0||y===o&&P<0)&&(j*=-1,R=j*Math.abs(R),H=!0);var V;if(_){var B=C<0?1+C:C;V=B*R}else{var G=C<0?R:0;V=G+C*j}var Q=function(ke){return Math.abs(ke)<x||Math.abs(ke)>=Math.abs(R)},ee=Q(V),te=Q(Math.abs(R)-Math.abs(V)),re=ee||te;if(re&&!H)if(O){var $=Math.abs(P)<=h/2,L=Math.abs(T)<=m/2;if($){var Y=(d.x1+d.x2)/2,K=d.y1,ue=d.y2;r.segpts=[Y,K,Y,ue]}else if(L){var xe=(d.y1+d.y2)/2,se=d.x1,de=d.x2;r.segpts=[se,xe,de,xe]}else r.segpts=[d.x1,d.y2]}else{var fe=Math.abs(P)<=u/2,ge=Math.abs(I)<=f/2;if(fe){var pe=(d.y1+d.y2)/2,Ee=d.x1,lt=d.x2;r.segpts=[Ee,pe,lt,pe]}else if(ge){var Je=(d.x1+d.x2)/2,Be=d.y1,it=d.y2;r.segpts=[Je,Be,Je,it]}else r.segpts=[d.x2,d.y1]}else if(O){var J=d.y1+V+(v?h/2*j:0),k=d.x1,z=d.x2;r.segpts=[k,J,z,J]}else{var Z=d.x1+V+(v?u/2*j:0),q=d.y1,U=d.y2;r.segpts=[Z,q,Z,U]}if(r.isRound){var oe=i.pstyle("taxi-radius").value,W=i.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(oe),r.isArcRadius=new Array(r.segpts.length/2).fill(W)}};ni.tryToCorrectInvalidPoints=function(i,e){var r=i._private.rscratch;if(r.edgeType==="bezier"){var t=e.srcPos,n=e.tgtPos,a=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,c=e.srcShape,d=e.tgtShape,u=e.srcCornerRadius,h=e.tgtCornerRadius,m=e.srcRs,f=e.tgtRs,g=!ce(r.startX)||!ce(r.startY),v=!ce(r.arrowStartX)||!ce(r.arrowStartY),p=!ce(r.endX)||!ce(r.endY),y=!ce(r.arrowEndX)||!ce(r.arrowEndY),b=3,_=this.getArrowWidth(i.pstyle("width").pfValue,i.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=b*_,w=bn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),x=w<C,D=bn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),E=D<C,T=!1;if(g||v||x){T=!0;var I={x:r.ctrlpts[0]-t.x,y:r.ctrlpts[1]-t.y},A=Math.sqrt(I.x*I.x+I.y*I.y),M={x:I.x/A,y:I.y/A},S=Math.max(a,o),F={x:r.ctrlpts[0]+M.x*2*S,y:r.ctrlpts[1]+M.y*2*S},O=c.intersectLine(t.x,t.y,a,o,F.x,F.y,0,u,m);x?(r.ctrlpts[0]=r.ctrlpts[0]+M.x*(C-w),r.ctrlpts[1]=r.ctrlpts[1]+M.y*(C-w)):(r.ctrlpts[0]=O[0]+M.x*C,r.ctrlpts[1]=O[1]+M.y*C)}if(p||y||E){T=!0;var R={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},P=Math.sqrt(R.x*R.x+R.y*R.y),j={x:R.x/P,y:R.y/P},H=Math.max(a,o),V={x:r.ctrlpts[0]+j.x*2*H,y:r.ctrlpts[1]+j.y*2*H},B=d.intersectLine(n.x,n.y,s,l,V.x,V.y,0,h,f);E?(r.ctrlpts[0]=r.ctrlpts[0]+j.x*(C-D),r.ctrlpts[1]=r.ctrlpts[1]+j.y*(C-D)):(r.ctrlpts[0]=B[0]+j.x*C,r.ctrlpts[1]=B[1]+j.y*C)}T&&this.findEndpoints(i)}};ni.storeAllpts=function(i){var e=i._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var t,n;e.ctrlpts.length/2%2===0?(t=e.allpts.length/2-1,e.midX=e.allpts[t],e.midY=e.allpts[t+1]):(t=e.allpts.length/2-3,n=.5,e.midX=zt(e.allpts[t],e.allpts[t+2],e.allpts[t+4],n),e.midY=zt(e.allpts[t+1],e.allpts[t+3],e.allpts[t+5],n))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],s=e.isArcRadius[a/2-1];e.roundCorners.push(Jc({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,s))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,c=l-2;e.midX=(e.segpts[c]+e.segpts[l])/2,e.midY=(e.segpts[c+1]+e.segpts[l+1])/2}else{var d=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[d],e.midY=e.segpts[d+1];else{var u={x:e.segpts[d],y:e.segpts[d+1]},h=e.roundCorners[d/2],m=[u.x-h.cx,u.y-h.cy],f=h.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(g){return g*f}),e.midX=h.cx+m[0],e.midY=h.cy+m[1],e.midVector=m}}}};ni.checkForInvalidEdgeWarning=function(i){var e=i[0]._private.rscratch;e.nodesOverlap||ce(e.startX)&&ce(e.startY)&&ce(e.endX)&&ce(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ht("Edge `"+i.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};ni.findEdgeControlPoints=function(i){var e=this;if(!(!i||i.length===0)){for(var r=this,t=r.cy,n=t.hasCompoundNodes(),a={map:new rr,get:function(x){var D=this.map.get(x[0]);return D!=null?D.get(x[1]):null},set:function(x,D){var E=this.map.get(x[0]);E==null&&(E=new rr,this.map.set(x[0],E)),E.set(x[1],D)}},o=[],s=[],l=0;l<i.length;l++){var c=i[l],d=c._private,u=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(u==="haystack"){s.push(c);continue}var h=u==="unbundled-bezier"||u.endsWith("segments")||u==="straight"||u==="straight-triangle"||u.endsWith("taxi"),m=u==="unbundled-bezier"||u==="bezier",f=d.source,g=d.target,v=f.poolIndex(),p=g.poolIndex(),y=[v,p].sort(),b=a.get(y);b==null&&(b={eles:[]},a.set(y,b),o.push(y)),b.eles.push(c),h&&(b.hasUnbundled=!0),m&&(b.hasBezier=!0)}}for(var _=function(x){var D=o[x],E=a.get(D),T=void 0;if(!E.hasUnbundled){var I=E.eles[0].parallelEdges().filter(function(Z){return Z.isBundledBezier()});Bc(E.eles),I.forEach(function(Z){return E.eles.push(Z)}),E.eles.sort(function(Z,q){return Z.poolIndex()-q.poolIndex()})}var A=E.eles[0],M=A.source(),S=A.target();if(M.poolIndex()>S.poolIndex()){var F=M;M=S,S=F}var O=E.srcPos=M.position(),R=E.tgtPos=S.position(),P=E.srcW=M.outerWidth(),j=E.srcH=M.outerHeight(),H=E.tgtW=S.outerWidth(),V=E.tgtH=S.outerHeight(),B=E.srcShape=r.nodeShapes[e.getNodeShape(M)],G=E.tgtShape=r.nodeShapes[e.getNodeShape(S)],Q=E.srcCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,ee=E.tgtCornerRadius=S.pstyle("corner-radius").value==="auto"?"auto":S.pstyle("corner-radius").pfValue,te=E.tgtRs=S._private.rscratch,re=E.srcRs=M._private.rscratch;E.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var $=0;$<E.eles.length;$++){var L=E.eles[$],Y=L[0]._private.rscratch,K=L.pstyle("curve-style").value,ue=K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi"),xe=!M.same(L.source());if(!E.calculatedIntersection&&M!==S&&(E.hasBezier||E.hasUnbundled)){E.calculatedIntersection=!0;var se=B.intersectLine(O.x,O.y,P,j,R.x,R.y,0,Q,re),de=E.srcIntn=se,fe=G.intersectLine(R.x,R.y,H,V,O.x,O.y,0,ee,te),ge=E.tgtIntn=fe,pe=E.intersectionPts={x1:se[0],x2:fe[0],y1:se[1],y2:fe[1]},Ee=E.posPts={x1:O.x,x2:R.x,y1:O.y,y2:R.y},lt=fe[1]-se[1],Je=fe[0]-se[0],Be=Math.sqrt(Je*Je+lt*lt),it=E.vector={x:Je,y:lt},J=E.vectorNorm={x:it.x/Be,y:it.y/Be},k={x:-J.y,y:J.x};E.nodesOverlap=!ce(Be)||G.checkPoint(se[0],se[1],0,H,V,R.x,R.y,ee,te)||B.checkPoint(fe[0],fe[1],0,P,j,O.x,O.y,Q,re),E.vectorNormInverse=k,T={nodesOverlap:E.nodesOverlap,dirCounts:E.dirCounts,calculatedIntersection:!0,hasBezier:E.hasBezier,hasUnbundled:E.hasUnbundled,eles:E.eles,srcPos:R,tgtPos:O,srcW:H,srcH:V,tgtW:P,tgtH:j,srcIntn:ge,tgtIntn:de,srcShape:G,tgtShape:B,posPts:{x1:Ee.x2,y1:Ee.y2,x2:Ee.x1,y2:Ee.y1},intersectionPts:{x1:pe.x2,y1:pe.y2,x2:pe.x1,y2:pe.y1},vector:{x:-it.x,y:-it.y},vectorNorm:{x:-J.x,y:-J.y},vectorNormInverse:{x:-k.x,y:-k.y}}}var z=xe?T:E;Y.nodesOverlap=z.nodesOverlap,Y.srcIntn=z.srcIntn,Y.tgtIntn=z.tgtIntn,Y.isRound=K.startsWith("round"),n&&(M.isParent()||M.isChild()||S.isParent()||S.isChild())&&(M.parents().anySame(S)||S.parents().anySame(M)||M.same(S)&&M.isParent())?e.findCompoundLoopPoints(L,z,$,ue):M===S?e.findLoopPoints(L,z,$,ue):K.endsWith("segments")?e.findSegmentsPoints(L,z):K.endsWith("taxi")?e.findTaxiPoints(L,z):K==="straight"||!ue&&E.eles.length%2===1&&$===Math.floor(E.eles.length/2)?e.findStraightEdgePoints(L):e.findBezierPoints(L,z,$,ue,xe),e.findEndpoints(L),e.tryToCorrectInvalidPoints(L,z),e.checkForInvalidEdgeWarning(L),e.storeAllpts(L),e.storeEdgeProjections(L),e.calculateArrowAngles(L),e.recalculateEdgeLabelProjections(L),e.calculateLabelAngles(L)}},C=0;C<o.length;C++)_(C);this.findHaystackPoints(s)}};function ym(i){var e=[];if(i!=null){for(var r=0;r<i.length;r+=2){var t=i[r],n=i[r+1];e.push({x:t,y:n})}return e}}ni.getSegmentPoints=function(i){var e=i[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(i),ym(e.segpts)};ni.getControlPoints=function(i){var e=i[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(i),ym(e.ctrlpts)};ni.getEdgeMidpoint=function(i){var e=i[0]._private.rscratch;return this.recalculateRenderedStyle(i),{x:e.midX,y:e.midY}};var yo={};yo.manualEndptToPx=function(i,e){var r=this,t=i.position(),n=i.outerWidth(),a=i.outerHeight(),o=i._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*n),e.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=t.x,s[1]+=t.y,s}else{var l=e.pfValue[0];l=-Math.PI/2+l;var c=2*Math.max(n,a),d=[t.x+Math.cos(l)*c,t.y+Math.sin(l)*c];return r.nodeShapes[this.getNodeShape(i)].intersectLine(t.x,t.y,n,a,d[0],d[1],0,i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue,o)}};yo.findEndpoints=function(i){var e=this,r,t=i.source()[0],n=i.target()[0],a=t.position(),o=n.position(),s=i.pstyle("target-arrow-shape").value,l=i.pstyle("source-arrow-shape").value,c=i.pstyle("target-distance-from-node").pfValue,d=i.pstyle("source-distance-from-node").pfValue,u=t._private.rscratch,h=n._private.rscratch,m=i.pstyle("curve-style").value,f=i._private.rscratch,g=f.edgeType,v=m==="taxi",p=g==="self"||g==="compound",y=g==="bezier"||g==="multibezier"||p,b=g!=="bezier",_=g==="straight"||g==="segments",C=g==="segments",w=y||b||_,x=p||v,D=i.pstyle("source-endpoint"),E=x?"outside-to-node":D.value,T=t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,I=i.pstyle("target-endpoint"),A=x?"outside-to-node":I.value,M=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue;f.srcManEndpt=D,f.tgtManEndpt=I;var S,F,O,R;if(y){var P=[f.ctrlpts[0],f.ctrlpts[1]],j=b?[f.ctrlpts[f.ctrlpts.length-2],f.ctrlpts[f.ctrlpts.length-1]]:P;S=j,F=P}else if(_){var H=C?f.segpts.slice(0,2):[o.x,o.y],V=C?f.segpts.slice(f.segpts.length-2):[a.x,a.y];S=V,F=H}if(A==="inside-to-node")r=[o.x,o.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(A==="outside-to-line")r=f.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?O=S:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(O=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),O[0],O[1],0,M,h),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var B=n._private.rscratch,G=B.labelWidth,Q=B.labelHeight,ee=B.labelX,te=B.labelY,re=G/2,$=Q/2,L=n.pstyle("text-valign").value;L==="top"?te-=$:L==="bottom"&&(te+=$);var Y=n.pstyle("text-halign").value;Y==="left"?ee-=re:Y==="right"&&(ee+=re);var K=oo(O[0],O[1],[ee-re,te-$,ee+re,te-$,ee+re,te+$,ee-re,te+$],o.x,o.y);if(K.length>0){var ue=a,xe=un(ue,Yn(r)),se=un(ue,Yn(K)),de=xe;if(se<xe&&(r=K,de=se),K.length>2){var fe=un(ue,{x:K[2],y:K[3]});fe<de&&(r=[K[2],K[3]])}}}var ge=us(r,S,e.arrowShapes[s].spacing(i)+c),pe=us(r,S,e.arrowShapes[s].gap(i)+c);if(f.endX=pe[0],f.endY=pe[1],f.arrowEndX=ge[0],f.arrowEndY=ge[1],E==="inside-to-node")r=[a.x,a.y];else if(D.units)r=this.manualEndptToPx(t,D);else if(E==="outside-to-line")r=f.srcIntn;else if(E==="outside-to-node"||E==="outside-to-node-or-label"?R=F:(E==="outside-to-line"||E==="outside-to-line-or-label")&&(R=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(t)].intersectLine(a.x,a.y,t.outerWidth(),t.outerHeight(),R[0],R[1],0,T,u),E==="outside-to-node-or-label"||E==="outside-to-line-or-label"){var Ee=t._private.rscratch,lt=Ee.labelWidth,Je=Ee.labelHeight,Be=Ee.labelX,it=Ee.labelY,J=lt/2,k=Je/2,z=t.pstyle("text-valign").value;z==="top"?it-=k:z==="bottom"&&(it+=k);var Z=t.pstyle("text-halign").value;Z==="left"?Be-=J:Z==="right"&&(Be+=J);var q=oo(R[0],R[1],[Be-J,it-k,Be+J,it-k,Be+J,it+k,Be-J,it+k],a.x,a.y);if(q.length>0){var U=o,oe=un(U,Yn(r)),W=un(U,Yn(q)),ae=oe;if(W<oe&&(r=[q[0],q[1]],ae=W),q.length>2){var ke=un(U,{x:q[2],y:q[3]});ke<ae&&(r=[q[2],q[3]])}}}var De=us(r,F,e.arrowShapes[l].spacing(i)+d),ve=us(r,F,e.arrowShapes[l].gap(i)+d);f.startX=ve[0],f.startY=ve[1],f.arrowStartX=De[0],f.arrowStartY=De[1],w&&(!ce(f.startX)||!ce(f.startY)||!ce(f.endX)||!ce(f.endY)?f.badLine=!0:f.badLine=!1)};yo.getSourceEndpoint=function(i){var e=i[0]._private.rscratch;switch(this.recalculateRenderedStyle(i),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};yo.getTargetEndpoint=function(i){var e=i[0]._private.rscratch;switch(this.recalculateRenderedStyle(i),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var ed={};function Lw(i,e,r){for(var t=function(c,d,u,h){return zt(c,d,u,h)},n=e._private,a=n.rstyle.bezierPts,o=0;o<i.bezierProjPcts.length;o++){var s=i.bezierProjPcts[o];a.push({x:t(r[0],r[2],r[4],s),y:t(r[1],r[3],r[5],s)})}}ed.storeEdgeProjections=function(i){var e=i._private,r=e.rscratch,t=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,t==="multibezier"||t==="bezier"||t==="self"||t==="compound"){e.rstyle.bezierPts=[];for(var n=0;n+5<r.allpts.length;n+=4)Lw(this,i,r.allpts.slice(n,n+6))}else if(t==="segments")for(var a=e.rstyle.linePts=[],n=0;n+1<r.allpts.length;n+=2)a.push({x:r.allpts[n],y:r.allpts[n+1]});else if(t==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(i.pstyle("width").pfValue,i.pstyle("arrow-scale").value)*this.arrowShapeWidth};ed.recalculateEdgeProjections=function(i){this.findEdgeControlPoints(i)};var ar={};ar.recalculateNodeLabelProjection=function(i){var e=i.pstyle("label").strValue;if(!Br(e)){var r,t,n=i._private,a=i.width(),o=i.height(),s=i.padding(),l=i.position(),c=i.pstyle("text-halign").strValue,d=i.pstyle("text-valign").strValue,u=n.rscratch,h=n.rstyle;switch(c){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(d){case"top":t=l.y-o/2-s;break;case"bottom":t=l.y+o/2+s;break;default:t=l.y}u.labelX=r,u.labelY=t,h.labelX=r,h.labelY=t,this.calculateLabelAngles(i),this.applyLabelDimensions(i)}};var _m=function(e,r){var t=Math.atan(r/e);return e===0&&t<0&&(t=t*-1),t},xm=function(e,r){var t=r.x-e.x,n=r.y-e.y;return _m(t,n)},Nw=function(e,r,t,n){var a=ao(0,n-.001,1),o=ao(0,n+.001,1),s=Zn(e,r,t,a),l=Zn(e,r,t,o);return xm(s,l)};ar.recalculateEdgeLabelProjections=function(i){var e,r=i._private,t=r.rscratch,n=this,a={mid:i.pstyle("label").strValue,source:i.pstyle("source-label").strValue,target:i.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:t.midX,y:t.midY};var o=function(u,h,m){Fr(r.rscratch,u,h,m),Fr(r.rstyle,u,h,m)};o("labelX",null,e.x),o("labelY",null,e.y);var s=_m(t.midDispX,t.midDispY);o("labelAutoAngle",null,s);var l=function d(){if(d.cache)return d.cache;for(var u=[],h=0;h+5<t.allpts.length;h+=4){var m={x:t.allpts[h],y:t.allpts[h+1]},f={x:t.allpts[h+2],y:t.allpts[h+3]},g={x:t.allpts[h+4],y:t.allpts[h+5]};u.push({p0:m,p1:f,p2:g,startDist:0,length:0,segments:[]})}var v=r.rstyle.bezierPts,p=n.bezierProjPcts.length;function y(x,D,E,T,I){var A=bn(D,E),M=x.segments[x.segments.length-1],S={p0:D,p1:E,t0:T,t1:I,startDist:M?M.startDist+M.length:0,length:A};x.segments.push(S),x.length+=A}for(var b=0;b<u.length;b++){var _=u[b],C=u[b-1];C&&(_.startDist=C.startDist+C.length),y(_,_.p0,v[b*p],0,n.bezierProjPcts[0]);for(var w=0;w<p-1;w++)y(_,v[b*p+w],v[b*p+w+1],n.bezierProjPcts[w],n.bezierProjPcts[w+1]);y(_,v[b*p+p-1],_.p2,n.bezierProjPcts[p-1],1)}return d.cache=u},c=function(u){var h,m=u==="source";if(a[u]){var f=i.pstyle(u+"-text-offset").pfValue;switch(t.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),v,p=0,y=0,b=0;b<g.length;b++){for(var _=g[m?b:g.length-1-b],C=0;C<_.segments.length;C++){var w=_.segments[m?C:_.segments.length-1-C],x=b===g.length-1&&C===_.segments.length-1;if(p=y,y+=w.length,y>=f||x){v={cp:_,segment:w};break}}if(v)break}var D=v.cp,E=v.segment,T=(f-p)/E.length,I=E.t1-E.t0,A=m?E.t0+I*T:E.t1-I*T;A=ao(0,A,1),e=Zn(D.p0,D.p1,D.p2,A),h=Nw(D.p0,D.p1,D.p2,A);break}case"straight":case"segments":case"haystack":{for(var M=0,S,F,O,R,P=t.allpts.length,j=0;j+3<P&&(m?(O={x:t.allpts[j],y:t.allpts[j+1]},R={x:t.allpts[j+2],y:t.allpts[j+3]}):(O={x:t.allpts[P-2-j],y:t.allpts[P-1-j]},R={x:t.allpts[P-4-j],y:t.allpts[P-3-j]}),S=bn(O,R),F=M,M+=S,!(M>=f));j+=2);var H=f-F,V=H/S;V=ao(0,V,1),e=Hb(O,R,V),h=xm(O,R);break}}o("labelX",u,e.x),o("labelY",u,e.y),o("labelAutoAngle",u,h)}};c("source"),c("target"),this.applyLabelDimensions(i)}};ar.applyLabelDimensions=function(i){this.applyPrefixedLabelDimensions(i),i.isEdge()&&(this.applyPrefixedLabelDimensions(i,"source"),this.applyPrefixedLabelDimensions(i,"target"))};ar.applyPrefixedLabelDimensions=function(i,e){var r=i._private,t=this.getLabelText(i,e),n=this.calculateLabelDimensions(i,t),a=i.pstyle("line-height").pfValue,o=i.pstyle("text-wrap").strValue,s=Hi(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),c=n.height/l,d=c*a,u=n.width,h=n.height+(l-1)*(a-1)*c;Fr(r.rstyle,"labelWidth",e,u),Fr(r.rscratch,"labelWidth",e,u),Fr(r.rstyle,"labelHeight",e,h),Fr(r.rscratch,"labelHeight",e,h),Fr(r.rscratch,"labelLineHeight",e,d)};ar.getLabelText=function(i,e){var r=i._private,t=e?e+"-":"",n=i.pstyle(t+"label").strValue,a=i.pstyle("text-transform").value,o=function(G,Q){return Q?(Fr(r.rscratch,G,e,Q),Q):Hi(r.rscratch,G,e)};if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var s=i.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var c="\u200B",d=n.split(`
`),u=i.pstyle("text-max-width").pfValue,h=i.pstyle("text-overflow-wrap").value,m=h==="anywhere",f=[],g=/[\s\u200b]+|$/g,v=0;v<d.length;v++){var p=d[v],y=this.calculateLabelDimensions(i,p),b=y.width;if(m){var _=p.split("").join(c);p=_}if(b>u){var C=p.matchAll(g),w="",x=0,D=rf(C),E;try{for(D.s();!(E=D.n()).done;){var T=E.value,I=T[0],A=p.substring(x,T.index);x=T.index+I.length;var M=w.length===0?A:w+A+I,S=this.calculateLabelDimensions(i,M),F=S.width;F<=u?w+=A+I:(w&&f.push(w),w=A+I)}}catch(B){D.e(B)}finally{D.f()}w.match(/^[\s\u200b]+$/)||f.push(w)}else f.push(p)}o("labelWrapCachedLines",f),n=o("labelWrapCachedText",f.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var O=i.pstyle("text-max-width").pfValue,R="",P="\u2026",j=!1;if(this.calculateLabelDimensions(i,n).width<O)return n;for(var H=0;H<n.length;H++){var V=this.calculateLabelDimensions(i,R+n[H]+P).width;if(V>O)break;R+=n[H],H===n.length-1&&(j=!0)}return j||(R+=P),R}return n};ar.getLabelJustification=function(i){var e=i.pstyle("text-justification").strValue,r=i.pstyle("text-halign").strValue;if(e==="auto")if(i.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};ar.calculateLabelDimensions=function(i,e){var r=this,t=r.cy.window(),n=t.document,a=gn(e,i._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),s=o[a];if(s!=null)return s;var l=0,c=i.pstyle("font-style").strValue,d=i.pstyle("font-size").pfValue,u=i.pstyle("font-family").strValue,h=i.pstyle("font-weight").strValue,m=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!m){m=this.labelCalcCanvas=n.createElement("canvas"),f=this.labelCalcCanvasContext=m.getContext("2d");var g=m.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}f.font="".concat(c," ").concat(h," ").concat(d,"px ").concat(u);for(var v=0,p=0,y=e.split(`
`),b=0;b<y.length;b++){var _=y[b],C=f.measureText(_),w=Math.ceil(C.width),x=d;v=Math.max(w,v),p+=x}return v+=l,p+=l,o[a]={width:v,height:p}};ar.calculateLabelAngle=function(i,e){var r=i._private,t=r.rscratch,n=i.isEdge(),a=e?e+"-":"",o=i.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:n&&s==="autorotate"?t.labelAutoAngle:s==="autorotate"?0:o.pfValue};ar.calculateLabelAngles=function(i){var e=this,r=i.isEdge(),t=i._private,n=t.rscratch;n.labelAngle=e.calculateLabelAngle(i),r&&(n.sourceLabelAngle=e.calculateLabelAngle(i,"source"),n.targetLabelAngle=e.calculateLabelAngle(i,"target"))};var wm={},Uh=28,qh=!1;wm.getNodeShape=function(i){var e=this,r=i.pstyle("shape").value;if(r==="cutrectangle"&&(i.width()<Uh||i.height()<Uh))return qh||(ht("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),qh=!0),"rectangle";if(i.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var t=i.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(t).name}return r};var rl={};rl.registerCalculationListeners=function(){var i=this.cy,e=i.collection(),r=this,t=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var c=o[l],d=c._private,u=d.rstyle;u.clean=!1,u.cleanConnected=!1}};r.binder(i).on("bounds.* dirty.*",function(o){var s=o.target;t(s)}).on("style.* background.*",function(o){var s=o.target;t(s,!1)});var n=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var c=e[l],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(t(c.connectedEdges()),d.cleanConnected=!0)}if(s)for(var u=0;u<s.length;u++){var h=s[u];h(o,e)}r.recalculateRenderedStyle(e),e=i.collection()}};r.flushRenderedStyleQueue=function(){n(!0)},r.beforeRender(n,r.beforeRenderPriorities.eleCalcs)};rl.onUpdateEleCalcs=function(i){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(i)};rl.recalculateRenderedStyle=function(i,e){var r=function(_){return _._private.rstyle.cleanConnected},t=[],n=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<i.length;a++){var o=i[a],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?n.push(o):t.push(o),l.clean=!0)}for(var c=0;c<n.length;c++){var d=n[c],u=d._private,h=u.rstyle,m=d.position();this.recalculateNodeLabelProjection(d),h.nodeX=m.x,h.nodeY=m.y,h.nodeW=d.pstyle("width").pfValue,h.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(t);for(var f=0;f<t.length;f++){var g=t[f],v=g._private,p=v.rstyle,y=v.rscratch;p.srcX=y.arrowStartX,p.srcY=y.arrowStartY,p.tgtX=y.arrowEndX,p.tgtY=y.arrowEndY,p.midX=y.midX,p.midY=y.midY,p.labelAngle=y.labelAngle,p.sourceLabelAngle=y.sourceLabelAngle,p.targetLabelAngle=y.targetLabelAngle}}};var nl={};nl.updateCachedGrabbedEles=function(){var i=this.cachedZSortedEles;if(i){i.drag=[],i.nondrag=[];for(var e=[],r=0;r<i.length;r++){var t=i[r],n=t._private.rscratch;t.grabbed()&&!t.isParent()?e.push(t):n.inDragLayer?i.drag.push(t):i.nondrag.push(t)}for(var r=0;r<e.length;r++){var t=e[r];i.drag.push(t)}}};nl.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};nl.getCachedZSortedEles=function(i){if(i||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(am),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Cm={};[Cn,Vs,ni,yo,ed,ar,wm,rl,nl].forEach(function(i){Ie(Cm,i)});var Em={};Em.getCachedImage=function(i,e,r){var t=this,n=t.imageCache=t.imageCache||{},a=n[i];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=n[i]=n[i]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=i.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=i,o};var ua={};ua.registerBinding=function(i,e,r,t){var n=Array.prototype.slice.apply(arguments,[1]),a=this.binder(i);return a.on.apply(a,n)};ua.binder=function(i){var e=this,r=e.cy.window(),t=i===r||i===r.document||i===r.document.body||lg(i);if(e.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var o=function(l,c,d){var u=Array.prototype.slice.call(arguments);return t&&e.supportsPassiveEvents&&(u[2]={capture:d??!1,passive:!1,once:!1}),e.bindings.push({target:i,args:u}),(i.addEventListener||i.on).apply(i,u),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ua.nodeIsDraggable=function(i){return i&&i.isNode()&&!i.locked()&&i.grabbable()};ua.nodeIsGrabbable=function(i){return this.nodeIsDraggable(i)&&i.interactive()};ua.load=function(){var i=this,e=i.cy.window(),r=function(k){return k.selected()},t=function(k,z,Z,q){k==null&&(k=i.cy);for(var U=0;U<z.length;U++){var oe=z[U];k.emit({originalEvent:Z,type:oe,position:q})}},n=function(k){return k.shiftKey||k.metaKey||k.ctrlKey},a=function(k,z){var Z=!0;if(i.cy.hasCompoundNodes()&&k&&k.pannable())for(var q=0;z&&q<z.length;q++){var k=z[q];if(k.isNode()&&k.isParent()&&!k.pannable()){Z=!1;break}}else Z=!0;return Z},o=function(k){k[0]._private.grabbed=!0},s=function(k){k[0]._private.grabbed=!1},l=function(k){k[0]._private.rscratch.inDragLayer=!0},c=function(k){k[0]._private.rscratch.inDragLayer=!1},d=function(k){k[0]._private.rscratch.isGrabTarget=!0},u=function(k){k[0]._private.rscratch.isGrabTarget=!1},h=function(k,z){var Z=z.addToList,q=Z.has(k);!q&&k.grabbable()&&!k.locked()&&(Z.merge(k),o(k))},m=function(k,z){if(k.cy().hasCompoundNodes()&&!(z.inDragLayer==null&&z.addToList==null)){var Z=k.descendants();z.inDragLayer&&(Z.forEach(l),Z.connectedEdges().forEach(l)),z.addToList&&h(Z,z)}},f=function(k,z){z=z||{};var Z=k.cy().hasCompoundNodes();z.inDragLayer&&(k.forEach(l),k.neighborhood().stdFilter(function(q){return!Z||q.isEdge()}).forEach(l)),z.addToList&&k.forEach(function(q){h(q,z)}),m(k,z),p(k,{inDragLayer:z.inDragLayer}),i.updateCachedGrabbedEles()},g=f,v=function(k){k&&(i.getCachedZSortedEles().forEach(function(z){s(z),c(z),u(z)}),i.updateCachedGrabbedEles())},p=function(k,z){if(!(z.inDragLayer==null&&z.addToList==null)&&k.cy().hasCompoundNodes()){var Z=k.ancestors().orphans();if(!Z.same(k)){var q=Z.descendants().spawnSelf().merge(Z).unmerge(k).unmerge(k.descendants()),U=q.connectedEdges();z.inDragLayer&&(U.forEach(l),q.forEach(l)),z.addToList&&q.forEach(function(oe){h(oe,z)})}}},y=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},b=typeof MutationObserver<"u",_=typeof ResizeObserver<"u";b?(i.removeObserver=new MutationObserver(function(J){for(var k=0;k<J.length;k++){var z=J[k],Z=z.removedNodes;if(Z)for(var q=0;q<Z.length;q++){var U=Z[q];if(U===i.container){i.destroy();break}}}}),i.container.parentNode&&i.removeObserver.observe(i.container.parentNode,{childList:!0})):i.registerBinding(i.container,"DOMNodeRemoved",function(J){i.destroy()});var C=Us(function(){i.cy.resize()},100);b&&(i.styleObserver=new MutationObserver(C),i.styleObserver.observe(i.container,{attributes:!0})),i.registerBinding(e,"resize",C),_&&(i.resizeObserver=new ResizeObserver(C),i.resizeObserver.observe(i.container));var w=function(k,z){for(;k!=null;)z(k),k=k.parentNode},x=function(){i.invalidateContainerClientCoordsCache()};w(i.container,function(J){i.registerBinding(J,"transitionend",x),i.registerBinding(J,"animationend",x),i.registerBinding(J,"scroll",x)}),i.registerBinding(i.container,"contextmenu",function(J){J.preventDefault()});var D=function(){return i.selection[4]!==0},E=function(k){for(var z=i.findContainerClientCoords(),Z=z[0],q=z[1],U=z[2],oe=z[3],W=k.touches?k.touches:[k],ae=!1,ke=0;ke<W.length;ke++){var De=W[ke];if(Z<=De.clientX&&De.clientX<=Z+U&&q<=De.clientY&&De.clientY<=q+oe){ae=!0;break}}if(!ae)return!1;for(var ve=i.container,Pe=k.target,me=Pe.parentNode,we=!1;me;){if(me===ve){we=!0;break}me=me.parentNode}return!!we};i.registerBinding(i.container,"mousedown",function(k){if(E(k)&&!(i.hoverData.which===1&&k.which!==1)){k.preventDefault(),y(),i.hoverData.capture=!0,i.hoverData.which=k.which;var z=i.cy,Z=[k.clientX,k.clientY],q=i.projectIntoViewport(Z[0],Z[1]),U=i.selection,oe=i.findNearestElements(q[0],q[1],!0,!1),W=oe[0],ae=i.dragData.possibleDragElements;i.hoverData.mdownPos=q,i.hoverData.mdownGPos=Z;var ke=function(){i.hoverData.tapholdCancelled=!1,clearTimeout(i.hoverData.tapholdTimeout),i.hoverData.tapholdTimeout=setTimeout(function(){if(!i.hoverData.tapholdCancelled){var _t=i.hoverData.down;_t?_t.emit({originalEvent:k,type:"taphold",position:{x:q[0],y:q[1]}}):z.emit({originalEvent:k,type:"taphold",position:{x:q[0],y:q[1]}})}},i.tapholdDuration)};if(k.which==3){i.hoverData.cxtStarted=!0;var De={originalEvent:k,type:"cxttapstart",position:{x:q[0],y:q[1]}};W?(W.activate(),W.emit(De),i.hoverData.down=W):z.emit(De),i.hoverData.downTime=new Date().getTime(),i.hoverData.cxtDragged=!1}else if(k.which==1){W&&W.activate();{if(W!=null&&i.nodeIsGrabbable(W)){var ve=function(_t){return{originalEvent:k,type:_t,position:{x:q[0],y:q[1]}}},Pe=function(_t){_t.emit(ve("grab"))};if(d(W),!W.selected())ae=i.dragData.possibleDragElements=z.collection(),g(W,{addToList:ae}),W.emit(ve("grabon")).emit(ve("grab"));else{ae=i.dragData.possibleDragElements=z.collection();var me=z.$(function(we){return we.isNode()&&we.selected()&&i.nodeIsGrabbable(we)});f(me,{addToList:ae}),W.emit(ve("grabon")),me.forEach(Pe)}i.redrawHint("eles",!0),i.redrawHint("drag",!0)}i.hoverData.down=W,i.hoverData.downs=oe,i.hoverData.downTime=new Date().getTime()}t(W,["mousedown","tapstart","vmousedown"],k,{x:q[0],y:q[1]}),W==null?(U[4]=1,i.data.bgActivePosistion={x:q[0],y:q[1]},i.redrawHint("select",!0),i.redraw()):W.pannable()&&(U[4]=1),ke()}U[0]=U[2]=q[0],U[1]=U[3]=q[1]}},!1),i.registerBinding(e,"mousemove",function(k){var z=i.hoverData.capture;if(!(!z&&!E(k))){var Z=!1,q=i.cy,U=q.zoom(),oe=[k.clientX,k.clientY],W=i.projectIntoViewport(oe[0],oe[1]),ae=i.hoverData.mdownPos,ke=i.hoverData.mdownGPos,De=i.selection,ve=null;!i.hoverData.draggingEles&&!i.hoverData.dragging&&!i.hoverData.selecting&&(ve=i.findNearestElement(W[0],W[1],!0,!1));var Pe=i.hoverData.last,me=i.hoverData.down,we=[W[0]-De[2],W[1]-De[3]],_t=i.dragData.possibleDragElements,pt;if(ke){var oi=oe[0]-ke[0],jt=oi*oi,Mt=oe[1]-ke[1],di=Mt*Mt,Ht=jt+di;i.hoverData.isOverThresholdDrag=pt=Ht>=i.desktopTapThreshold2}var si=n(k);pt&&(i.hoverData.tapholdCancelled=!0);var Mi=function(){var Ki=i.hoverData.dragDelta=i.hoverData.dragDelta||[];Ki.length===0?(Ki.push(we[0]),Ki.push(we[1])):(Ki[0]+=we[0],Ki[1]+=we[1])};Z=!0,t(ve,["mousemove","vmousemove","tapdrag"],k,{x:W[0],y:W[1]});var _i=function(){i.data.bgActivePosistion=void 0,i.hoverData.selecting||q.emit({originalEvent:k,type:"boxstart",position:{x:W[0],y:W[1]}}),De[4]=1,i.hoverData.selecting=!0,i.redrawHint("select",!0),i.redraw()};if(i.hoverData.which===3){if(pt){var ui={originalEvent:k,type:"cxtdrag",position:{x:W[0],y:W[1]}};me?me.emit(ui):q.emit(ui),i.hoverData.cxtDragged=!0,(!i.hoverData.cxtOver||ve!==i.hoverData.cxtOver)&&(i.hoverData.cxtOver&&i.hoverData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:W[0],y:W[1]}}),i.hoverData.cxtOver=ve,ve&&ve.emit({originalEvent:k,type:"cxtdragover",position:{x:W[0],y:W[1]}}))}}else if(i.hoverData.dragging){if(Z=!0,q.panningEnabled()&&q.userPanningEnabled()){var Yi;if(i.hoverData.justStartedPan){var cr=i.hoverData.mdownPos;Yi={x:(W[0]-cr[0])*U,y:(W[1]-cr[1])*U},i.hoverData.justStartedPan=!1}else Yi={x:we[0]*U,y:we[1]*U};q.panBy(Yi),q.emit("dragpan"),i.hoverData.dragged=!0}W=i.projectIntoViewport(k.clientX,k.clientY)}else if(De[4]==1&&(me==null||me.pannable())){if(pt){if(!i.hoverData.dragging&&q.boxSelectionEnabled()&&(si||!q.panningEnabled()||!q.userPanningEnabled()))_i();else if(!i.hoverData.selecting&&q.panningEnabled()&&q.userPanningEnabled()){var Oi=a(me,i.hoverData.downs);Oi&&(i.hoverData.dragging=!0,i.hoverData.justStartedPan=!0,De[4]=0,i.data.bgActivePosistion=Yn(ae),i.redrawHint("select",!0),i.redraw())}me&&me.pannable()&&me.active()&&me.unactivate()}}else{if(me&&me.pannable()&&me.active()&&me.unactivate(),(!me||!me.grabbed())&&ve!=Pe&&(Pe&&t(Pe,["mouseout","tapdragout"],k,{x:W[0],y:W[1]}),ve&&t(ve,["mouseover","tapdragover"],k,{x:W[0],y:W[1]}),i.hoverData.last=ve),me)if(pt){if(q.boxSelectionEnabled()&&si)me&&me.grabbed()&&(v(_t),me.emit("freeon"),_t.emit("free"),i.dragData.didDrag&&(me.emit("dragfreeon"),_t.emit("dragfree"))),_i();else if(me&&me.grabbed()&&i.nodeIsDraggable(me)){var Ot=!i.dragData.didDrag;Ot&&i.redrawHint("eles",!0),i.dragData.didDrag=!0,i.hoverData.draggingEles||f(_t,{inDragLayer:!0});var Bt={x:0,y:0};if(ce(we[0])&&ce(we[1])&&(Bt.x+=we[0],Bt.y+=we[1],Ot)){var Qt=i.hoverData.dragDelta;Qt&&ce(Qt[0])&&ce(Qt[1])&&(Bt.x+=Qt[0],Bt.y+=Qt[1])}i.hoverData.draggingEles=!0,_t.silentShift(Bt).emit("position drag"),i.redrawHint("drag",!0),i.redraw()}}else Mi();Z=!0}if(De[2]=W[0],De[3]=W[1],Z)return k.stopPropagation&&k.stopPropagation(),k.preventDefault&&k.preventDefault(),!1}},!1);var T,I,A;i.registerBinding(e,"mouseup",function(k){if(!(i.hoverData.which===1&&k.which!==1&&i.hoverData.capture)){var z=i.hoverData.capture;if(z){i.hoverData.capture=!1;var Z=i.cy,q=i.projectIntoViewport(k.clientX,k.clientY),U=i.selection,oe=i.findNearestElement(q[0],q[1],!0,!1),W=i.dragData.possibleDragElements,ae=i.hoverData.down,ke=n(k);if(i.data.bgActivePosistion&&(i.redrawHint("select",!0),i.redraw()),i.hoverData.tapholdCancelled=!0,i.data.bgActivePosistion=void 0,ae&&ae.unactivate(),i.hoverData.which===3){var De={originalEvent:k,type:"cxttapend",position:{x:q[0],y:q[1]}};if(ae?ae.emit(De):Z.emit(De),!i.hoverData.cxtDragged){var ve={originalEvent:k,type:"cxttap",position:{x:q[0],y:q[1]}};ae?ae.emit(ve):Z.emit(ve)}i.hoverData.cxtDragged=!1,i.hoverData.which=null}else if(i.hoverData.which===1){if(t(oe,["mouseup","tapend","vmouseup"],k,{x:q[0],y:q[1]}),!i.dragData.didDrag&&!i.hoverData.dragged&&!i.hoverData.selecting&&!i.hoverData.isOverThresholdDrag&&(t(ae,["click","tap","vclick"],k,{x:q[0],y:q[1]}),I=!1,k.timeStamp-A<=Z.multiClickDebounceTime()?(T&&clearTimeout(T),I=!0,A=null,t(ae,["dblclick","dbltap","vdblclick"],k,{x:q[0],y:q[1]})):(T=setTimeout(function(){I||t(ae,["oneclick","onetap","voneclick"],k,{x:q[0],y:q[1]})},Z.multiClickDebounceTime()),A=k.timeStamp)),ae==null&&!i.dragData.didDrag&&!i.hoverData.selecting&&!i.hoverData.dragged&&!n(k)&&(Z.$(r).unselect(["tapunselect"]),W.length>0&&i.redrawHint("eles",!0),i.dragData.possibleDragElements=W=Z.collection()),oe==ae&&!i.dragData.didDrag&&!i.hoverData.selecting&&oe!=null&&oe._private.selectable&&(i.hoverData.dragging||(Z.selectionType()==="additive"||ke?oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]):ke||(Z.$(r).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"]))),i.redrawHint("eles",!0)),i.hoverData.selecting){var Pe=Z.collection(i.getAllInBox(U[0],U[1],U[2],U[3]));i.redrawHint("select",!0),Pe.length>0&&i.redrawHint("eles",!0),Z.emit({type:"boxend",originalEvent:k,position:{x:q[0],y:q[1]}});var me=function(pt){return pt.selectable()&&!pt.selected()};Z.selectionType()==="additive"||ke||Z.$(r).unmerge(Pe).unselect(),Pe.emit("box").stdFilter(me).select().emit("boxselect"),i.redraw()}if(i.hoverData.dragging&&(i.hoverData.dragging=!1,i.redrawHint("select",!0),i.redrawHint("eles",!0),i.redraw()),!U[4]){i.redrawHint("drag",!0),i.redrawHint("eles",!0);var we=ae&&ae.grabbed();v(W),we&&(ae.emit("freeon"),W.emit("free"),i.dragData.didDrag&&(ae.emit("dragfreeon"),W.emit("dragfree")))}}U[4]=0,i.hoverData.down=null,i.hoverData.cxtStarted=!1,i.hoverData.draggingEles=!1,i.hoverData.selecting=!1,i.hoverData.isOverThresholdDrag=!1,i.dragData.didDrag=!1,i.hoverData.dragged=!1,i.hoverData.dragDelta=[],i.hoverData.mdownPos=null,i.hoverData.mdownGPos=null,i.hoverData.which=null}}},!1);var M=function(k){if(!i.scrollingPage){var z=i.cy,Z=z.zoom(),q=z.pan(),U=i.projectIntoViewport(k.clientX,k.clientY),oe=[U[0]*Z+q.x,U[1]*Z+q.y];if(i.hoverData.draggingEles||i.hoverData.dragging||i.hoverData.cxtStarted||D()){k.preventDefault();return}if(z.panningEnabled()&&z.userPanningEnabled()&&z.zoomingEnabled()&&z.userZoomingEnabled()){k.preventDefault(),i.data.wheelZooming=!0,clearTimeout(i.data.wheelTimeout),i.data.wheelTimeout=setTimeout(function(){i.data.wheelZooming=!1,i.redrawHint("eles",!0),i.redraw()},150);var W;k.deltaY!=null?W=k.deltaY/-250:k.wheelDeltaY!=null?W=k.wheelDeltaY/1e3:W=k.wheelDelta/1e3,W=W*i.wheelSensitivity;var ae=k.deltaMode===1;ae&&(W*=33);var ke=z.zoom()*Math.pow(10,W);k.type==="gesturechange"&&(ke=i.gestureStartZoom*k.scale),z.zoom({level:ke,renderedPosition:{x:oe[0],y:oe[1]}}),z.emit(k.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};i.registerBinding(i.container,"wheel",M,!0),i.registerBinding(e,"scroll",function(k){i.scrollingPage=!0,clearTimeout(i.scrollingPageTimeout),i.scrollingPageTimeout=setTimeout(function(){i.scrollingPage=!1},250)},!0),i.registerBinding(i.container,"gesturestart",function(k){i.gestureStartZoom=i.cy.zoom(),i.hasTouchStarted||k.preventDefault()},!0),i.registerBinding(i.container,"gesturechange",function(J){i.hasTouchStarted||M(J)},!0),i.registerBinding(i.container,"mouseout",function(k){var z=i.projectIntoViewport(k.clientX,k.clientY);i.cy.emit({originalEvent:k,type:"mouseout",position:{x:z[0],y:z[1]}})},!1),i.registerBinding(i.container,"mouseover",function(k){var z=i.projectIntoViewport(k.clientX,k.clientY);i.cy.emit({originalEvent:k,type:"mouseover",position:{x:z[0],y:z[1]}})},!1);var S,F,O,R,P,j,H,V,B,G,Q,ee,te,re=function(k,z,Z,q){return Math.sqrt((Z-k)*(Z-k)+(q-z)*(q-z))},$=function(k,z,Z,q){return(Z-k)*(Z-k)+(q-z)*(q-z)},L;i.registerBinding(i.container,"touchstart",L=function(k){if(i.hasTouchStarted=!0,!!E(k)){y(),i.touchData.capture=!0,i.data.bgActivePosistion=void 0;var z=i.cy,Z=i.touchData.now,q=i.touchData.earlier;if(k.touches[0]){var U=i.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);Z[0]=U[0],Z[1]=U[1]}if(k.touches[1]){var U=i.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);Z[2]=U[0],Z[3]=U[1]}if(k.touches[2]){var U=i.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);Z[4]=U[0],Z[5]=U[1]}if(k.touches[1]){i.touchData.singleTouchMoved=!0,v(i.dragData.touchDragEles);var oe=i.findContainerClientCoords();B=oe[0],G=oe[1],Q=oe[2],ee=oe[3],S=k.touches[0].clientX-B,F=k.touches[0].clientY-G,O=k.touches[1].clientX-B,R=k.touches[1].clientY-G,te=0<=S&&S<=Q&&0<=O&&O<=Q&&0<=F&&F<=ee&&0<=R&&R<=ee;var W=z.pan(),ae=z.zoom();P=re(S,F,O,R),j=$(S,F,O,R),H=[(S+O)/2,(F+R)/2],V=[(H[0]-W.x)/ae,(H[1]-W.y)/ae];var ke=200,De=ke*ke;if(j<De&&!k.touches[2]){var ve=i.findNearestElement(Z[0],Z[1],!0,!0),Pe=i.findNearestElement(Z[2],Z[3],!0,!0);ve&&ve.isNode()?(ve.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),i.touchData.start=ve):Pe&&Pe.isNode()?(Pe.activate().emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),i.touchData.start=Pe):z.emit({originalEvent:k,type:"cxttapstart",position:{x:Z[0],y:Z[1]}}),i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxt=!0,i.touchData.cxtDragged=!1,i.data.bgActivePosistion=void 0,i.redraw();return}}if(k.touches[2])z.boxSelectionEnabled()&&k.preventDefault();else if(!k.touches[1]){if(k.touches[0]){var me=i.findNearestElements(Z[0],Z[1],!0,!0),we=me[0];if(we!=null&&(we.activate(),i.touchData.start=we,i.touchData.starts=me,i.nodeIsGrabbable(we))){var _t=i.dragData.touchDragEles=z.collection(),pt=null;i.redrawHint("eles",!0),i.redrawHint("drag",!0),we.selected()?(pt=z.$(function(Ht){return Ht.selected()&&i.nodeIsGrabbable(Ht)}),f(pt,{addToList:_t})):g(we,{addToList:_t}),d(we);var oi=function(si){return{originalEvent:k,type:si,position:{x:Z[0],y:Z[1]}}};we.emit(oi("grabon")),pt?pt.forEach(function(Ht){Ht.emit(oi("grab"))}):we.emit(oi("grab"))}t(we,["touchstart","tapstart","vmousedown"],k,{x:Z[0],y:Z[1]}),we==null&&(i.data.bgActivePosistion={x:U[0],y:U[1]},i.redrawHint("select",!0),i.redraw()),i.touchData.singleTouchMoved=!1,i.touchData.singleTouchStartTime=+new Date,clearTimeout(i.touchData.tapholdTimeout),i.touchData.tapholdTimeout=setTimeout(function(){i.touchData.singleTouchMoved===!1&&!i.pinching&&!i.touchData.selecting&&t(i.touchData.start,["taphold"],k,{x:Z[0],y:Z[1]})},i.tapholdDuration)}}if(k.touches.length>=1){for(var jt=i.touchData.startPosition=[null,null,null,null,null,null],Mt=0;Mt<Z.length;Mt++)jt[Mt]=q[Mt]=Z[Mt];var di=k.touches[0];i.touchData.startGPosition=[di.clientX,di.clientY]}}},!1);var Y;i.registerBinding(e,"touchmove",Y=function(k){var z=i.touchData.capture;if(!(!z&&!E(k))){var Z=i.selection,q=i.cy,U=i.touchData.now,oe=i.touchData.earlier,W=q.zoom();if(k.touches[0]){var ae=i.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ae[0],U[1]=ae[1]}if(k.touches[1]){var ae=i.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);U[2]=ae[0],U[3]=ae[1]}if(k.touches[2]){var ae=i.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);U[4]=ae[0],U[5]=ae[1]}var ke=i.touchData.startGPosition,De;if(z&&k.touches[0]&&ke){for(var ve=[],Pe=0;Pe<U.length;Pe++)ve[Pe]=U[Pe]-oe[Pe];var me=k.touches[0].clientX-ke[0],we=me*me,_t=k.touches[0].clientY-ke[1],pt=_t*_t,oi=we+pt;De=oi>=i.touchTapThreshold2}if(z&&i.touchData.cxt){k.preventDefault();var jt=k.touches[0].clientX-B,Mt=k.touches[0].clientY-G,di=k.touches[1].clientX-B,Ht=k.touches[1].clientY-G,si=$(jt,Mt,di,Ht),Mi=si/j,_i=150,ui=_i*_i,Yi=1.5,cr=Yi*Yi;if(Mi>=cr||si>=ui){i.touchData.cxt=!1,i.data.bgActivePosistion=void 0,i.redrawHint("select",!0);var Oi={originalEvent:k,type:"cxttapend",position:{x:U[0],y:U[1]}};i.touchData.start?(i.touchData.start.unactivate().emit(Oi),i.touchData.start=null):q.emit(Oi)}}if(z&&i.touchData.cxt){var Oi={originalEvent:k,type:"cxtdrag",position:{x:U[0],y:U[1]}};i.data.bgActivePosistion=void 0,i.redrawHint("select",!0),i.touchData.start?i.touchData.start.emit(Oi):q.emit(Oi),i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxtDragged=!0;var Ot=i.findNearestElement(U[0],U[1],!0,!0);(!i.touchData.cxtOver||Ot!==i.touchData.cxtOver)&&(i.touchData.cxtOver&&i.touchData.cxtOver.emit({originalEvent:k,type:"cxtdragout",position:{x:U[0],y:U[1]}}),i.touchData.cxtOver=Ot,Ot&&Ot.emit({originalEvent:k,type:"cxtdragover",position:{x:U[0],y:U[1]}}))}else if(z&&k.touches[2]&&q.boxSelectionEnabled())k.preventDefault(),i.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,i.touchData.selecting||q.emit({originalEvent:k,type:"boxstart",position:{x:U[0],y:U[1]}}),i.touchData.selecting=!0,i.touchData.didSelect=!0,Z[4]=1,!Z||Z.length===0||Z[0]===void 0?(Z[0]=(U[0]+U[2]+U[4])/3,Z[1]=(U[1]+U[3]+U[5])/3,Z[2]=(U[0]+U[2]+U[4])/3+1,Z[3]=(U[1]+U[3]+U[5])/3+1):(Z[2]=(U[0]+U[2]+U[4])/3,Z[3]=(U[1]+U[3]+U[5])/3),i.redrawHint("select",!0),i.redraw();else if(z&&k.touches[1]&&!i.touchData.didSelect&&q.zoomingEnabled()&&q.panningEnabled()&&q.userZoomingEnabled()&&q.userPanningEnabled()){k.preventDefault(),i.data.bgActivePosistion=void 0,i.redrawHint("select",!0);var Bt=i.dragData.touchDragEles;if(Bt){i.redrawHint("drag",!0);for(var Qt=0;Qt<Bt.length;Qt++){var Nn=Bt[Qt]._private;Nn.grabbed=!1,Nn.rscratch.inDragLayer=!1}}var Ki=i.touchData.start,jt=k.touches[0].clientX-B,Mt=k.touches[0].clientY-G,di=k.touches[1].clientX-B,Ht=k.touches[1].clientY-G,nu=re(jt,Mt,di,Ht),Hv=nu/P;if(te){var Uv=jt-S,qv=Mt-F,Wv=di-O,Gv=Ht-R,$v=(Uv+Wv)/2,Yv=(qv+Gv)/2,Ba=q.zoom(),Zl=Ba*Hv,Ko=q.pan(),au=V[0]*Ba+Ko.x,ou=V[1]*Ba+Ko.y,Kv={x:-Zl/Ba*(au-Ko.x-$v)+au,y:-Zl/Ba*(ou-Ko.y-Yv)+ou};if(Ki&&Ki.active()){var Bt=i.dragData.touchDragEles;v(Bt),i.redrawHint("drag",!0),i.redrawHint("eles",!0),Ki.unactivate().emit("freeon"),Bt.emit("free"),i.dragData.didDrag&&(Ki.emit("dragfreeon"),Bt.emit("dragfree"))}q.viewport({zoom:Zl,pan:Kv,cancelOnFailedZoom:!0}),q.emit("pinchzoom"),P=nu,S=jt,F=Mt,O=di,R=Ht,i.pinching=!0}if(k.touches[0]){var ae=i.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ae[0],U[1]=ae[1]}if(k.touches[1]){var ae=i.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);U[2]=ae[0],U[3]=ae[1]}if(k.touches[2]){var ae=i.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);U[4]=ae[0],U[5]=ae[1]}}else if(k.touches[0]&&!i.touchData.didSelect){var Ri=i.touchData.start,Xl=i.touchData.last,Ot;if(!i.hoverData.draggingEles&&!i.swipePanning&&(Ot=i.findNearestElement(U[0],U[1],!0,!0)),z&&Ri!=null&&k.preventDefault(),z&&Ri!=null&&i.nodeIsDraggable(Ri))if(De){var Bt=i.dragData.touchDragEles,su=!i.dragData.didDrag;su&&f(Bt,{inDragLayer:!0}),i.dragData.didDrag=!0;var Va={x:0,y:0};if(ce(ve[0])&&ce(ve[1])&&(Va.x+=ve[0],Va.y+=ve[1],su)){i.redrawHint("eles",!0);var Fi=i.touchData.dragDelta;Fi&&ce(Fi[0])&&ce(Fi[1])&&(Va.x+=Fi[0],Va.y+=Fi[1])}i.hoverData.draggingEles=!0,Bt.silentShift(Va).emit("position drag"),i.redrawHint("drag",!0),i.touchData.startPosition[0]==oe[0]&&i.touchData.startPosition[1]==oe[1]&&i.redrawHint("eles",!0),i.redraw()}else{var Fi=i.touchData.dragDelta=i.touchData.dragDelta||[];Fi.length===0?(Fi.push(ve[0]),Fi.push(ve[1])):(Fi[0]+=ve[0],Fi[1]+=ve[1])}if(t(Ri||Ot,["touchmove","tapdrag","vmousemove"],k,{x:U[0],y:U[1]}),(!Ri||!Ri.grabbed())&&Ot!=Xl&&(Xl&&Xl.emit({originalEvent:k,type:"tapdragout",position:{x:U[0],y:U[1]}}),Ot&&Ot.emit({originalEvent:k,type:"tapdragover",position:{x:U[0],y:U[1]}})),i.touchData.last=Ot,z)for(var Qt=0;Qt<U.length;Qt++)U[Qt]&&i.touchData.startPosition[Qt]&&De&&(i.touchData.singleTouchMoved=!0);if(z&&(Ri==null||Ri.pannable())&&q.panningEnabled()&&q.userPanningEnabled()){var Zv=a(Ri,i.touchData.starts);Zv&&(k.preventDefault(),i.data.bgActivePosistion||(i.data.bgActivePosistion=Yn(i.touchData.startPosition)),i.swipePanning?(q.panBy({x:ve[0]*W,y:ve[1]*W}),q.emit("dragpan")):De&&(i.swipePanning=!0,q.panBy({x:me*W,y:_t*W}),q.emit("dragpan"),Ri&&(Ri.unactivate(),i.redrawHint("select",!0),i.touchData.start=null)));var ae=i.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);U[0]=ae[0],U[1]=ae[1]}}for(var Pe=0;Pe<U.length;Pe++)oe[Pe]=U[Pe];z&&k.touches.length>0&&!i.hoverData.draggingEles&&!i.swipePanning&&i.data.bgActivePosistion!=null&&(i.data.bgActivePosistion=void 0,i.redrawHint("select",!0),i.redraw())}},!1);var K;i.registerBinding(e,"touchcancel",K=function(k){var z=i.touchData.start;i.touchData.capture=!1,z&&z.unactivate()});var ue,xe,se,de;if(i.registerBinding(e,"touchend",ue=function(k){var z=i.touchData.start,Z=i.touchData.capture;if(Z)k.touches.length===0&&(i.touchData.capture=!1),k.preventDefault();else return;var q=i.selection;i.swipePanning=!1,i.hoverData.draggingEles=!1;var U=i.cy,oe=U.zoom(),W=i.touchData.now,ae=i.touchData.earlier;if(k.touches[0]){var ke=i.projectIntoViewport(k.touches[0].clientX,k.touches[0].clientY);W[0]=ke[0],W[1]=ke[1]}if(k.touches[1]){var ke=i.projectIntoViewport(k.touches[1].clientX,k.touches[1].clientY);W[2]=ke[0],W[3]=ke[1]}if(k.touches[2]){var ke=i.projectIntoViewport(k.touches[2].clientX,k.touches[2].clientY);W[4]=ke[0],W[5]=ke[1]}z&&z.unactivate();var De;if(i.touchData.cxt){if(De={originalEvent:k,type:"cxttapend",position:{x:W[0],y:W[1]}},z?z.emit(De):U.emit(De),!i.touchData.cxtDragged){var ve={originalEvent:k,type:"cxttap",position:{x:W[0],y:W[1]}};z?z.emit(ve):U.emit(ve)}i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxt=!1,i.touchData.start=null,i.redraw();return}if(!k.touches[2]&&U.boxSelectionEnabled()&&i.touchData.selecting){i.touchData.selecting=!1;var Pe=U.collection(i.getAllInBox(q[0],q[1],q[2],q[3]));q[0]=void 0,q[1]=void 0,q[2]=void 0,q[3]=void 0,q[4]=0,i.redrawHint("select",!0),U.emit({type:"boxend",originalEvent:k,position:{x:W[0],y:W[1]}});var me=function(ui){return ui.selectable()&&!ui.selected()};Pe.emit("box").stdFilter(me).select().emit("boxselect"),Pe.nonempty()&&i.redrawHint("eles",!0),i.redraw()}if(z?.unactivate(),k.touches[2])i.data.bgActivePosistion=void 0,i.redrawHint("select",!0);else if(!k.touches[1]){if(!k.touches[0]){if(!k.touches[0]){i.data.bgActivePosistion=void 0,i.redrawHint("select",!0);var we=i.dragData.touchDragEles;if(z!=null){var _t=z._private.grabbed;v(we),i.redrawHint("drag",!0),i.redrawHint("eles",!0),_t&&(z.emit("freeon"),we.emit("free"),i.dragData.didDrag&&(z.emit("dragfreeon"),we.emit("dragfree"))),t(z,["touchend","tapend","vmouseup","tapdragout"],k,{x:W[0],y:W[1]}),z.unactivate(),i.touchData.start=null}else{var pt=i.findNearestElement(W[0],W[1],!0,!0);t(pt,["touchend","tapend","vmouseup","tapdragout"],k,{x:W[0],y:W[1]})}var oi=i.touchData.startPosition[0]-W[0],jt=oi*oi,Mt=i.touchData.startPosition[1]-W[1],di=Mt*Mt,Ht=jt+di,si=Ht*oe*oe;i.touchData.singleTouchMoved||(z||U.$(":selected").unselect(["tapunselect"]),t(z,["tap","vclick"],k,{x:W[0],y:W[1]}),xe=!1,k.timeStamp-de<=U.multiClickDebounceTime()?(se&&clearTimeout(se),xe=!0,de=null,t(z,["dbltap","vdblclick"],k,{x:W[0],y:W[1]})):(se=setTimeout(function(){xe||t(z,["onetap","voneclick"],k,{x:W[0],y:W[1]})},U.multiClickDebounceTime()),de=k.timeStamp)),z!=null&&!i.dragData.didDrag&&z._private.selectable&&si<i.touchTapThreshold2&&!i.pinching&&(U.selectionType()==="single"?(U.$(r).unmerge(z).unselect(["tapunselect"]),z.select(["tapselect"])):z.selected()?z.unselect(["tapunselect"]):z.select(["tapselect"]),i.redrawHint("eles",!0)),i.touchData.singleTouchMoved=!0}}}for(var Mi=0;Mi<W.length;Mi++)ae[Mi]=W[Mi];i.dragData.didDrag=!1,k.touches.length===0&&(i.touchData.dragDelta=[],i.touchData.startPosition=[null,null,null,null,null,null],i.touchData.startGPosition=null,i.touchData.didSelect=!1),k.touches.length<2&&(k.touches.length===1&&(i.touchData.startGPosition=[k.touches[0].clientX,k.touches[0].clientY]),i.pinching=!1,i.redrawHint("eles",!0),i.redraw())},!1),typeof TouchEvent>"u"){var fe=[],ge=function(k){return{clientX:k.clientX,clientY:k.clientY,force:1,identifier:k.pointerId,pageX:k.pageX,pageY:k.pageY,radiusX:k.width/2,radiusY:k.height/2,screenX:k.screenX,screenY:k.screenY,target:k.target}},pe=function(k){return{event:k,touch:ge(k)}},Ee=function(k){fe.push(pe(k))},lt=function(k){for(var z=0;z<fe.length;z++){var Z=fe[z];if(Z.event.pointerId===k.pointerId){fe.splice(z,1);return}}},Je=function(k){var z=fe.filter(function(Z){return Z.event.pointerId===k.pointerId})[0];z.event=k,z.touch=ge(k)},Be=function(k){k.touches=fe.map(function(z){return z.touch})},it=function(k){return k.pointerType==="mouse"||k.pointerType===4};i.registerBinding(i.container,"pointerdown",function(J){it(J)||(J.preventDefault(),Ee(J),Be(J),L(J))}),i.registerBinding(i.container,"pointerup",function(J){it(J)||(lt(J),Be(J),ue(J))}),i.registerBinding(i.container,"pointercancel",function(J){it(J)||(lt(J),Be(J),K(J))}),i.registerBinding(i.container,"pointermove",function(J){it(J)||(J.preventDefault(),Je(J),Be(J),Y(J))})}};var xr={};xr.generatePolygon=function(i,e){return this.nodeShapes[i]={renderer:this,name:i,points:e,draw:function(t,n,a,o,s,l){this.renderer.nodeShapeImpl("polygon",t,n,a,o,s,this.points)},intersectLine:function(t,n,a,o,s,l,c,d){return oo(s,l,this.points,t,n,a/2,o/2,c)},checkPoint:function(t,n,a,o,s,l,c,d){return br(t,n,this.points,l,c,o,s,[0,-1],a)}}};xr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,t,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,t,n,a)},intersectLine:function(e,r,t,n,a,o,s,l){return ty(a,o,e,r,t/2+s,n/2+s)},checkPoint:function(e,r,t,n,a,o,s,l){return pn(e,r,n,a,o,s,t)}}};xr.generateRoundPolygon=function(i,e){return this.nodeShapes[i]={renderer:this,name:i,points:e,getOrCreateCorners:function(t,n,a,o,s,l,c){if(l[c]!==void 0&&l[c+"-cx"]===t&&l[c+"-cy"]===n)return l[c];l[c]=new Array(e.length/2),l[c+"-cx"]=t,l[c+"-cy"]=n;var d=a/2,u=o/2;s=s==="auto"?Sf(a,o):s;for(var h=new Array(e.length/2),m=0;m<e.length/2;m++)h[m]={x:t+d*e[m*2],y:n+u*e[m*2+1]};var f,g,v,p,y=h.length;for(g=h[y-1],f=0;f<y;f++)v=h[f%y],p=h[(f+1)%y],l[c][f]=Jc(g,v,p,s),g=v,v=p;return l[c]},draw:function(t,n,a,o,s,l,c){this.renderer.nodeShapeImpl("round-polygon",t,n,a,o,s,this.points,this.getOrCreateCorners(n,a,o,s,l,c,"drawCorners"))},intersectLine:function(t,n,a,o,s,l,c,d,u){return iy(s,l,this.points,t,n,a,o,c,this.getOrCreateCorners(t,n,a,o,d,u,"corners"))},checkPoint:function(t,n,a,o,s,l,c,d,u){return ey(t,n,this.points,l,c,o,s,this.getOrCreateCorners(l,c,o,s,d,u,"corners"))}}};xr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ci(4,0),draw:function(e,r,t,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,t,n,a,this.points,o)},intersectLine:function(e,r,t,n,a,o,s,l){return kf(a,o,e,r,t,n,s,l)},checkPoint:function(e,r,t,n,a,o,s,l){var c=n/2,d=a/2;l=l==="auto"?yn(n,a):l,l=Math.min(c,d,l);var u=l*2;return!!(br(e,r,this.points,o,s,n,a-u,[0,-1],t)||br(e,r,this.points,o,s,n-u,a,[0,-1],t)||pn(e,r,u,u,o-c+l,s-d+l,t)||pn(e,r,u,u,o+c-l,s-d+l,t)||pn(e,r,u,u,o+c-l,s+d-l,t)||pn(e,r,u,u,o-c+l,s+d-l,t))}}};xr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:jc(),points:ci(4,0),draw:function(e,r,t,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,t,n,a,null,o)},generateCutTrianglePts:function(e,r,t,n,a){var o=a==="auto"?this.cornerLength:a,s=r/2,l=e/2,c=t-l,d=t+l,u=n-s,h=n+s;return{topLeft:[c,u+o,c+o,u,c+o,u+o],topRight:[d-o,u,d,u+o,d-o,u+o],bottomRight:[d,h-o,d-o,h,d-o,h-o],bottomLeft:[c+o,h,c,h-o,c+o,h-o]}},intersectLine:function(e,r,t,n,a,o,s,l){var c=this.generateCutTrianglePts(t+2*s,n+2*s,e,r,l),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return oo(a,o,d,e,r)},checkPoint:function(e,r,t,n,a,o,s,l){var c=l==="auto"?this.cornerLength:l;if(br(e,r,this.points,o,s,n,a-2*c,[0,-1],t)||br(e,r,this.points,o,s,n-2*c,a,[0,-1],t))return!0;var d=this.generateCutTrianglePts(n,a,o,s);return fi(e,r,d.topLeft)||fi(e,r,d.topRight)||fi(e,r,d.bottomRight)||fi(e,r,d.bottomLeft)}}};xr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ci(4,0),draw:function(e,r,t,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,t,n,a)},intersectLine:function(e,r,t,n,a,o,s,l){var c=.15,d=.5,u=.85,h=this.generateBarrelBezierPts(t+2*s,n+2*s,e,r),m=function(v){var p=Zn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},c),y=Zn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},d),b=Zn({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},u);return[v[0],v[1],p.x,p.y,y.x,y.y,b.x,b.y,v[4],v[5]]},f=[].concat(m(h.topLeft),m(h.topRight),m(h.bottomRight),m(h.bottomLeft));return oo(a,o,f,e,r)},generateBarrelBezierPts:function(e,r,t,n){var a=r/2,o=e/2,s=t-o,l=t+o,c=n-a,d=n+a,u=gc(e,r),h=u.heightOffset,m=u.widthOffset,f=u.ctrlPtOffsetPct*e,g={topLeft:[s,c+h,s+f,c,s+m,c],topRight:[l-m,c,l-f,c,l,c+h],bottomRight:[l,d-h,l-f,d,l-m,d],bottomLeft:[s+m,d,s+f,d,s,d-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,t,n,a,o,s,l){var c=gc(n,a),d=c.heightOffset,u=c.widthOffset;if(br(e,r,this.points,o,s,n,a-2*d,[0,-1],t)||br(e,r,this.points,o,s,n-2*u,a,[0,-1],t))return!0;for(var h=this.generateBarrelBezierPts(n,a,o,s),m=function(D,E,T){var I=T[4],A=T[2],M=T[0],S=T[5],F=T[1],O=Math.min(I,M),R=Math.max(I,M),P=Math.min(S,F),j=Math.max(S,F);if(O<=D&&D<=R&&P<=E&&E<=j){var H=ry(I,A,M),V=Zb(H[0],H[1],H[2],D),B=V.filter(function(G){return 0<=G&&G<=1});if(B.length>0)return B[0]}return null},f=Object.keys(h),g=0;g<f.length;g++){var v=f[g],p=h[v],y=m(e,r,p);if(y!=null){var b=p[5],_=p[3],C=p[1],w=zt(b,_,C,y);if(p.isTop&&w<=r||p.isBottom&&r<=w)return!0}}return!1}}};xr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ci(4,0),draw:function(e,r,t,n,a,o){this.renderer.nodeShapeImpl(this.name,e,r,t,n,a,this.points,o)},intersectLine:function(e,r,t,n,a,o,s,l){var c=e-(t/2+s),d=r-(n/2+s),u=d,h=e+(t/2+s),m=Pr(a,o,e,r,c,d,h,u,!1);return m.length>0?m:kf(a,o,e,r,t,n,s,l)},checkPoint:function(e,r,t,n,a,o,s,l){l=l==="auto"?yn(n,a):l;var c=2*l;if(br(e,r,this.points,o,s,n,a-c,[0,-1],t)||br(e,r,this.points,o,s,n-c,a,[0,-1],t))return!0;var d=n/2+2*t,u=a/2+2*t,h=[o-d,s-u,o-d,s,o+d,s,o+d,s-u];return!!(fi(e,r,h)||pn(e,r,c,c,o+n/2-l,s+a/2-l,t)||pn(e,r,c,c,o-n/2+l,s+a/2-l,t))}}};xr.registerNodeShapes=function(){var i=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ci(3,0)),this.generateRoundPolygon("round-triangle",ci(3,0)),this.generatePolygon("rectangle",ci(4,0)),i.square=i.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ci(5,0)),this.generateRoundPolygon("round-pentagon",ci(5,0)),this.generatePolygon("hexagon",ci(6,0)),this.generateRoundPolygon("round-hexagon",ci(6,0)),this.generatePolygon("heptagon",ci(7,0)),this.generateRoundPolygon("round-heptagon",ci(7,0)),this.generatePolygon("octagon",ci(8,0)),this.generateRoundPolygon("round-octagon",ci(8,0));var t=new Array(20);{var n=vc(5,0),a=vc(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)t[s*4]=n[s*2],t[s*4+1]=n[s*2+1],t[s*4+2]=a[s*2],t[s*4+3]=a[s*2+1]}t=Df(t),this.generatePolygon("star",t),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}i.makePolygon=function(c){var d=c.join("$"),u="polygon-"+d,h;return(h=this[u])?h:e.generatePolygon(u,c)}};var _o={};_o.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};_o.redraw=function(i){i=i||_f();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=i};_o.beforeRender=function(i,e){if(!this.destroyed){e==null&&St("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:i,priority:e}),r.sort(function(t,n){return n.priority-t.priority})}};var Wh=function(e,r,t){for(var n=e.beforeRenderCallbacks,a=0;a<n.length;a++)n[a].fn(r,t)};_o.startRenderLoop=function(){var i=this,e=i.cy;if(!i.renderLoopStarted){i.renderLoopStarted=!0;var r=function t(n){if(!i.destroyed){if(!e.batching())if(i.requestedFrame&&!i.skipFrame){Wh(i,!0,n);var a=gr();i.render(i.renderOptions);var o=i.lastDrawTime=gr();i.averageRedrawTime===void 0&&(i.averageRedrawTime=o-a),i.redrawCount===void 0&&(i.redrawCount=0),i.redrawCount++,i.redrawTotalTime===void 0&&(i.redrawTotalTime=0);var s=o-a;i.redrawTotalTime+=s,i.lastRedrawTime=s,i.averageRedrawTime=i.averageRedrawTime/2+s/2,i.requestedFrame=!1}else Wh(i,!1,n);i.skipFrame=!1,Ms(t)}};Ms(r)}};var Bw=function(e){this.init(e)},km=Bw,ha=km.prototype;ha.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ha.init=function(i){var e=this;e.options=i,e.cy=i.cy;var r=e.container=i.cy.container(),t=e.cy.window();if(t){var n=t.document,a=n.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=n.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var c=n.createElement("style");c.id=o,c.textContent="."+s+" { position: relative; }",a.insertBefore(c,a.children[0])}var d=t.getComputedStyle(r),u=d.getPropertyValue("position");u==="static"&&ht("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=i.showFps,e.debug=i.debug,e.hideEdgesOnViewport=i.hideEdgesOnViewport,e.textureOnViewport=i.textureOnViewport,e.wheelSensitivity=i.wheelSensitivity,e.motionBlurEnabled=i.motionBlur,e.forcedPixelRatio=ce(i.pixelRatio)?i.pixelRatio:null,e.motionBlur=i.motionBlur,e.motionBlurOpacity=i.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=i.desktopTapThreshold,e.desktopTapThreshold2=i.desktopTapThreshold*i.desktopTapThreshold,e.touchTapThreshold=i.touchTapThreshold,e.touchTapThreshold2=i.touchTapThreshold*i.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ha.notify=function(i,e){var r=this,t=r.cy;if(!this.destroyed){if(i==="init"){r.load();return}if(i==="destroy"){r.destroy();return}(i==="add"||i==="remove"||i==="move"&&t.hasCompoundNodes()||i==="load"||i==="zorder"||i==="mount")&&r.invalidateCachedZSortedEles(),i==="viewport"&&r.redrawHint("select",!0),(i==="load"||i==="resize"||i==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ha.destroy=function(){var i=this;i.destroyed=!0,i.cy.stopAnimationLoop();for(var e=0;e<i.bindings.length;e++){var r=i.bindings[e],t=r,n=t.target;(n.off||n.removeEventListener).apply(n,t.args)}if(i.bindings=[],i.beforeRenderCallbacks=[],i.onUpdateEleCalcsFns=[],i.removeObserver&&i.removeObserver.disconnect(),i.styleObserver&&i.styleObserver.disconnect(),i.resizeObserver&&i.resizeObserver.disconnect(),i.labelCalcDiv)try{document.body.removeChild(i.labelCalcDiv)}catch{}};ha.isHeadless=function(){return!1};[Qc,Cm,Em,ua,xr,_o].forEach(function(i){Ie(ha,i)});var fc=1e3/60,Dm={setupDequeueing:function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var a=Us(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=function(c,d){var u=gr(),h=n.averageRedrawTime,m=n.lastRedrawTime,f=[],g=n.cy.extent(),v=n.getPixelRatio();for(c||n.flushRenderedStyleQueue();;){var p=gr(),y=p-u,b=p-d;if(m<fc){var _=fc-(c?h:0);if(b>=e.deqFastCost*_)break}else if(c){if(y>=e.deqCost*m||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*fc)break;var C=e.deq(t,v,g);if(C.length>0)for(var w=0;w<C.length;w++)f.push(C[w]);else break}f.length>0&&(e.onDeqd(t,f),!c&&e.shouldRedraw(t,f,v,g)&&a())},s=e.priority||Nc;n.beforeRender(o,s(t))}}}},Vw=function(){function i(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Os;Oc(this,i),this.idsByKey=new rr,this.keyForId=new rr,this.cachesByLvl=new rr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Rc(i,[{key:"getIdsFor",value:function(r){r==null&&St("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(r);return n||(n=new na,t.set(r,n)),n}},{key:"addIdForKey",value:function(r,t){r!=null&&this.getIdsFor(r).add(t)}},{key:"deleteIdForKey",value:function(r,t){r!=null&&this.getIdsFor(r).delete(t)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var t=r.id(),n=this.keyForId.get(t),a=this.getKey(r);this.deleteIdForKey(n,t),this.addIdForKey(a,t),this.keyForId.set(t,a)}},{key:"deleteKeyMappingFor",value:function(r){var t=r.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(r){var t=r.id(),n=this.keyForId.get(t),a=this.getKey(r);return n!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var t=this.cachesByLvl,n=this.lvls,a=t.get(r);return a||(a=new rr,t.set(r,a),n.push(r)),a}},{key:"getCache",value:function(r,t){return this.getCachesAt(t).get(r)}},{key:"get",value:function(r,t){var n=this.getKey(r),a=this.getCache(n,t);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,t){var n=this.keyForId.get(r.id()),a=this.getCache(n,t);return a}},{key:"hasCache",value:function(r,t){return this.getCachesAt(t).has(r)}},{key:"has",value:function(r,t){var n=this.getKey(r);return this.hasCache(n,t)}},{key:"setCache",value:function(r,t,n){n.key=r,this.getCachesAt(t).set(r,n)}},{key:"set",value:function(r,t,n){var a=this.getKey(r);this.setCache(a,t,n),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,t){this.getCachesAt(t).delete(r)}},{key:"delete",value:function(r,t){var n=this.getKey(r);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(r){var t=this;this.lvls.forEach(function(n){return t.deleteCache(r,n)})}},{key:"invalidate",value:function(r){var t=r.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(n),a||this.getNumberOfIdsForKey(n)===0}}]),i}(),Gh=25,_s=50,As=-4,Ic=3,zw=7.99,jw=8,Hw=1024,Uw=1024,qw=1024,Ww=.2,Gw=.8,$w=10,Yw=.15,Kw=.1,Zw=.9,Xw=.9,Qw=100,Jw=1,Kn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},eC=Kt({getKey:null,doesEleInvalidateKey:Os,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:gf,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Qa=function(e,r){var t=this;t.renderer=e,t.onDequeues=[];var n=eC(r);Ie(t,n),t.lookup=new Vw(n.getKey,n.doesEleInvalidateKey),t.setupDequeueing()},Nt=Qa.prototype;Nt.reasons=Kn;Nt.getTextureQueue=function(i){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[i]=e.eleImgCaches[i]||[]};Nt.getRetiredTextureQueue=function(i){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},t=r[i]=r[i]||[];return t};Nt.getElementQueue=function(){var i=this,e=i.eleCacheQueue=i.eleCacheQueue||new vo(function(r,t){return t.reqs-r.reqs});return e};Nt.getElementKeyToQueue=function(){var i=this,e=i.eleKeyToCacheQueue=i.eleKeyToCacheQueue||{};return e};Nt.getElement=function(i,e,r,t,n){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!i.visible()||i.removed()||!a.allowEdgeTxrCaching&&i.isEdge()||!a.allowParentTxrCaching&&i.isParent())return null;if(t==null&&(t=Math.ceil(Vc(s*r))),t<As)t=As;else if(s>=zw||t>Ic)return null;var c=Math.pow(2,t),d=e.h*c,u=e.w*c,h=o.eleTextBiggerThanMin(i,c);if(!this.isVisible(i,h))return null;var m=l.get(i,t);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var f;if(d<=Gh?f=Gh:d<=_s?f=_s:f=Math.ceil(d/_s)*_s,d>qw||u>Uw)return null;var g=a.getTextureQueue(f),v=g[g.length-2],p=function(){return a.recycleTexture(f,u)||a.addTexture(f,u)};v||(v=g[g.length-1]),v||(v=p()),v.width-v.usedWidth<u&&(v=p());for(var y=function(O){return O&&O.scaledLabelShown===h},b=n&&n===Kn.dequeue,_=n&&n===Kn.highQuality,C=n&&n===Kn.downscale,w,x=t+1;x<=Ic;x++){var D=l.get(i,x);if(D){w=D;break}}var E=w&&w.level===t+1?w:null,T=function(){v.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,v.usedWidth,0,u,d)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,u,f),y(E))T();else if(y(w))if(_){for(var I=w.level;I>t;I--)E=a.getElement(i,e,r,I,Kn.downscale);T()}else return a.queueElement(i,w.level-1),w;else{var A;if(!b&&!_&&!C)for(var M=t-1;M>=As;M--){var S=l.get(i,M);if(S){A=S;break}}if(y(A))return a.queueElement(i,t),A;v.context.translate(v.usedWidth,0),v.context.scale(c,c),this.drawElement(v.context,i,e,h,!1),v.context.scale(1/c,1/c),v.context.translate(-v.usedWidth,0)}return m={x:v.usedWidth,texture:v,level:t,scale:c,width:u,height:d,scaledLabelShown:h},v.usedWidth+=Math.ceil(u+jw),v.eleCaches.push(m),l.set(i,t,m),a.checkTextureFullness(v),m};Nt.invalidateElements=function(i){for(var e=0;e<i.length;e++)this.invalidateElement(i[e])};Nt.invalidateElement=function(i){var e=this,r=e.lookup,t=[],n=r.isInvalid(i);if(n){for(var a=As;a<=Ic;a++){var o=r.getForCachedKey(i,a);o&&t.push(o)}var s=r.invalidate(i);if(s)for(var l=0;l<t.length;l++){var c=t[l],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(i)}};Nt.checkTextureUtility=function(i){i.invalidatedWidth>=Ww*i.width&&this.retireTexture(i)};Nt.checkTextureFullness=function(i){var e=this,r=e.getTextureQueue(i.height);i.usedWidth/i.width>Gw&&i.fullnessChecks>=$w?Vr(r,i):i.fullnessChecks++};Nt.retireTexture=function(i){var e=this,r=i.height,t=e.getTextureQueue(r),n=this.lookup;Vr(t,i),i.retired=!0;for(var a=i.eleCaches,o=0;o<a.length;o++){var s=a[o];n.deleteCache(s.key,s.level)}Bc(a);var l=e.getRetiredTextureQueue(r);l.push(i)};Nt.addTexture=function(i,e){var r=this,t=r.getTextureQueue(i),n={};return t.push(n),n.eleCaches=[],n.height=i,n.width=Math.max(Hw,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=r.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n};Nt.recycleTexture=function(i,e){for(var r=this,t=r.getTextureQueue(i),n=r.getRetiredTextureQueue(i),a=0;a<n.length;a++){var o=n[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Bc(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Vr(n,o),t.push(o),o}};Nt.queueElement=function(i,e){var r=this,t=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(i),o=n[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(i),o.reqs++,t.updateItem(o);else{var s={eles:i.spawn().merge(i),level:e,reqs:1,key:a};t.push(s),n[a]=s}};Nt.dequeue=function(i){for(var e=this,r=e.getElementQueue(),t=e.getElementKeyToQueue(),n=[],a=e.lookup,o=0;o<Jw&&r.size()>0;o++){var s=r.pop(),l=s.key,c=s.eles[0],d=a.hasCache(c,s.level);if(t[l]=null,d)continue;n.push(s);var u=e.getBoundingBox(c);e.getElement(c,u,i,s.level,Kn.dequeue)}return n};Nt.removeFromQueue=function(i){var e=this,r=e.getElementQueue(),t=e.getElementKeyToQueue(),n=this.getKey(i),a=t[n];a!=null&&(a.eles.length===1?(a.reqs=Lc,r.updateItem(a),r.pop(),t[n]=null):a.eles.unmerge(i))};Nt.onDequeue=function(i){this.onDequeues.push(i)};Nt.offDequeue=function(i){Vr(this.onDequeues,i)};Nt.setupDequeueing=Dm.setupDequeueing({deqRedrawThreshold:Qw,deqCost:Yw,deqAvgCost:Kw,deqNoDrawCost:Zw,deqFastCost:Xw,deq:function(e,r,t){return e.dequeue(r,t)},onDeqd:function(e,r){for(var t=0;t<e.onDequeues.length;t++){var n=e.onDequeues[t];n(r)}},shouldRedraw:function(e,r,t,n){for(var a=0;a<r.length;a++)for(var o=r[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(zc(l,n))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var tC=1,eo=-4,zs=2,iC=3.99,rC=50,nC=50,aC=.15,oC=.1,sC=.9,lC=.9,cC=1,$h=250,dC=4e3*4e3,uC=!0,Sm=function(e){var r=this,t=r.renderer=e,n=t.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=gr()-2*$h,r.skipping=!1,r.eleTxrDeqs=n.collection(),r.scheduleElementRefinement=Us(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},nC),t.beforeRender(function(o,s){s-r.lastInvalidationTime<=$h?r.skipping=!0:r.skipping=!1},t.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};r.layersQueue=new vo(a),r.setupDequeueing()},Zt=Sm.prototype,Yh=0,hC=Math.pow(2,53)-1;Zt.makeLayer=function(i,e){var r=Math.pow(2,e),t=Math.ceil(i.w*r),n=Math.ceil(i.h*r),a=this.renderer.makeOffscreenCanvas(t,n),o={id:Yh=++Yh%hC,bb:i,level:e,width:t,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,c=-o.bb.y1;return s.scale(r,r),s.translate(l,c),o};Zt.getLayers=function(i,e,r){var t=this,n=t.renderer,a=n.cy,o=a.zoom(),s=t.firstGet;if(t.firstGet=!1,r==null){if(r=Math.ceil(Vc(o*e)),r<eo)r=eo;else if(o>=iC||r>zs)return null}t.validateLayersElesOrdering(r,i);var l=t.layersByLevel,c=Math.pow(2,r),d=l[r]=l[r]||[],u,h=t.levelIsComplete(r,i),m,f=function(){var T=function(F){if(t.validateLayersElesOrdering(F,i),t.levelIsComplete(F,i))return m=l[F],!0},I=function(F){if(!m)for(var O=r+F;eo<=O&&O<=zs&&!T(O);O+=F);};I(1),I(-1);for(var A=d.length-1;A>=0;A--){var M=d[A];M.invalid&&Vr(d,M)}};if(!h)f();else return d;var g=function(){if(!u){u=mi();for(var T=0;T<i.length;T++)Cf(u,i[T].boundingBox())}return u},v=function(T){T=T||{};var I=T.after;g();var A=u.w*c*(u.h*c);if(A>dC)return null;var M=t.makeLayer(u,r);if(I!=null){var S=d.indexOf(I)+1;d.splice(S,0,M)}else(T.insert===void 0||T.insert)&&d.unshift(M);return M};if(t.skipping&&!s)return null;for(var p=null,y=i.length/tC,b=!s,_=0;_<i.length;_++){var C=i[_],w=C._private.rscratch,x=w.imgLayerCaches=w.imgLayerCaches||{},D=x[r];if(D){p=D;continue}if((!p||p.eles.length>=y||!Ef(p.bb,C.boundingBox()))&&(p=v({insert:!0,after:p}),!p))return null;m||b?t.queueLayer(p,C):t.drawEleInLayer(p,C,r,e),p.eles.push(C),x[r]=p}return m||(b?null:d)};Zt.getEleLevelForLayerLevel=function(i,e){return i};Zt.drawEleInLayer=function(i,e,r,t){var n=this,a=this.renderer,o=i.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=n.getEleLevelForLayerLevel(r,t),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,r,uC),a.setImgSmoothing(o,!0))};Zt.levelIsComplete=function(i,e){var r=this,t=r.layersByLevel[i];if(!t||t.length===0)return!1;for(var n=0,a=0;a<t.length;a++){var o=t[a];if(o.reqs>0||o.invalid)return!1;n+=o.eles.length}return n===e.length};Zt.validateLayersElesOrdering=function(i,e){var r=this.layersByLevel[i];if(r)for(var t=0;t<r.length;t++){for(var n=r[t],a=-1,o=0;o<e.length;o++)if(n.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(n);continue}for(var s=a,o=0;o<n.eles.length;o++)if(n.eles[o]!==e[s+o]){this.invalidateLayer(n);break}}};Zt.updateElementsInLayers=function(i,e){for(var r=this,t=mo(i[0]),n=0;n<i.length;n++)for(var a=t?null:i[n],o=t?i[n]:i[n].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},c=eo;c<=zs;c++){var d=l[c];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||e(d,o,a))}};Zt.haveLayers=function(){for(var i=this,e=!1,r=eo;r<=zs;r++){var t=i.layersByLevel[r];if(t&&t.length>0){e=!0;break}}return e};Zt.invalidateElements=function(i){var e=this;i.length!==0&&(e.lastInvalidationTime=gr(),!(i.length===0||!e.haveLayers())&&e.updateElementsInLayers(i,function(t,n,a){e.invalidateLayer(t)}))};Zt.invalidateLayer=function(i){if(this.lastInvalidationTime=gr(),!i.invalid){var e=i.level,r=i.eles,t=this.layersByLevel[e];Vr(t,i),i.elesQueue=[],i.invalid=!0,i.replacement&&(i.replacement.invalid=!0);for(var n=0;n<r.length;n++){var a=r[n]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Zt.refineElementTextures=function(i){var e=this;e.updateElementsInLayers(i,function(t,n,a){var o=t.replacement;if(o||(o=t.replacement=e.makeLayer(t.bb,t.level),o.replaces=t,o.eles=t.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Zt.enqueueElementRefinement=function(i){this.eleTxrDeqs.merge(i),this.scheduleElementRefinement()};Zt.queueLayer=function(i,e){var r=this,t=r.layersQueue,n=i.elesQueue,a=n.hasId=n.hasId||{};if(!i.replacement){if(e){if(a[e.id()])return;n.push(e),a[e.id()]=!0}i.reqs?(i.reqs++,t.updateItem(i)):(i.reqs=1,t.push(i))}};Zt.dequeue=function(i){for(var e=this,r=e.layersQueue,t=[],n=0;n<cC&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,i),n++),t.length===0&&t.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return t};Zt.applyLayerReplacement=function(i){var e=this,r=e.layersByLevel[i.level],t=i.replaces,n=r.indexOf(t);if(!(n<0||t.invalid)){r[n]=i;for(var a=0;a<i.eles.length;a++){var o=i.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[i.level]=i)}e.requestRedraw()}};Zt.requestRedraw=Us(function(){var i=this.renderer;i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},100);Zt.setupDequeueing=Dm.setupDequeueing({deqRedrawThreshold:rC,deqCost:aC,deqAvgCost:oC,deqNoDrawCost:sC,deqFastCost:lC,deq:function(e,r){return e.dequeue(r)},onDeqd:Nc,shouldRedraw:gf,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Im={},Kh;function fC(i,e){for(var r=0;r<e.length;r++){var t=e[r];i.lineTo(t.x,t.y)}}function mC(i,e,r){for(var t,n=0;n<e.length;n++){var a=e[n];n===0&&(t=a),i.lineTo(a.x,a.y)}i.quadraticCurveTo(r.x,r.y,t.x,t.y)}function Zh(i,e,r){i.beginPath&&i.beginPath();for(var t=e,n=0;n<t.length;n++){var a=t[n];i.lineTo(a.x,a.y)}var o=r,s=r[0];i.moveTo(s.x,s.y);for(var n=1;n<o.length;n++){var a=o[n];i.lineTo(a.x,a.y)}i.closePath&&i.closePath()}function pC(i,e,r,t,n){i.beginPath&&i.beginPath(),i.arc(r,t,n,0,Math.PI*2,!1);var a=e,o=a[0];i.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];i.lineTo(l.x,l.y)}i.closePath&&i.closePath()}function vC(i,e,r,t){i.arc(e,r,t,0,Math.PI*2,!1)}Im.arrowShapeImpl=function(i){return(Kh||(Kh={polygon:fC,"triangle-backcurve":mC,"triangle-tee":Zh,"circle-triangle":pC,"triangle-cross":Zh,circle:vC}))[i]};var or={};or.drawElement=function(i,e,r,t,n,a){var o=this;e.isNode()?o.drawNode(i,e,r,t,n,a):o.drawEdge(i,e,r,t,n,a)};or.drawElementOverlay=function(i,e){var r=this;e.isNode()?r.drawNodeOverlay(i,e):r.drawEdgeOverlay(i,e)};or.drawElementUnderlay=function(i,e){var r=this;e.isNode()?r.drawNodeUnderlay(i,e):r.drawEdgeUnderlay(i,e)};or.drawCachedElementPortion=function(i,e,r,t,n,a,o,s){var l=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var d=r.getElement(e,c,t,n,a);if(d!=null){var u=s(l,e);if(u===0)return;var h=o(l,e),m=c.x1,f=c.y1,g=c.w,v=c.h,p,y,b,_,C;if(h!==0){var w=r.getRotationPoint(e);b=w.x,_=w.y,i.translate(b,_),i.rotate(h),C=l.getImgSmoothing(i),C||l.setImgSmoothing(i,!0);var x=r.getRotationOffset(e);p=x.x,y=x.y}else p=m,y=f;var D;u!==1&&(D=i.globalAlpha,i.globalAlpha=D*u),i.drawImage(d.texture.canvas,d.x,0,d.width,d.height,p,y,g,v),u!==1&&(i.globalAlpha=D),h!==0&&(i.rotate(-h),i.translate(-b,-_),C||l.setImgSmoothing(i,!1))}else r.drawElement(i,e)}};var gC=function(){return 0},bC=function(e,r){return e.getTextAngle(r,null)},yC=function(e,r){return e.getTextAngle(r,"source")},_C=function(e,r){return e.getTextAngle(r,"target")},xC=function(e,r){return r.effectiveOpacity()},mc=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};or.drawCachedElement=function(i,e,r,t,n,a){var o=this,s=o.data,l=s.eleTxrCache,c=s.lblTxrCache,d=s.slbTxrCache,u=s.tlbTxrCache,h=e.boundingBox(),m=a===!0?l.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!t||zc(h,t))){var f=e.isEdge(),g=e.element()._private.rscratch.badLine;o.drawElementUnderlay(i,e),o.drawCachedElementPortion(i,e,l,r,n,m,gC,xC),(!f||!g)&&o.drawCachedElementPortion(i,e,c,r,n,m,bC,mc),f&&!g&&(o.drawCachedElementPortion(i,e,d,r,n,m,yC,mc),o.drawCachedElementPortion(i,e,u,r,n,m,_C,mc)),o.drawElementOverlay(i,e)}};or.drawElements=function(i,e){for(var r=this,t=0;t<e.length;t++){var n=e[t];r.drawElement(i,n)}};or.drawCachedElements=function(i,e,r,t){for(var n=this,a=0;a<e.length;a++){var o=e[a];n.drawCachedElement(i,o,r,t)}};or.drawCachedNodes=function(i,e,r,t){for(var n=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&n.drawCachedElement(i,o,r,t)}};or.drawLayeredElements=function(i,e,r,t){var n=this,a=n.data.lyrTxrCache.getLayers(e,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||i.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else n.drawCachedElements(i,e,r,t)};var wr={};wr.drawEdge=function(i,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(a&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,i.translate(-l.x1,-l.y1));var c=a?e.pstyle("opacity").value:1,d=a?e.pstyle("line-opacity").value:1,u=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,f=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,v=e.pstyle("line-outline-color").value,p=c*d,y=c*d,b=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;u==="straight-triangle"?(o.eleStrokeStyle(i,e,F),o.drawEdgeTrianglePath(e,i,s.allpts)):(i.lineWidth=m,i.lineCap=f,o.eleStrokeStyle(i,e,F),o.drawEdgePath(e,i,s.allpts,h),i.lineCap="butt")},_=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;if(i.lineWidth=m+g,i.lineCap=f,g>0)o.colorStrokeStyle(i,v[0],v[1],v[2],F);else{i.lineCap="butt";return}u==="straight-triangle"?o.drawEdgeTrianglePath(e,i,s.allpts):(o.drawEdgePath(e,i,s.allpts,h),i.lineCap="butt")},C=function(){n&&o.drawEdgeOverlay(i,e)},w=function(){n&&o.drawEdgeUnderlay(i,e)},x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(i,e,F)},D=function(){o.drawElementText(i,e,null,t)};i.lineJoin="round";var E=e.pstyle("ghost").value==="yes";if(E){var T=e.pstyle("ghost-offset-x").pfValue,I=e.pstyle("ghost-offset-y").pfValue,A=e.pstyle("ghost-opacity").value,M=p*A;i.translate(T,I),b(M),x(M),i.translate(-T,-I)}else _();w(),b(),x(),C(),D(),r&&i.translate(l.x1,l.y1)}};var Am=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,t){if(t.visible()){var n=t.pstyle("".concat(e,"-opacity")).value;if(n!==0){var a=this,o=a.usePaths(),s=t._private.rscratch,l=t.pstyle("".concat(e,"-padding")).pfValue,c=2*l,d=t.pstyle("".concat(e,"-color")).value;r.lineWidth=c,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,d[0],d[1],d[2],n),a.drawEdgePath(t,r,s.allpts,"solid")}}}};wr.drawEdgeOverlay=Am("overlay");wr.drawEdgeUnderlay=Am("underlay");wr.drawEdgePath=function(i,e,r,t){var n=i._private.rscratch,a=e,o,s=!1,l=this.usePaths(),c=i.pstyle("line-dash-pattern").pfValue,d=i.pstyle("line-dash-offset").pfValue;if(l){var u=r.join("$"),h=n.pathCacheKey&&n.pathCacheKey===u;h?(o=e=n.pathCache,s=!0):(o=e=new Path2D,n.pathCacheKey=u,n.pathCache=o)}if(a.setLineDash)switch(t){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(c),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!s&&!n.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var f=2;f+1<r.length;f+=2)e.lineTo(r[f],r[f+1]);break;case"segments":if(n.isRound){var g=rf(n.roundCorners),v;try{for(g.s();!(v=g.n()).done;){var p=v.value;bm(e,p)}}catch(b){g.e(b)}finally{g.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1]);break}e=a,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};wr.drawEdgeTrianglePath=function(i,e,r){e.fillStyle=e.strokeStyle;for(var t=i.pstyle("width").pfValue,n=0;n+1<r.length;n+=2){var a=[r[n+2]-r[n],r[n+3]-r[n+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*t/2,s[1]*t/2];e.beginPath(),e.moveTo(r[n]-l[0],r[n+1]-l[1]),e.lineTo(r[n]+l[0],r[n+1]+l[1]),e.lineTo(r[n+2],r[n+3]),e.closePath(),e.fill()}};wr.drawArrowheads=function(i,e,r){var t=e._private.rscratch,n=t.edgeType==="haystack";n||this.drawArrowhead(i,e,"source",t.arrowStartX,t.arrowStartY,t.srcArrowAngle,r),this.drawArrowhead(i,e,"mid-target",t.midX,t.midY,t.midtgtArrowAngle,r),this.drawArrowhead(i,e,"mid-source",t.midX,t.midY,t.midsrcArrowAngle,r),n||this.drawArrowhead(i,e,"target",t.arrowEndX,t.arrowEndY,t.tgtArrowAngle,r)};wr.drawArrowhead=function(i,e,r,t,n,a,o){if(!(isNaN(t)||t==null||isNaN(n)||n==null||isNaN(a)||a==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,u=e.pstyle("width").pfValue,h=e.pstyle(r+"-arrow-width"),m=h.value==="match-line"?u:h.pfValue;h.units==="%"&&(m*=u);var f=e.pstyle("opacity").value;o===void 0&&(o=f);var g=i.globalCompositeOperation;(o!==1||d==="hollow")&&(i.globalCompositeOperation="destination-out",s.colorFillStyle(i,255,255,255,1),s.colorStrokeStyle(i,255,255,255,1),s.drawArrowShape(e,i,c,u,l,m,t,n,a),i.globalCompositeOperation=g);var v=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(i,v[0],v[1],v[2],o),s.colorStrokeStyle(i,v[0],v[1],v[2],o),s.drawArrowShape(e,i,d,u,l,m,t,n,a)}}};wr.drawArrowShape=function(i,e,r,t,n,a,o,s,l){var c=this,d=this.usePaths()&&n!=="triangle-cross",u=!1,h,m=e,f={x:o,y:s},g=i.pstyle("arrow-scale").value,v=this.getArrowWidth(t,g),p=c.arrowShapes[n];if(d){var y=c.arrowPathCache=c.arrowPathCache||[],b=gn(n),_=y[b];_!=null?(h=e=_,u=!0):(h=e=new Path2D,y[b]=h)}u||(e.beginPath&&e.beginPath(),d?p.draw(e,1,0,{x:0,y:0},1):p.draw(e,v,l,f,t),e.closePath&&e.closePath()),e=m,d&&(e.translate(o,s),e.rotate(l),e.scale(v,v)),(r==="filled"||r==="both")&&(d?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(d?v:1),e.lineJoin="miter",d?e.stroke(h):e.stroke()),d&&(e.scale(1/v,1/v),e.rotate(-l),e.translate(-o,-s))};var td={};td.safeDrawImage=function(i,e,r,t,n,a,o,s,l,c){if(!(n<=0||a<=0||l<=0||c<=0))try{i.drawImage(e,r,t,n,a,o,s,l,c)}catch(d){ht(d)}};td.drawInscribedImage=function(i,e,r,t,n){var a=this,o=r.position(),s=o.x,l=o.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),u=d(r,"background-fit","value",t),h=d(r,"background-repeat","value",t),m=r.width(),f=r.height(),g=r.padding()*2,v=m+(d(r,"background-width-relative-to","value",t)==="inner"?0:g),p=f+(d(r,"background-height-relative-to","value",t)==="inner"?0:g),y=r._private.rscratch,b=d(r,"background-clip","value",t),_=b==="node",C=d(r,"background-image-opacity","value",t)*n,w=d(r,"background-image-smoothing","value",t),x=r.pstyle("corner-radius").value;x!=="auto"&&(x=r.pstyle("corner-radius").pfValue);var D=e.width||e.cachedW,E=e.height||e.cachedH;(D==null||E==null)&&(document.body.appendChild(e),D=e.cachedW=e.width||e.offsetWidth,E=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var T=D,I=E;if(d(r,"background-width","value",t)!=="auto"&&(d(r,"background-width","units",t)==="%"?T=d(r,"background-width","pfValue",t)*v:T=d(r,"background-width","pfValue",t)),d(r,"background-height","value",t)!=="auto"&&(d(r,"background-height","units",t)==="%"?I=d(r,"background-height","pfValue",t)*p:I=d(r,"background-height","pfValue",t)),!(T===0||I===0)){if(u==="contain"){var A=Math.min(v/T,p/I);T*=A,I*=A}else if(u==="cover"){var A=Math.max(v/T,p/I);T*=A,I*=A}var M=s-v/2,S=d(r,"background-position-x","units",t),F=d(r,"background-position-x","pfValue",t);S==="%"?M+=(v-T)*F:M+=F;var O=d(r,"background-offset-x","units",t),R=d(r,"background-offset-x","pfValue",t);O==="%"?M+=(v-T)*R:M+=R;var P=l-p/2,j=d(r,"background-position-y","units",t),H=d(r,"background-position-y","pfValue",t);j==="%"?P+=(p-I)*H:P+=H;var V=d(r,"background-offset-y","units",t),B=d(r,"background-offset-y","pfValue",t);V==="%"?P+=(p-I)*B:P+=B,y.pathCache&&(M-=s,P-=l,s=0,l=0);var G=i.globalAlpha;i.globalAlpha=C;var Q=a.getImgSmoothing(i),ee=!1;if(w==="no"&&Q?(a.setImgSmoothing(i,!1),ee=!0):w==="yes"&&!Q&&(a.setImgSmoothing(i,!0),ee=!0),h==="no-repeat")_&&(i.save(),y.pathCache?i.clip(y.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(i,s,l,v,p,x,y),i.clip())),a.safeDrawImage(i,e,0,0,D,E,M,P,T,I),_&&i.restore();else{var te=i.createPattern(e,h);i.fillStyle=te,a.nodeShapes[a.getNodeShape(r)].draw(i,s,l,v,p,x,y),i.translate(M,P),i.fill(),i.translate(-M,-P)}i.globalAlpha=G,ee&&a.setImgSmoothing(i,Q)}};var En={};En.eleTextBiggerThanMin=function(i,e){if(!e){var r=i.cy().zoom(),t=this.getPixelRatio(),n=Math.ceil(Vc(r*t));e=Math.pow(2,n)}var a=i.pstyle("font-size").pfValue*e,o=i.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};En.drawElementText=function(i,e,r,t,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(t==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(t===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);i.textAlign=l,i.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),u=e.pstyle("source-label"),h=e.pstyle("target-label");if(c||(!d||!d.value)&&(!u||!u.value)&&(!h||!h.value))return;i.textAlign="center",i.textBaseline="bottom"}var m=!r,f;r&&(f=r,i.translate(-f.x1,-f.y1)),n==null?(o.drawText(i,e,null,m,a),e.isEdge()&&(o.drawText(i,e,"source",m,a),o.drawText(i,e,"target",m,a))):o.drawText(i,e,n,m,a),r&&i.translate(f.x1,f.y1)};En.getFontCache=function(i){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===i)return e;return e={context:i},this.fontCaches.push(e),e};En.setupTextStyle=function(i,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,t=e.pstyle("font-style").strValue,n=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;i.font=t+" "+o+" "+n+" "+a,i.lineJoin="round",this.colorFillStyle(i,c[0],c[1],c[2],s),this.colorStrokeStyle(i,d[0],d[1],d[2],l)};function pc(i,e,r,t,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;i.beginPath(),i.moveTo(e+a,r),i.lineTo(e+t-a,r),i.quadraticCurveTo(e+t,r,e+t,r+a),i.lineTo(e+t,r+n-a),i.quadraticCurveTo(e+t,r+n,e+t-a,r+n),i.lineTo(e+a,r+n),i.quadraticCurveTo(e,r+n,e,r+n-a),i.lineTo(e,r+a),i.quadraticCurveTo(e,r,e+a,r),i.closePath(),o?i.stroke():i.fill()}En.getTextAngle=function(i,e){var r,t=i._private,n=t.rscratch,a=e?e+"-":"",o=i.pstyle(a+"text-rotation"),s=Hi(n,"labelAngle",e);return o.strValue==="autorotate"?r=i.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};En.drawText=function(i,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,s=n?e.effectiveOpacity():1;if(!(n&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=Hi(o,"labelX",r),c=Hi(o,"labelY",r),d,u,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(l)&&!isNaN(c)){this.setupTextStyle(i,e,n);var m=r?r+"-":"",f=Hi(o,"labelWidth",r),g=Hi(o,"labelHeight",r),v=e.pstyle(m+"text-margin-x").pfValue,p=e.pstyle(m+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;y&&(b="center",_="center"),l+=v,c+=p;var C;switch(t?C=this.getTextAngle(e,r):C=0,C!==0&&(d=l,u=c,i.translate(d,u),i.rotate(C),l=0,c=0),_){case"top":break;case"center":c+=g/2;break;case"bottom":c+=g;break}var w=e.pstyle("text-background-opacity").value,x=e.pstyle("text-border-opacity").value,D=e.pstyle("text-border-width").pfValue,E=e.pstyle("text-background-padding").pfValue,T=e.pstyle("text-background-shape").strValue,I=T.indexOf("round")===0,A=2;if(w>0||D>0&&x>0){var M=l-E;switch(b){case"left":M-=f;break;case"center":M-=f/2;break}var S=c-g-E,F=f+2*E,O=g+2*E;if(w>0){var R=i.fillStyle,P=e.pstyle("text-background-color").value;i.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+w*s+")",I?pc(i,M,S,F,O,A):i.fillRect(M,S,F,O),i.fillStyle=R}if(D>0&&x>0){var j=i.strokeStyle,H=i.lineWidth,V=e.pstyle("text-border-color").value,B=e.pstyle("text-border-style").value;if(i.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+x*s+")",i.lineWidth=D,i.setLineDash)switch(B){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash([4,2]);break;case"double":i.lineWidth=D/4,i.setLineDash([]);break;case"solid":i.setLineDash([]);break}if(I?pc(i,M,S,F,O,A,"stroke"):i.strokeRect(M,S,F,O),B==="double"){var G=D/2;I?pc(i,M+G,S+G,F-G*2,O-G*2,A,"stroke"):i.strokeRect(M+G,S+G,F-G*2,O-G*2)}i.setLineDash&&i.setLineDash([]),i.lineWidth=H,i.strokeStyle=j}}var Q=2*e.pstyle("text-outline-width").pfValue;if(Q>0&&(i.lineWidth=Q),e.pstyle("text-wrap").value==="wrap"){var ee=Hi(o,"labelWrapCachedLines",r),te=Hi(o,"labelLineHeight",r),re=f/2,$=this.getLabelJustification(e);switch($==="auto"||(b==="left"?$==="left"?l+=-f:$==="center"&&(l+=-re):b==="center"?$==="left"?l+=-re:$==="right"&&(l+=re):b==="right"&&($==="center"?l+=re:$==="right"&&(l+=f))),_){case"top":c-=(ee.length-1)*te;break;case"center":case"bottom":c-=(ee.length-1)*te;break}for(var L=0;L<ee.length;L++)Q>0&&i.strokeText(ee[L],l,c),i.fillText(ee[L],l,c),c+=te}else Q>0&&i.strokeText(h,l,c),i.fillText(h,l,c);C!==0&&(i.rotate(-C),i.translate(-d,-u))}}};var fa={};fa.drawNode=function(i,e,r){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,c=e._private,d=c.rscratch,u=e.position();if(!(!ce(u.x)||!ce(u.y))&&!(a&&!e.visible())){var h=a?e.effectiveOpacity():1,m=o.usePaths(),f,g=!1,v=e.padding();s=e.width()+2*v,l=e.height()+2*v;var p;r&&(p=r,i.translate(-p.x1,-p.y1));for(var y=e.pstyle("background-image"),b=y.value,_=new Array(b.length),C=new Array(b.length),w=0,x=0;x<b.length;x++){var D=b[x],E=_[x]=D!=null&&D!=="none";if(E){var T=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",x);w++,C[x]=o.getCachedImage(D,T,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var I=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,M=e.pstyle("background-opacity").value*h,S=e.pstyle("border-color").value,F=e.pstyle("border-style").value,O=e.pstyle("border-join").value,R=e.pstyle("border-cap").value,P=e.pstyle("border-position").value,j=e.pstyle("border-dash-pattern").pfValue,H=e.pstyle("border-dash-offset").pfValue,V=e.pstyle("border-opacity").value*h,B=e.pstyle("outline-width").pfValue,G=e.pstyle("outline-color").value,Q=e.pstyle("outline-style").value,ee=e.pstyle("outline-opacity").value*h,te=e.pstyle("outline-offset").value,re=e.pstyle("corner-radius").value;re!=="auto"&&(re=e.pstyle("corner-radius").pfValue);var $=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;o.eleFillStyle(i,e,oe)},L=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;o.colorStrokeStyle(i,S[0],S[1],S[2],oe)},Y=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee;o.colorStrokeStyle(i,G[0],G[1],G[2],oe)},K=function(oe,W,ae,ke){var De=o.nodePathCache=o.nodePathCache||[],ve=vf(ae==="polygon"?ae+","+ke.join(","):ae,""+W,""+oe,""+re),Pe=De[ve],me,we=!1;return Pe!=null?(me=Pe,we=!0,d.pathCache=me):(me=new Path2D,De[ve]=d.pathCache=me),{path:me,cacheHit:we}},ue=e.pstyle("shape").strValue,xe=e.pstyle("shape-polygon-points").pfValue;if(m){i.translate(u.x,u.y);var se=K(s,l,ue,xe);f=se.path,g=se.cacheHit}var de=function(){if(!g){var oe=u;m&&(oe={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(f||i,oe.x,oe.y,s,l,re,d)}m?i.fill(f):i.fill()},fe=function(){for(var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ae=c.backgrounding,ke=0,De=0;De<C.length;De++){var ve=e.cy().style().getIndexedStyle(e,"background-image-containment","value",De);if(W&&ve==="over"||!W&&ve==="inside"){ke++;continue}_[De]&&C[De].complete&&!C[De].error&&(ke++,o.drawInscribedImage(i,C[De],e,De,oe))}c.backgrounding=ke!==w,ae!==c.backgrounding&&e.updateStyle(!1)},ge=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasPie(e)&&(o.drawPie(i,e,W),oe&&(m||o.nodeShapes[o.getNodeShape(e)].draw(i,u.x,u.y,s,l,re,d)))},pe=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,W=(I>0?I:-I)*oe,ae=I>0?0:255;I!==0&&(o.colorFillStyle(i,ae,ae,ae,W),m?i.fill(f):i.fill())},Ee=function(){if(A>0){if(i.lineWidth=A,i.lineCap=R,i.lineJoin=O,i.setLineDash)switch(F){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(j),i.lineDashOffset=H;break;case"solid":case"double":i.setLineDash([]);break}if(P!=="center"){if(i.save(),i.lineWidth*=2,P==="inside")m?i.clip(f):i.clip();else{var oe=new Path2D;oe.rect(-s/2-A,-l/2-A,s+2*A,l+2*A),oe.addPath(f),i.clip(oe,"evenodd")}m?i.stroke(f):i.stroke(),i.restore()}else m?i.stroke(f):i.stroke();if(F==="double"){i.lineWidth=A/3;var W=i.globalCompositeOperation;i.globalCompositeOperation="destination-out",m?i.stroke(f):i.stroke(),i.globalCompositeOperation=W}i.setLineDash&&i.setLineDash([])}},lt=function(){if(B>0){if(i.lineWidth=B,i.lineCap="butt",i.setLineDash)switch(Q){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash([4,2]);break;case"solid":case"double":i.setLineDash([]);break}var oe=u;m&&(oe={x:0,y:0});var W=o.getNodeShape(e),ae=A;P==="inside"&&(ae=0),P==="outside"&&(ae*=2);var ke=(s+ae+(B+te))/s,De=(l+ae+(B+te))/l,ve=s*ke,Pe=l*De,me=o.nodeShapes[W].points,we;if(m){var _t=K(ve,Pe,W,me);we=_t.path}if(W==="ellipse")o.drawEllipsePath(we||i,oe.x,oe.y,ve,Pe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(W)){var pt=0,oi=0,jt=0;W==="round-diamond"?pt=(ae+te+B)*1.4:W==="round-heptagon"?(pt=(ae+te+B)*1.075,jt=-(ae/2+te+B)/35):W==="round-hexagon"?pt=(ae+te+B)*1.12:W==="round-pentagon"?(pt=(ae+te+B)*1.13,jt=-(ae/2+te+B)/15):W==="round-tag"?(pt=(ae+te+B)*1.12,oi=(ae/2+B+te)*.07):W==="round-triangle"&&(pt=(ae+te+B)*(Math.PI/2),jt=-(ae+te/2+B)/Math.PI),pt!==0&&(ke=(s+pt)/s,ve=s*ke,["round-hexagon","round-tag"].includes(W)||(De=(l+pt)/l,Pe=l*De)),re=re==="auto"?Sf(ve,Pe):re;for(var Mt=ve/2,di=Pe/2,Ht=re+(ae+B+te)/2,si=new Array(me.length/2),Mi=new Array(me.length/2),_i=0;_i<me.length/2;_i++)si[_i]={x:oe.x+oi+Mt*me[_i*2],y:oe.y+jt+di*me[_i*2+1]};var ui,Yi,cr,Oi,Ot=si.length;for(Yi=si[Ot-1],ui=0;ui<Ot;ui++)cr=si[ui%Ot],Oi=si[(ui+1)%Ot],Mi[ui]=Jc(Yi,cr,Oi,Ht),Yi=cr,cr=Oi;o.drawRoundPolygonPath(we||i,oe.x+oi,oe.y+jt,s*ke,l*De,me,Mi)}else if(["roundrectangle","round-rectangle"].includes(W))re=re==="auto"?yn(ve,Pe):re,o.drawRoundRectanglePath(we||i,oe.x,oe.y,ve,Pe,re+(ae+B+te)/2);else if(["cutrectangle","cut-rectangle"].includes(W))re=re==="auto"?jc():re,o.drawCutRectanglePath(we||i,oe.x,oe.y,ve,Pe,null,re+(ae+B+te)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(W))re=re==="auto"?yn(ve,Pe):re,o.drawBottomRoundRectanglePath(we||i,oe.x,oe.y,ve,Pe,re+(ae+B+te)/2);else if(W==="barrel")o.drawBarrelPath(we||i,oe.x,oe.y,ve,Pe);else if(W.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(W)){var Bt=(ae+B+te)/s;me=Rs(Fs(me,Bt)),o.drawPolygonPath(we||i,oe.x,oe.y,s,l,me)}else{var Qt=(ae+B+te)/s;me=Rs(Fs(me,-Qt)),o.drawPolygonPath(we||i,oe.x,oe.y,s,l,me)}if(m?i.stroke(we):i.stroke(),Q==="double"){i.lineWidth=ae/3;var Nn=i.globalCompositeOperation;i.globalCompositeOperation="destination-out",m?i.stroke(we):i.stroke(),i.globalCompositeOperation=Nn}i.setLineDash&&i.setLineDash([])}},Je=function(){n&&o.drawNodeOverlay(i,e,u,s,l)},Be=function(){n&&o.drawNodeUnderlay(i,e,u,s,l)},it=function(){o.drawElementText(i,e,null,t)},J=e.pstyle("ghost").value==="yes";if(J){var k=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue,Z=e.pstyle("ghost-opacity").value,q=Z*h;i.translate(k,z),Y(),lt(),$(Z*M),de(),fe(q,!0),L(Z*V),Ee(),ge(I!==0||A!==0),fe(q,!1),pe(q),i.translate(-k,-z)}m&&i.translate(-u.x,-u.y),Be(),m&&i.translate(u.x,u.y),Y(),lt(),$(),de(),fe(h,!0),L(),Ee(),ge(I!==0||A!==0),fe(h,!1),pe(),m&&i.translate(-u.x,-u.y),it(),Je(),r&&i.translate(p.x1,p.y1)}};var Tm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,t,n,a,o){var s=this;if(t.visible()){var l=t.pstyle("".concat(e,"-padding")).pfValue,c=t.pstyle("".concat(e,"-opacity")).value,d=t.pstyle("".concat(e,"-color")).value,u=t.pstyle("".concat(e,"-shape")).value,h=t.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(n=n||t.position(),a==null||o==null){var m=t.padding();a=t.width()+2*m,o=t.height()+2*m}s.colorFillStyle(r,d[0],d[1],d[2],c),s.nodeShapes[u].draw(r,n.x,n.y,a+l*2,o+l*2,h),r.fill()}}}};fa.drawNodeOverlay=Tm("overlay");fa.drawNodeUnderlay=Tm("underlay");fa.hasPie=function(i){return i=i[0],i._private.hasPie};fa.drawPie=function(i,e,r,t){e=e[0],t=t||e.position();var n=e.cy().style(),a=e.pstyle("pie-size"),o=t.x,s=t.y,l=e.width(),c=e.height(),d=Math.min(l,c)/2,u=0,h=this.usePaths();h&&(o=0,s=0),a.units==="%"?d=d*a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var m=1;m<=n.pieBackgroundN;m++){var f=e.pstyle("pie-"+m+"-background-size").value,g=e.pstyle("pie-"+m+"-background-color").value,v=e.pstyle("pie-"+m+"-background-opacity").value*r,p=f/100;p+u>1&&(p=1-u);var y=1.5*Math.PI+2*Math.PI*u,b=2*Math.PI*p,_=y+b;f===0||u>=1||u+p>1||(i.beginPath(),i.moveTo(o,s),i.arc(o,s,d,y,_),i.closePath(),this.colorFillStyle(i,g[0],g[1],g[2],v),i.fill(),u+=p)}};var gi={},wC=100;gi.getPixelRatio=function(){var i=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=i.backingStorePixelRatio||i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};gi.paintCache=function(i){for(var e=this.paintCaches=this.paintCaches||[],r=!0,t,n=0;n<e.length;n++)if(t=e[n],t.context===i){r=!1;break}return r&&(t={context:i},e.push(t)),t};gi.createGradientStyleFor=function(i,e,r,t,n){var a,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(t==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),u=r.midpoint(),h=bn(c,u),m=bn(d,u);a=i.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(h,m))}else{var f=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),v=r.paddedHeight();a=i.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(r.isEdge()){var p=r.sourceEndpoint(),y=r.targetEndpoint();a=i.createLinearGradient(p.x,p.y,y.x,y.y)}else{var b=o?{x:0,y:0}:r.position(),_=r.paddedWidth(),C=r.paddedHeight(),w=_/2,x=C/2,D=r.pstyle("background-gradient-direction").value;switch(D){case"to-bottom":a=i.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":a=i.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":a=i.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-right":a=i.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-bottom-right":case"to-right-bottom":a=i.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":a=i.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":a=i.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":a=i.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x);break}}if(!a)return null;for(var E=l.length===s.length,T=s.length,I=0;I<T;I++)a.addColorStop(E?l[I]:I/(T-1),"rgba("+s[I][0]+","+s[I][1]+","+s[I][2]+","+n+")");return a};gi.gradientFillStyle=function(i,e,r,t){var n=this.createGradientStyleFor(i,"background",e,r,t);if(!n)return null;i.fillStyle=n};gi.colorFillStyle=function(i,e,r,t,n){i.fillStyle="rgba("+e+","+r+","+t+","+n+")"};gi.eleFillStyle=function(i,e,r){var t=e.pstyle("background-fill").value;if(t==="linear-gradient"||t==="radial-gradient")this.gradientFillStyle(i,e,t,r);else{var n=e.pstyle("background-color").value;this.colorFillStyle(i,n[0],n[1],n[2],r)}};gi.gradientStrokeStyle=function(i,e,r,t){var n=this.createGradientStyleFor(i,"line",e,r,t);if(!n)return null;i.strokeStyle=n};gi.colorStrokeStyle=function(i,e,r,t,n){i.strokeStyle="rgba("+e+","+r+","+t+","+n+")"};gi.eleStrokeStyle=function(i,e,r){var t=e.pstyle("line-fill").value;if(t==="linear-gradient"||t==="radial-gradient")this.gradientStrokeStyle(i,e,t,r);else{var n=e.pstyle("line-color").value;this.colorStrokeStyle(i,n[0],n[1],n[2],r)}};gi.matchCanvasSize=function(i){var e=this,r=e.data,t=e.findContainerClientCoords(),n=t[2],a=t[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(i===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||i===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=n*o,c=a*o,d;if(!(l===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var u=r.canvasContainer;u.style.width=n+"px",u.style.height=a+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)d=r.canvases[h],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";for(var h=0;h<e.BUFFER_COUNT;h++)d=r.bufferCanvases[h],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";e.textureMult=1,o<=1&&(d=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=l*e.textureMult,d.height=c*e.textureMult),e.canvasWidth=l,e.canvasHeight=c}};gi.renderTo=function(i,e,r,t){this.render({forcedContext:i,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:t})};gi.render=function(i){i=i||_f();var e=i.forcedContext,r=i.drawAllLayers,t=i.drawOnlyNodeLayer,n=i.forcedZoom,a=i.forcedPan,o=this,s=i.forcedPxRatio===void 0?this.getPixelRatio():i.forcedPxRatio,l=o.cy,c=o.data,d=c.canvasNeedsRedraw,u=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),h=i.motionBlur!==void 0?i.motionBlur:o.motionBlur,m=o.motionBlurPxRatio,f=l.hasCompoundNodes(),g=o.hoverData.draggingEles,v=!!(o.hoverData.selecting||o.touchData.selecting);h=h&&!e&&o.motionBlurEnabled&&!v;var p=h;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),h&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(p=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!u&&(d[o.NODE]=!0,d[o.SELECT_BOX]=!0);var y=l.style(),b=l.zoom(),_=n!==void 0?n:b,C=l.pan(),w={x:C.x,y:C.y},x={zoom:b,pan:{x:C.x,y:C.y}},D=o.prevViewport,E=D===void 0||x.zoom!==D.zoom||x.pan.x!==D.pan.x||x.pan.y!==D.pan.y;!E&&!(g&&!f)&&(o.motionBlurPxRatio=1),a&&(w=a),_*=s,w.x*=s,w.y*=s;var T=o.getCachedZSortedEles();function I(se,de,fe,ge,pe){var Ee=se.globalCompositeOperation;se.globalCompositeOperation="destination-out",o.colorFillStyle(se,255,255,255,o.motionBlurTransparency),se.fillRect(de,fe,ge,pe),se.globalCompositeOperation=Ee}function A(se,de){var fe,ge,pe,Ee;!o.clearingMotionBlur&&(se===c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||se===c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(fe={x:C.x*m,y:C.y*m},ge=b*m,pe=o.canvasWidth*m,Ee=o.canvasHeight*m):(fe=w,ge=_,pe=o.canvasWidth,Ee=o.canvasHeight),se.setTransform(1,0,0,1,0,0),de==="motionBlur"?I(se,0,0,pe,Ee):!e&&(de===void 0||de)&&se.clearRect(0,0,pe,Ee),r||(se.translate(fe.x,fe.y),se.scale(ge,ge)),a&&se.translate(a.x,a.y),n&&se.scale(n,n)}if(u||(o.textureDrawLastFrame=!1),u){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var M=o.data.bufferContexts[o.TEXTURE_BUFFER];M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:M,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var x=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}d[o.DRAG]=!1,d[o.NODE]=!1;var S=c.contexts[o.NODE],F=o.textureCache.texture,x=o.textureCache.viewport;S.setTransform(1,0,0,1,0,0),h?I(S,0,0,x.width,x.height):S.clearRect(0,0,x.width,x.height);var O=y.core("outside-texture-bg-color").value,R=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(S,O[0],O[1],O[2],R),S.fillRect(0,0,x.width,x.height);var b=l.zoom();A(S,!1),S.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s),S.drawImage(F,x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var P=l.extent(),j=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),H=o.hideEdgesOnViewport&&j,V=[];if(V[o.NODE]=!d[o.NODE]&&h&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,V[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),V[o.DRAG]=!d[o.DRAG]&&h&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,V[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),d[o.NODE]||r||t||V[o.NODE]){var B=h&&!V[o.NODE]&&m!==1,S=e||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),G=h&&!B?"motionBlur":void 0;A(S,G),H?o.drawCachedNodes(S,T.nondrag,s,P):o.drawLayeredElements(S,T.nondrag,s,P),o.debug&&o.drawDebugPoints(S,T.nondrag),!r&&!h&&(d[o.NODE]=!1)}if(!t&&(d[o.DRAG]||r||V[o.DRAG])){var B=h&&!V[o.DRAG]&&m!==1,S=e||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]);A(S,h&&!B?"motionBlur":void 0),H?o.drawCachedNodes(S,T.drag,s,P):o.drawCachedElements(S,T.drag,s,P),o.debug&&o.drawDebugPoints(S,T.drag),!r&&!h&&(d[o.DRAG]=!1)}if(o.showFps||!t&&d[o.SELECT_BOX]&&!r){var S=e||c.contexts[o.SELECT_BOX];if(A(S),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var b=o.cy.zoom(),Q=y.core("selection-box-border-width").value/b;S.lineWidth=Q,S.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",S.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),Q>0&&(S.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",S.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){var b=o.cy.zoom(),ee=c.bgActivePosistion;S.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",S.beginPath(),S.arc(ee.x,ee.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),S.fill()}var te=o.lastRedrawTime;if(o.showFps&&te){te=Math.round(te);var re=Math.round(1e3/te);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+te+" ms = "+re+" fps",0,20);var $=60;S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(re/$,1),20)}r||(d[o.SELECT_BOX]=!1)}if(h&&m!==1){var L=c.contexts[o.NODE],Y=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],K=c.contexts[o.DRAG],ue=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],xe=function(de,fe,ge){de.setTransform(1,0,0,1,0,0),ge||!p?de.clearRect(0,0,o.canvasWidth,o.canvasHeight):I(de,0,0,o.canvasWidth,o.canvasHeight);var pe=m;de.drawImage(fe,0,0,o.canvasWidth*pe,o.canvasHeight*pe,0,0,o.canvasWidth,o.canvasHeight)};(d[o.NODE]||V[o.NODE])&&(xe(L,Y,V[o.NODE]),d[o.NODE]=!1),(d[o.DRAG]||V[o.DRAG])&&(xe(K,ue,V[o.DRAG]),d[o.DRAG]=!1)}o.prevViewport=x,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),h&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!u,o.mbFrames=0,d[o.NODE]=!0,d[o.DRAG]=!0,o.redraw()},wC)),e||l.emit("render")};var qr={};qr.drawPolygonPath=function(i,e,r,t,n,a){var o=t/2,s=n/2;i.beginPath&&i.beginPath(),i.moveTo(e+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)i.lineTo(e+o*a[l*2],r+s*a[l*2+1]);i.closePath()};qr.drawRoundPolygonPath=function(i,e,r,t,n,a,o){o.forEach(function(s){return bm(i,s)}),i.closePath()};qr.drawRoundRectanglePath=function(i,e,r,t,n,a){var o=t/2,s=n/2,l=a==="auto"?yn(t,n):Math.min(a,s,o);i.beginPath&&i.beginPath(),i.moveTo(e,r-s),i.arcTo(e+o,r-s,e+o,r,l),i.arcTo(e+o,r+s,e,r+s,l),i.arcTo(e-o,r+s,e-o,r,l),i.arcTo(e-o,r-s,e,r-s,l),i.lineTo(e,r-s),i.closePath()};qr.drawBottomRoundRectanglePath=function(i,e,r,t,n,a){var o=t/2,s=n/2,l=a==="auto"?yn(t,n):a;i.beginPath&&i.beginPath(),i.moveTo(e,r-s),i.lineTo(e+o,r-s),i.lineTo(e+o,r),i.arcTo(e+o,r+s,e,r+s,l),i.arcTo(e-o,r+s,e-o,r,l),i.lineTo(e-o,r-s),i.lineTo(e,r-s),i.closePath()};qr.drawCutRectanglePath=function(i,e,r,t,n,a,o){var s=t/2,l=n/2,c=o==="auto"?jc():o;i.beginPath&&i.beginPath(),i.moveTo(e-s+c,r-l),i.lineTo(e+s-c,r-l),i.lineTo(e+s,r-l+c),i.lineTo(e+s,r+l-c),i.lineTo(e+s-c,r+l),i.lineTo(e-s+c,r+l),i.lineTo(e-s,r+l-c),i.lineTo(e-s,r-l+c),i.closePath()};qr.drawBarrelPath=function(i,e,r,t,n){var a=t/2,o=n/2,s=e-a,l=e+a,c=r-o,d=r+o,u=gc(t,n),h=u.widthOffset,m=u.heightOffset,f=u.ctrlPtOffsetPct*h;i.beginPath&&i.beginPath(),i.moveTo(s,c+m),i.lineTo(s,d-m),i.quadraticCurveTo(s+f,d,s+h,d),i.lineTo(l-h,d),i.quadraticCurveTo(l-f,d,l,d-m),i.lineTo(l,c+m),i.quadraticCurveTo(l-f,c,l-h,c),i.lineTo(s+h,c),i.quadraticCurveTo(s+f,c,s,c+m),i.closePath()};var Xh=Math.sin(0),Qh=Math.cos(0),Ac={},Tc={},Mm=Math.PI/40;for(dn=0*Math.PI;dn<2*Math.PI;dn+=Mm)Ac[dn]=Math.sin(dn),Tc[dn]=Math.cos(dn);var dn;qr.drawEllipsePath=function(i,e,r,t,n){if(i.beginPath&&i.beginPath(),i.ellipse)i.ellipse(e,r,t/2,n/2,0,0,2*Math.PI);else for(var a,o,s=t/2,l=n/2,c=0*Math.PI;c<2*Math.PI;c+=Mm)a=e-s*Ac[c]*Xh+s*Tc[c]*Qh,o=r+l*Tc[c]*Xh+l*Ac[c]*Qh,c===0?i.moveTo(a,o):i.lineTo(a,o);i.closePath()};var xo={};xo.createBuffer=function(i,e){var r=document.createElement("canvas");return r.width=i,r.height=e,[r,r.getContext("2d")]};xo.bufferCanvasImage=function(i){var e=this.cy,r=e.mutableElements(),t=r.boundingBox(),n=this.findContainerClientCoords(),a=i.full?Math.ceil(t.w):n[2],o=i.full?Math.ceil(t.h):n[3],s=ce(i.maxWidth)||ce(i.maxHeight),l=this.getPixelRatio(),c=1;if(i.scale!==void 0)a*=i.scale,o*=i.scale,c=i.scale;else if(s){var d=1/0,u=1/0;ce(i.maxWidth)&&(d=c*i.maxWidth/a),ce(i.maxHeight)&&(u=c*i.maxHeight/o),c=Math.min(d,u),a*=c,o*=c}s||(a*=l,o*=l,c*=l);var h=document.createElement("canvas");h.width=a,h.height=o,h.style.width=a+"px",h.style.height=o+"px";var m=h.getContext("2d");if(a>0&&o>0){m.clearRect(0,0,a,o),m.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(i.full)m.translate(-t.x1*c,-t.y1*c),m.scale(c,c),this.drawElements(m,f),m.scale(1/c,1/c),m.translate(t.x1*c,t.y1*c);else{var g=e.pan(),v={x:g.x*c,y:g.y*c};c*=e.zoom(),m.translate(v.x,v.y),m.scale(c,c),this.drawElements(m,f),m.scale(1/c,1/c),m.translate(-v.x,-v.y)}i.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=i.bg,m.rect(0,0,a,o),m.fill())}return h};function CC(i,e){for(var r=atob(i),t=new ArrayBuffer(r.length),n=new Uint8Array(t),a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return new Blob([t],{type:e})}function Jh(i){var e=i.indexOf(",");return i.substr(e+1)}function Om(i,e,r){var t=function(){return e.toDataURL(r,i.quality)};switch(i.output){case"blob-promise":return new aa(function(n,a){try{e.toBlob(function(o){o!=null?n(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,i.quality)}catch(o){a(o)}});case"blob":return CC(Jh(t()),r);case"base64":return Jh(t());case"base64uri":default:return t()}}xo.png=function(i){return Om(i,this.bufferCanvasImage(i),"image/png")};xo.jpg=function(i){return Om(i,this.bufferCanvasImage(i),"image/jpeg")};var Rm={};Rm.nodeShapeImpl=function(i,e,r,t,n,a,o,s){switch(i){case"ellipse":return this.drawEllipsePath(e,r,t,n,a);case"polygon":return this.drawPolygonPath(e,r,t,n,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,t,n,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,t,n,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,t,n,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,t,n,a,s);case"barrel":return this.drawBarrelPath(e,r,t,n,a)}};var EC=Fm,nt=Fm.prototype;nt.CANVAS_LAYERS=3;nt.SELECT_BOX=0;nt.DRAG=1;nt.NODE=2;nt.BUFFER_COUNT=3;nt.TEXTURE_BUFFER=0;nt.MOTIONBLUR_BUFFER_NODE=1;nt.MOTIONBLUR_BUFFER_DRAG=2;function Fm(i){var e=this,r=e.cy.window(),t=r.document;e.data={canvases:new Array(nt.CANVAS_LAYERS),contexts:new Array(nt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(nt.CANVAS_LAYERS),bufferCanvases:new Array(nt.BUFFER_COUNT),bufferContexts:new Array(nt.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=t.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=i.cy.container();s.appendChild(e.data.canvasContainer),s.style[n]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ug()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var c=0;c<nt.CANVAS_LAYERS;c++){var d=e.data.canvases[c]=t.createElement("canvas");e.data.contexts[c]=d.getContext("2d"),Object.keys(l).forEach(function($){d.style[$]=l[$]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(nt.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(d),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[nt.NODE].setAttribute("data-id","layer"+nt.NODE+"-node"),e.data.canvases[nt.SELECT_BOX].setAttribute("data-id","layer"+nt.SELECT_BOX+"-selectbox"),e.data.canvases[nt.DRAG].setAttribute("data-id","layer"+nt.DRAG+"-drag");for(var c=0;c<nt.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=t.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var u=mi(),h=function(L){return{x:(L.x1+L.x2)/2,y:(L.y1+L.y2)/2}},m=function(L){return{x:-L.w/2,y:-L.h/2}},f=function(L){var Y=L[0]._private,K=Y.oldBackgroundTimestamp===Y.backgroundTimestamp;return!K},g=function(L){return L[0]._private.nodeKey},v=function(L){return L[0]._private.labelStyleKey},p=function(L){return L[0]._private.sourceLabelStyleKey},y=function(L){return L[0]._private.targetLabelStyleKey},b=function(L,Y,K,ue,xe){return e.drawElement(L,Y,K,!1,!1,xe)},_=function(L,Y,K,ue,xe){return e.drawElementText(L,Y,K,ue,"main",xe)},C=function(L,Y,K,ue,xe){return e.drawElementText(L,Y,K,ue,"source",xe)},w=function(L,Y,K,ue,xe){return e.drawElementText(L,Y,K,ue,"target",xe)},x=function(L){return L.boundingBox(),L[0]._private.bodyBounds},D=function(L){return L.boundingBox(),L[0]._private.labelBounds.main||u},E=function(L){return L.boundingBox(),L[0]._private.labelBounds.source||u},T=function(L){return L.boundingBox(),L[0]._private.labelBounds.target||u},I=function(L,Y){return Y},A=function(L){return h(x(L))},M=function(L,Y,K){var ue=L?L+"-":"";return{x:Y.x+K.pstyle(ue+"text-margin-x").pfValue,y:Y.y+K.pstyle(ue+"text-margin-y").pfValue}},S=function(L,Y,K){var ue=L[0]._private.rscratch;return{x:ue[Y],y:ue[K]}},F=function(L){return M("",S(L,"labelX","labelY"),L)},O=function(L){return M("source",S(L,"sourceLabelX","sourceLabelY"),L)},R=function(L){return M("target",S(L,"targetLabelX","targetLabelY"),L)},P=function(L){return m(x(L))},j=function(L){return m(E(L))},H=function(L){return m(T(L))},V=function(L){var Y=D(L),K=m(D(L));if(L.isNode()){switch(L.pstyle("text-halign").value){case"left":K.x=-Y.w;break;case"right":K.x=0;break}switch(L.pstyle("text-valign").value){case"top":K.y=-Y.h;break;case"bottom":K.y=0;break}}return K},B=e.data.eleTxrCache=new Qa(e,{getKey:g,doesEleInvalidateKey:f,drawElement:b,getBoundingBox:x,getRotationPoint:A,getRotationOffset:P,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),G=e.data.lblTxrCache=new Qa(e,{getKey:v,drawElement:_,getBoundingBox:D,getRotationPoint:F,getRotationOffset:V,isVisible:I}),Q=e.data.slbTxrCache=new Qa(e,{getKey:p,drawElement:C,getBoundingBox:E,getRotationPoint:O,getRotationOffset:j,isVisible:I}),ee=e.data.tlbTxrCache=new Qa(e,{getKey:y,drawElement:w,getBoundingBox:T,getRotationPoint:R,getRotationOffset:H,isVisible:I}),te=e.data.lyrTxrCache=new Sm(e);e.onUpdateEleCalcs(function(L,Y){B.invalidateElements(Y),G.invalidateElements(Y),Q.invalidateElements(Y),ee.invalidateElements(Y),te.invalidateElements(Y);for(var K=0;K<Y.length;K++){var ue=Y[K]._private;ue.oldBackgroundTimestamp=ue.backgroundTimestamp}});var re=function(L){for(var Y=0;Y<L.length;Y++)te.enqueueElementRefinement(L[Y].ele)};B.onDequeue(re),G.onDequeue(re),Q.onDequeue(re),ee.onDequeue(re)}nt.redrawHint=function(i,e){var r=this;switch(i){case"eles":r.data.canvasNeedsRedraw[nt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[nt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[nt.SELECT_BOX]=e;break}};var kC=typeof Path2D<"u";nt.path2dEnabled=function(i){if(i===void 0)return this.pathsEnabled;this.pathsEnabled=!!i};nt.usePaths=function(){return kC&&this.pathsEnabled};nt.setImgSmoothing=function(i,e){i.imageSmoothingEnabled!=null?i.imageSmoothingEnabled=e:(i.webkitImageSmoothingEnabled=e,i.mozImageSmoothingEnabled=e,i.msImageSmoothingEnabled=e)};nt.getImgSmoothing=function(i){return i.imageSmoothingEnabled!=null?i.imageSmoothingEnabled:i.webkitImageSmoothingEnabled||i.mozImageSmoothingEnabled||i.msImageSmoothingEnabled};nt.makeOffscreenCanvas=function(i,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Lt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(i,e);else{var t=this.cy.window(),n=t.document;r=n.createElement("canvas"),r.width=i,r.height=e}return r};[Im,or,wr,td,En,fa,gi,qr,xo,Rm].forEach(function(i){Ie(nt,i)});var DC=[{name:"null",impl:pm},{name:"base",impl:km},{name:"canvas",impl:EC}],SC=[{type:"layout",extensions:Rw},{type:"renderer",extensions:DC}],Pm={},Lm={};function Nm(i,e,r){var t=r,n=function(D){ht("Can not register `"+e+"` for `"+i+"` since `"+D+"` already exists in the prototype and can not be overridden")};if(i==="core"){if(ho.prototype[e])return n(e);ho.prototype[e]=r}else if(i==="collection"){if(Yt.prototype[e])return n(e);Yt.prototype[e]=r}else if(i==="layout"){for(var a=function(D){this.options=D,r.call(this,D),tt(this._private)||(this._private={}),this._private.cy=D.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var c=s[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=r.prototype.stop;o.stop=function(){var x=this.options;if(x&&x.animate){var D=this.animations;if(D)for(var E=0;E<D.length;E++)D[E].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var u=function(D){return D._private.cy},h={addEventFields:function(D,E){E.layout=D,E.cy=u(D),E.target=D},bubble:function(){return!0},parent:function(D){return u(D)}};Ie(o,{createEmitter:function(){return this._private.emitter=new Xs(h,this),this},emitter:function(){return this._private.emitter},on:function(D,E){return this.emitter().on(D,E),this},one:function(D,E){return this.emitter().one(D,E),this},once:function(D,E){return this.emitter().one(D,E),this},removeListener:function(D,E){return this.emitter().removeListener(D,E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(D,E){return this.emitter().emit(D,E),this}}),ut.eventAliasesOn(o),t=a}else if(i==="renderer"&&e!=="null"&&e!=="base"){var m=Bm("renderer","base"),f=m.prototype,g=r,v=r.prototype,p=function(){m.apply(this,arguments),g.apply(this,arguments)},y=p.prototype;for(var b in f){var _=f[b],C=v[b]!=null;if(C)return n(b);y[b]=_}for(var w in v)y[w]=v[w];f.clientFunctions.forEach(function(x){y[x]=y[x]||function(){St("Renderer does not implement `renderer."+x+"()` on its prototype")}}),t=p}else if(i==="__proto__"||i==="constructor"||i==="prototype")return St(i+" is an illegal type to be registered, possibly lead to prototype pollutions");return cf({map:Pm,keys:[i,e],value:t})}function Bm(i,e){return df({map:Pm,keys:[i,e]})}function IC(i,e,r,t,n){return cf({map:Lm,keys:[i,e,r,t],value:n})}function AC(i,e,r,t){return df({map:Lm,keys:[i,e,r,t]})}var Mc=function(){if(arguments.length===2)return Bm.apply(null,arguments);if(arguments.length===3)return Nm.apply(null,arguments);if(arguments.length===4)return AC.apply(null,arguments);if(arguments.length===5)return IC.apply(null,arguments);St("Invalid extension access syntax")};ho.prototype.extension=Mc;SC.forEach(function(i){i.extensions.forEach(function(e){Nm(i.type,e.name,e.impl)})});var Vm=function i(){if(!(this instanceof i))return new i;this.length=0},wn=Vm.prototype;wn.instanceString=function(){return"stylesheet"};wn.selector=function(i){var e=this.length++;return this[e]={selector:i,properties:[]},this};wn.css=function(i,e){var r=this.length-1;if(_e(i))this[r].properties.push({name:i,value:e});else if(tt(i))for(var t=i,n=Object.keys(t),a=0;a<n.length;a++){var o=n[a],s=t[o];if(s!=null){var l=ei.properties[o]||ei.properties[js(o)];if(l!=null){var c=l.name,d=s;this[r].properties.push({name:c,value:d})}}}return this};wn.style=wn.css;wn.generateStyle=function(i){var e=new ei(i);return this.appendToStyle(e)};wn.appendToStyle=function(i){for(var e=0;e<this.length;e++){var r=this[e],t=r.selector,n=r.properties;i.selector(t);for(var a=0;a<n.length;a++){var o=n[a];i.css(o.name,o.value)}}return i};var TC="3.30.2",_r=function(e){if(e===void 0&&(e={}),tt(e))return new ho(e);if(_e(e))return Mc.apply(Mc,arguments)};_r.use=function(i){var e=Array.prototype.slice.call(arguments,1);return e.unshift(_r),i.apply(null,e),this};_r.warnings=function(i){return bf(i)};_r.version=TC;_r.stylesheet=_r.Stylesheet=Vm;var Gm=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(N(ja),N(Re))},e.\u0275dir=Ne({type:e});let i=e;return i})(),OC=(()=>{let e=class e extends Gm{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=an(e)))(a||e)}})(),e.\u0275dir=Ne({type:e,features:[kt]});let i=e;return i})(),Dn=new Se("");var RC={provide:Dn,useExisting:Ji(()=>va),multi:!0};function FC(){let i=ic()?ic().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var PC=new Se(""),va=(()=>{let e=class e extends Gm{constructor(t,n,a){super(t,n),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!FC())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(N(ja),N(Re),N(PC,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){n&1&&Fe("input",function(s){return a._handleInput(s.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(s){return a._compositionEnd(s.target.value)})},features:[Dt([RC]),kt]});let i=e;return i})();function Wr(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function $m(i){return i!=null&&typeof i.length=="number"}var ga=new Se(""),ml=new Se(""),LC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qi=class{static min(e){return NC(e)}static max(e){return BC(e)}static required(e){return VC(e)}static requiredTrue(e){return zC(e)}static email(e){return jC(e)}static minLength(e){return HC(e)}static maxLength(e){return UC(e)}static pattern(e){return qC(e)}static nullValidator(e){return Ym(e)}static compose(e){return ep(e)}static composeAsync(e){return tp(e)}};function NC(i){return e=>{if(Wr(e.value)||Wr(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<i?{min:{min:i,actual:e.value}}:null}}function BC(i){return e=>{if(Wr(e.value)||Wr(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>i?{max:{max:i,actual:e.value}}:null}}function VC(i){return Wr(i.value)?{required:!0}:null}function zC(i){return i.value===!0?null:{required:!0}}function jC(i){return Wr(i.value)||LC.test(i.value)?null:{email:!0}}function HC(i){return e=>Wr(e.value)||!$m(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function UC(i){return e=>$m(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function qC(i){if(!i)return Ym;let e,r;return typeof i=="string"?(r="",i.charAt(0)!=="^"&&(r+="^"),r+=i,i.charAt(i.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=i.toString(),e=i),t=>{if(Wr(t.value))return null;let n=t.value;return e.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function Ym(i){return null}function Km(i){return i!=null}function Zm(i){return Iu(i)?du(i):i}function Xm(i){let e={};return i.forEach(r=>{e=r!=null?Ae(Ae({},e),r):e}),Object.keys(e).length===0?null:e}function Qm(i,e){return e.map(r=>r(i))}function WC(i){return!i.validate}function Jm(i){return i.map(e=>WC(e)?e:r=>e.validate(r))}function ep(i){if(!i)return null;let e=i.filter(Km);return e.length==0?null:function(r){return Xm(Qm(r,e))}}function od(i){return i!=null?ep(Jm(i)):null}function tp(i){if(!i)return null;let e=i.filter(Km);return e.length==0?null:function(r){let t=Qm(r,e).map(Zm);return fu(t).pipe(Zi(Xm))}}function sd(i){return i!=null?tp(Jm(i)):null}function zm(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ip(i){return i._rawValidators}function rp(i){return i._rawAsyncValidators}function id(i){return i?Array.isArray(i)?i:[i]:[]}function ol(i,e){return Array.isArray(i)?i.includes(e):i===e}function jm(i,e){let r=id(e);return id(i).forEach(n=>{ol(r,n)||r.push(n)}),r}function Hm(i,e){return id(e).filter(r=>!ol(i,r))}var sl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=od(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},kn=class extends sl{get formDirective(){return null}get path(){return null}},Wi=class extends sl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oS=Ut(Ae({},GC),{"[class.ng-submitted]":"isSubmitted"}),ba=(()=>{let e=class e extends rd{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(N(Wi,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){n&2&&$e("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[kt]});let i=e;return i})();var wo="VALID",al="INVALID",ma="PENDING",Co="DISABLED",Gr=class{},ll=class extends Gr{constructor(e,r){super(),this.value=e,this.source=r}},ko=class extends Gr{constructor(e,r){super(),this.pristine=e,this.source=r}},Do=class extends Gr{constructor(e,r){super(),this.touched=e,this.source=r}},pa=class extends Gr{constructor(e,r){super(),this.status=e,this.source=r}},nd=class extends Gr{constructor(e){super(),this.source=e}},ad=class extends Gr{constructor(e){super(),this.source=e}};function np(i){return(pl(i)?i.validators:i)||null}function $C(i){return Array.isArray(i)?od(i):i||null}function ap(i,e){return(pl(e)?e.asyncValidators:i)||null}function YC(i){return Array.isArray(i)?sd(i):i||null}function pl(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function KC(i,e,r){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new es(1e3,"");if(!t[r])throw new es(1001,"")}function ZC(i,e,r){i._forEachChild((t,n)=>{if(r[n]===void 0)throw new es(1002,"")})}var cl=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=mr(()=>this.statusReactive()),this.statusReactive=zn(void 0),this._pristine=mr(()=>this.pristineReactive()),this.pristineReactive=zn(!0),this._touched=mr(()=>this.touchedReactive()),this.touchedReactive=zn(!1),this._events=new be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bi(this.statusReactive)}set status(e){Bi(()=>this.statusReactive.set(e))}get valid(){return this.status===wo}get invalid(){return this.status===al}get pending(){return this.status==ma}get disabled(){return this.status===Co}get enabled(){return this.status!==Co}get pristine(){return Bi(this.pristineReactive)}set pristine(e){Bi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Bi(this.touchedReactive)}set touched(e){Bi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hm(e,this._rawAsyncValidators))}hasValidator(e){return ol(this._rawValidators,e)}hasAsyncValidator(e){return ol(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ut(Ae({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Do(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new Do(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ut(Ae({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new ko(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new ko(!0,t))}markAsPending(e={}){this.status=ma;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pa(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ut(Ae({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Co,this.errors=null,this._forEachChild(n=>{n.disable(Ut(Ae({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ll(this.value,t)),this._events.next(new pa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ut(Ae({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=wo,this._forEachChild(t=>{t.enable(Ut(Ae({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ut(Ae({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wo||this.status===ma)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ll(this.value,r)),this._events.next(new pa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ut(Ae({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Co:wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=ma,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=Zm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,n)=>t&&t._find(n),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new pa(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Co:this.errors?al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ma)?ma:this._anyControlsHaveStatus(al)?al:wo}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&this._events.next(new ko(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Do(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$C(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=YC(this._rawAsyncValidators)}},dl=class extends cl{constructor(e,r,t){super(np(r),ap(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){ZC(this,!0,e),Object.keys(e).forEach(t=>{KC(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,n)=>((t.enabled||this.disabled)&&(r[n]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((n,a)=>{t=r(t,n,a)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ya=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>vl}),vl="always";function XC(i,e){return[...e.path,i]}function So(i,e,r=vl){ld(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),JC(i,e),tE(i,e),eE(i,e),QC(i,e)}function ul(i,e,r=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),fl(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function hl(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function QC(i,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function ld(i,e){let r=ip(i);e.validator!==null?i.setValidators(zm(r,e.validator)):typeof r=="function"&&i.setValidators([r]);let t=rp(i);e.asyncValidator!==null?i.setAsyncValidators(zm(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();hl(e._rawValidators,n),hl(e._rawAsyncValidators,n)}function fl(i,e){let r=!1;if(i!==null){if(e.validator!==null){let n=ip(i);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==e.validator);a.length!==n.length&&(r=!0,i.setValidators(a))}}if(e.asyncValidator!==null){let n=rp(i);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==e.asyncValidator);a.length!==n.length&&(r=!0,i.setAsyncValidators(a))}}}let t=()=>{};return hl(e._rawValidators,t),hl(e._rawAsyncValidators,t),r}function JC(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&op(i,e)})}function eE(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&op(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function op(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function tE(i,e){let r=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function sp(i,e){i==null,ld(i,e)}function iE(i,e){return fl(i,e)}function lp(i,e){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function rE(i){return Object.getPrototypeOf(i.constructor)===OC}function cp(i,e){i._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function dp(i,e){if(!e)return null;Array.isArray(e);let r,t,n;return e.forEach(a=>{a.constructor===va?r=a:rE(a)?t=a:n=a}),n||t||r||null}function nE(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}var aE={provide:kn,useExisting:Ji(()=>Io)},Eo=Promise.resolve(),Io=(()=>{let e=class e extends kn{get submitted(){return Bi(this.submittedReactive)}constructor(t,n,a){super(),this.callSetDisabledState=a,this._submitted=mr(()=>this.submittedReactive()),this.submittedReactive=zn(!1),this._directives=new Set,this.ngSubmit=new Xe,this.form=new dl({},od(t),sd(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Eo.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),So(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Eo.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Eo.then(()=>{let n=this._findContainer(t.path),a=new dl({});sp(a,t),n.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Eo.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Eo.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),cp(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(N(ga,10),N(ml,10),N(ya,8))},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,a){n&1&&Fe("submit",function(s){return a.onSubmit(s)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dt([aE]),kt]});let i=e;return i})();function Um(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}function qm(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Sn=class extends cl{constructor(e=null,r,t){super(np(r),ap(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pl(r)&&(r.nonNullable||r.initialValueIsDefault)&&(qm(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Um(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Um(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oE=i=>i instanceof Sn;var sE={provide:Wi,useExisting:Ji(()=>In)},Wm=Promise.resolve(),In=(()=>{let e=class e extends Wi{constructor(t,n,a,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new Sn,this._registered=!1,this.name="",this.update=new Xe,this._parent=t,this._setValidators(n),this._setAsyncValidators(a),this.valueAccessor=dp(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){So(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Wm.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,a=n!==0&&ze(n);Wm.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?XC(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(N(kn,9),N(ga,10),N(ml,10),N(Dn,10),N(Vt,8),N(ya,8))},e.\u0275dir=Ne({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Dt([sE]),kt,li]});let i=e;return i})();var up=new Se(""),lE={provide:Wi,useExisting:Ji(()=>Ao)},Ao=(()=>{let e=class e extends Wi{set isDisabled(t){}constructor(t,n,a,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Xe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=dp(this,a)}ngOnChanges(t){if(this._isControlChanged(t)){let n=t.form.previousValue;n&&ul(n,this,!1),So(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}lp(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ul(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(N(ga,10),N(ml,10),N(Dn,10),N(up,8),N(ya,8))},e.\u0275dir=Ne({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Dt([lE]),kt,li]});let i=e;return i})(),cE={provide:kn,useExisting:Ji(()=>To)},To=(()=>{let e=class e extends kn{get submitted(){return Bi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,a){super(),this.callSetDisabledState=a,this._submitted=mr(()=>this._submittedReactive()),this._submittedReactive=zn(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return So(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){ul(t.control||null,t,!1),nE(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),cp(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new nd(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ad(this.form))}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,a=this.form.get(t.path);n!==a&&(ul(n||null,t),oE(a)&&(So(a,t,this.callSetDisabledState),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);sp(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&iE(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ld(this.form,this),this._oldForm&&fl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(N(ga,10),N(ml,10),N(ya,8))},e.\u0275dir=Ne({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,a){n&1&&Fe("submit",function(s){return a.onSubmit(s)})("reset",function(){return a.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dt([cE]),kt,li]});let i=e;return i})();var hp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({});let i=e;return i})();var $r=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:ya,useValue:t.callSetDisabledState??vl}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[hp]});let i=e;return i})(),_a=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:up,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ya,useValue:t.callSetDisabledState??vl}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[hp]});let i=e;return i})();function An(i){return i!=null&&`${i}`!="false"}function xa(i,e=0){return dE(i)?Number(i):arguments.length===2?e:0}function dE(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function wa(i){return Array.isArray(i)?i:[i]}function At(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Si(i){return i instanceof Re?i.nativeElement:i}var dd;try{dd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dd=!1}var ot=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?jn(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||dd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(n){return new(n||e)(ne(Vn))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ca,fp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ud(){if(Ca)return Ca;if(typeof document!="object"||!document)return Ca=new Set(fp),Ca;let i=document.createElement("input");return Ca=new Set(fp.filter(e=>(i.setAttribute("type",e),i.type===e))),Ca}var Oo;function uE(){if(Oo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oo=!0}))}finally{Oo=Oo||!1}return Oo}function Yr(i){return uE()?i:!!i.capture}var Gi=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(Gi||{}),gl,Tn;function bl(){if(Tn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Tn=!1,Tn;if("scrollBehavior"in document.documentElement.style)Tn=!0;else{let i=Element.prototype.scrollTo;i?Tn=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Tn=!1}}return Tn}function Ea(){if(typeof document!="object"||!document)return Gi.NORMAL;if(gl==null){let i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let r=document.createElement("div"),t=r.style;t.width="2px",t.height="1px",i.appendChild(r),document.body.appendChild(i),gl=Gi.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,gl=i.scrollLeft===0?Gi.NEGATED:Gi.INVERTED),i.remove()}return gl}var cd;function hE(){if(cd==null){let i=typeof document<"u"?document.head:null;cd=!!(i&&(i.createShadowRoot||i.attachShadow))}return cd}function mp(i){if(hE()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ro(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function bi(i){return i.composedPath?i.composedPath()[0]:i.target}function Fo(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var fE=new Se("cdk-dir-doc",{providedIn:"root",factory:mE});function mE(){return je(rt)}var pE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function vE(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?pE.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ii=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new Xe,t){let n=t.body?t.body.dir:null,a=t.documentElement?t.documentElement.dir:null;this.value=vE(n||a||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(n){return new(n||e)(ne(fE,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Kr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({});let i=e;return i})();var _l=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,r,t=!0,n){this._multiple=e,this._emitChanges=t,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new be,r&&r.length&&(e?r.forEach(a=>this._markSelected(a)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...e){this._verifyValueAssignment(e);let r=this.selected,t=new Set(e);e.forEach(a=>this._markSelected(a)),r.filter(a=>!t.has(this._getConcreteValue(a,t))).forEach(a=>this._unmarkSelected(a));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let r=this._hasQueuedChanges();return e&&this._emitChangeEvent(),r}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,r){if(this.compareWith){r=r??this._selection;for(let t of r)if(this.compareWith(e,t))return t;return e}else return e}};var vp=(()=>{let e=class e{constructor(){this._listeners=[]}notify(t,n){for(let a of this._listeners)a(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var bE=20,hd=(()=>{let e=class e{constructor(t,n,a){this._ngZone=t,this._platform=n,this._scrolled=new be,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=bE){return this._platform.isBrowser?new Sr(n=>{this._globalSubscription||this._addGlobalListener();let a=t>0?this._scrolled.pipe(Ql(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){let a=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(Jt(o=>!o||a.indexOf(o)>-1))}getAncestorScrollContainers(t){let n=[];return this.scrollContainers.forEach((a,o)=>{this._scrollableContainsElement(o,t)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let a=Si(n),o=t.getElementRef().nativeElement;do if(a==o)return!0;while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Zo(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(n){return new(n||e)(ne(Oe),ne(ot),ne(rt,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),gp=(()=>{let e=class e{constructor(t,n,a,o){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=a,this.dir=o,this._destroyed=new be,this._elementScrolled=new Sr(s=>this.ngZone.runOutsideAngular(()=>Zo(this.elementRef.nativeElement,"scroll").pipe(Et(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let n=this.elementRef.nativeElement,a=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=a?t.end:t.start),t.right==null&&(t.right=a?t.start:t.end),t.bottom!=null&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),a&&Ea()!=Gi.NORMAL?(t.left!=null&&(t.right=n.scrollWidth-n.clientWidth-t.left),Ea()==Gi.INVERTED?t.left=t.right:Ea()==Gi.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let n=this.elementRef.nativeElement;bl()?n.scrollTo(t):(t.top!=null&&(n.scrollTop=t.top),t.left!=null&&(n.scrollLeft=t.left))}measureScrollOffset(t){let n="left",a="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return t=="start"?t=s?a:n:t=="end"&&(t=s?n:a),s&&Ea()==Gi.INVERTED?t==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Ea()==Gi.NEGATED?t==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(hd),N(Oe),N(Ii,8))},e.\u0275dir=Ne({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let i=e;return i})(),yE=20,Po=(()=>{let e=class e{constructor(t,n,a){this._platform=t,this._change=new be,this._changeListener=o=>{this._change.next(o)},this._document=a,n.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:n,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+n,height:a,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,n=this._getWindow(),a=t.documentElement,o=a.getBoundingClientRect(),s=-o.top||t.body.scrollTop||n.scrollY||a.scrollTop||0,l=-o.left||t.body.scrollLeft||n.scrollX||a.scrollLeft||0;return{top:s,left:l}}change(t=yE){return t>0?this._change.pipe(Ql(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(n){return new(n||e)(ne(ot),ne(Oe),ne(rt,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var xl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({});let i=e;return i})(),fd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Kr,xl,Kr,xl]});let i=e;return i})();var Lo=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Cr=class extends Lo{constructor(e,r,t,n,a){super(),this.component=e,this.viewContainerRef=r,this.injector=t,this.componentFactoryResolver=n,this.projectableNodes=a}},Er=class extends Lo{constructor(e,r,t,n){super(),this.templateRef=e,this.viewContainerRef=r,this.context=t,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}},pd=class extends Lo{constructor(e){super(),this.element=e instanceof Re?e.nativeElement:e}},Zr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Cr)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Er)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof pd)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var wl=class extends Zr{constructor(e,r,t,n,a){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=t,this._defaultInjector=n,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector||xt.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let r=e.viewContainerRef,t=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(n=>this.outletElement.appendChild(n)),t.detectChanges(),this.setDisposeFn(()=>{let n=r.indexOf(t);n!==-1&&r.remove(n)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Xr=(()=>{let e=class e extends Zr{constructor(t,n,a){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Xe,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=a}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let n=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=n.createComponent(o,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}};e.\u0275fac=function(n){return new(n||e)(N(is),N(on),N(rt))},e.\u0275dir=Ne({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[kt]});let i=e;return i})();var kr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({});let i=e;return i})();function yi(i,...e){return e.length?e.some(r=>i[r]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var bp=bl(),vd=class{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=At(-this._previousScrollPosition.left),e.style.top=At(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,r=this._document.body,t=e.style,n=r.style,a=t.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bp&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bp&&(t.scrollBehavior=a,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,t=this._viewportRuler.getViewportSize();return r.scrollHeight>t.height||r.scrollWidth>t.width}};var gd=class{constructor(e,r,t,n){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=t,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Jt(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Cl=class{enable(){}disable(){}attach(){}};function bd(i,e){return e.some(r=>{let t=i.bottom<r.top,n=i.top>r.bottom,a=i.right<r.left,o=i.left>r.right;return t||n||a||o})}function yp(i,e){return e.some(r=>{let t=i.top<r.top,n=i.bottom>r.bottom,a=i.left<r.left,o=i.right>r.right;return t||n||a||o})}var yd=class{constructor(e,r,t,n){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=t,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();bd(r,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},_E=(()=>{let e=class e{constructor(t,n,a,o){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=a,this.noop=()=>new Cl,this.close=s=>new gd(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new vd(this._viewportRuler,this._document),this.reposition=s=>new yd(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}};e.\u0275fac=function(n){return new(n||e)(ne(hd),ne(Po),ne(Oe),ne(rt))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Qr=class{constructor(e){if(this.scrollStrategy=new Cl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let r=Object.keys(e);for(let t of r)e[t]!==void 0&&(this[t]=e[t])}}};var _d=class{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}};var kp=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(n){return new(n||e)(ne(rt))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xE=(()=>{let e=class e extends kp{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=a=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(a)):l.next(a);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(n){return new(n||e)(ne(rt),ne(Oe,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),wE=(()=>{let e=class e extends kp{constructor(t,n,a){super(t),this._platform=n,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bi(o)},this._clickListener=o=>{let s=bi(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(_p(u.overlayElement,s)||_p(u.overlayElement,l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(n){return new(n||e)(ne(rt),ne(ot),ne(Oe,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function _p(i,e){let r=typeof ShadowRoot<"u"&&ShadowRoot,t=e;for(;t;){if(t===i)return!0;t=r&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var ka=(()=>{let e=class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Fo()){let a=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<a.length;o++)a[o].remove()}let n=this._document.createElement("div");n.classList.add(t),Fo()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};e.\u0275fac=function(n){return new(n||e)(ne(rt),ne(ot))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Dr=class{constructor(e,r,t,n,a,o,s,l,c,d=!1,u){this._portalOutlet=e,this._host=r,this._pane=t,this._config=n,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new be,this._attachments=new be,this._detachments=new be,this._locationChanges=xi.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new be,this._outsidePointerEvents=new be,this._renders=new be,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=Bi(()=>rs(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ar(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Ae(Ae({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ut(Ae({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=At(this._config.width),e.height=At(this._config.height),e.minWidth=At(this._config.minWidth),e.minHeight=At(this._config.minHeight),e.maxWidth=At(this._config.maxWidth),e.maxHeight=At(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,t){let n=wa(r||[]).filter(a=>!!a);n.length&&(t?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Et(Xi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},xp="cdk-overlay-connected-position-bounding-box",CE=/([A-Za-z%]+)$/,xd=class{get positions(){return this._preferredPositions}constructor(e,r,t,n,a){this._viewportRuler=r,this._document=t,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new be,this._resizeSubscription=xi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(xp),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,r=this._overlayRect,t=this._viewportRect,n=this._containerRect,a=[],o;for(let s of this._preferredPositions){let l=this._getOriginPoint(e,n,s),c=this._getOverlayPoint(l,r,s),d=this._getOverlayFit(c,r,t,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,t)){a.push({position:s,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:r})}if(a.length){let s=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xp),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,t){let n;if(t.originX=="center")n=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,s=this._isRtl()?e.left:e.right;n=t.originX=="start"?o:s}r.left<0&&(n-=r.left);let a;return t.originY=="center"?a=e.top+e.height/2:a=t.originY=="top"?e.top:e.bottom,r.top<0&&(a-=r.top),{x:n,y:a}}_getOverlayPoint(e,r,t){let n;t.overlayX=="center"?n=-r.width/2:t.overlayX==="start"?n=this._isRtl()?-r.width:0:n=this._isRtl()?0:-r.width;let a;return t.overlayY=="center"?a=-r.height/2:a=t.overlayY=="top"?0:-r.height,{x:e.x+n,y:e.y+a}}_getOverlayFit(e,r,t,n){let a=Cp(r),{x:o,y:s}=e,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(o+=l),c&&(s+=c);let d=0-o,u=o+a.width-t.width,h=0-s,m=s+a.height-t.height,f=this._subtractOverflows(a.width,d,u),g=this._subtractOverflows(a.height,h,m),v=f*g;return{visibleArea:v,isCompletelyWithinViewport:a.width*a.height===v,fitsInViewportVertically:g===a.height,fitsInViewportHorizontally:f==a.width}}_canFitWithFlexibleDimensions(e,r,t){if(this._hasFlexibleDimensions){let n=t.bottom-r.y,a=t.right-r.x,o=wp(this._overlayRef.getConfig().minHeight),s=wp(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=n,c=e.fitsInViewportHorizontally||s!=null&&s<=a;return l&&c}return!1}_pushOverlayOnScreen(e,r,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=Cp(r),a=this._viewportRect,o=Math.max(e.x+n.width-a.width,0),s=Math.max(e.y+n.height-a.height,0),l=Math.max(a.top-t.top-e.y,0),c=Math.max(a.left-t.left-e.x,0),d=0,u=0;return n.width<=a.width?d=c||-o:d=e.x<this._viewportMargin?a.left-t.left-e.x:0,n.height<=a.height?u=l||-s:u=e.y<this._viewportMargin?a.top-t.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!EE(this._lastScrollVisibility,t)){let n=new _d(e,t);this._positionChanges.next(n)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,n=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let a=0;a<r.length;a++)r[a].style.transformOrigin=`${t} ${n}`}_calculateBoundingBoxRect(e,r){let t=this._viewportRect,n=this._isRtl(),a,o,s;if(r.overlayY==="top")o=e.y,a=t.height-o+this._viewportMargin;else if(r.overlayY==="bottom")s=t.height-e.y+this._viewportMargin*2,a=t.height-s+this._viewportMargin;else{let m=Math.min(t.bottom-e.y+t.top,e.y),f=this._lastBoundingBoxSize.height;a=m*2,o=e.y-m,a>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-f/2)}let l=r.overlayX==="start"&&!n||r.overlayX==="end"&&n,c=r.overlayX==="end"&&!n||r.overlayX==="start"&&n,d,u,h;if(c)h=t.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=t.right-e.x;else{let m=Math.min(t.right-e.x+t.left,e.x),f=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-f/2)}return{top:o,left:u,bottom:s,right:h,width:d,height:a}}_setBoundingBoxStyles(e,r){let t=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;n.height=At(t.height),n.top=At(t.top),n.bottom=At(t.bottom),n.width=At(t.width),n.left=At(t.left),n.right=At(t.right),r.overlayX==="center"?n.alignItems="center":n.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?n.justifyContent="center":n.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=At(a)),o&&(n.maxWidth=At(o))}this._lastBoundingBoxSize=t,Mn(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Mn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){let t={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();Mn(t,this._getExactOverlayY(r,e,d)),Mn(t,this._getExactOverlayX(r,e,d))}else t.position="static";let s="",l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),t.transform=s.trim(),o.maxHeight&&(n?t.maxHeight=At(o.maxHeight):a&&(t.maxHeight="")),o.maxWidth&&(n?t.maxWidth=At(o.maxWidth):a&&(t.maxWidth="")),Mn(this._pane.style,t)}_getExactOverlayY(e,r,t){let n={top:"",bottom:""},a=this._getOverlayPoint(r,this._overlayRect,e);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,t)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;n.bottom=`${o-(a.y+this._overlayRect.height)}px`}else n.top=At(a.y);return n}_getExactOverlayX(e,r,t){let n={left:"",right:""},a=this._getOverlayPoint(r,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,t));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(a.x+this._overlayRect.width)}px`}else n.left=At(a.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),t=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yp(e,t),isOriginOutsideView:bd(e,t),isOverlayClipped:yp(r,t),isOverlayOutsideView:bd(r,t)}}_subtractOverflows(e,...r){return r.reduce((t,n)=>t-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return r==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&wa(e).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let r=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+r,height:t,width:r}}};function Mn(i,e){for(let r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}function wp(i){if(typeof i!="number"&&i!=null){let[e,r]=i.split(CE);return!r||r==="px"?parseFloat(e):null}return i||null}function Cp(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function EE(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var Ep="cdk-global-overlay-wrapper",wd=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Ep),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:o,maxHeight:s}=t,l=(n==="100%"||n==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",f="",g="";l?g="flex-start":d==="center"?(g="center",h?f=u:m=u):h?d==="left"||d==="end"?(g="flex-end",m=u):(d==="right"||d==="start")&&(g="flex-start",f=u):d==="left"||d==="start"?(g="flex-start",m=u):(d==="right"||d==="end")&&(g="flex-end",f=u),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,r.justifyContent=g,r.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,t=r.style;r.classList.remove(Ep),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},kE=(()=>{let e=class e{constructor(t,n,a,o){this._viewportRuler=t,this._document=n,this._platform=a,this._overlayContainer=o}global(){return new wd}flexibleConnectedTo(t){return new xd(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(n){return new(n||e)(ne(Po),ne(rt),ne(ot),ne(ka))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),DE=0,Xt=(()=>{let e=class e{constructor(t,n,a,o,s,l,c,d,u,h,m,f){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=a,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=m,this._animationsModuleType=f}create(t){let n=this._createHostElement(),a=this._createPaneElement(n),o=this._createPortalOutlet(a),s=new Qr(t);return s.direction=s.direction||this._directionality.value,new Dr(o,n,a,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(vu))}position(){return this._positionBuilder}_createPaneElement(t){let n=this._document.createElement("div");return n.id=`cdk-overlay-${DE++}`,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Au)),new wl(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(n){return new(n||e)(ne(_E),ne(ka),ne(is),ne(kE),ne(xE),ne(xt),ne(Oe),ne(rt),ne(Ii),ne(os),ne(wE),ne(qt,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),SE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Dp=new Se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=je(Xt);return()=>i.scrollStrategies.reposition()}}),No=(()=>{let e=class e{constructor(t){this.elementRef=t}};e.\u0275fac=function(n){return new(n||e)(N(Re))},e.\u0275dir=Ne({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let i=e;return i})(),Ed=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,a,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=xi.EMPTY,this._attachSubscription=xi.EMPTY,this._detachSubscription=xi.EMPTY,this._positionSubscription=xi.EMPTY,this._disposeOnNavigation=!1,this._ngZone=je(Oe),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Xe,this.positionChange=new Xe,this.attach=new Xe,this.detach=new Xe,this.overlayKeydown=new Xe,this.overlayOutsideClick=new Xe,this._templatePortal=new Er(n,a),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=SE);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!yi(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let a=this._getOriginElement(),o=bi(n);(!a||a!==o&&!a.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Qr({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){let n=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof No?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof No?this.origin.elementRef.nativeElement:this.origin instanceof Re?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(mu(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(N(Xt),N(Ir),N(on),N(Dp),N(Ii,8))},e.\u0275dir=Ne({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ze],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ze],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ze],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ze],push:[2,"cdkConnectedOverlayPush","push",ze],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ze]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Rt,li]});let i=e;return i})();function IE(i){return()=>i.scrollStrategies.reposition()}var AE={provide:Dp,deps:[Xt],useFactory:IE},Jr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[Xt,AE],imports:[Kr,kr,fd,fd]});let i=e;return i})();var TE=(()=>{let e=class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var El=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[TE]});let i=e;return i})();var Sp=new Set,On,ME=(()=>{let e=class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RE}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&OE(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(n){return new(n||e)(ne(ot),ne(bu,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function OE(i,e){if(!Sp.has(i))try{On||(On=document.createElement("style"),e&&On.setAttribute("nonce",e),On.setAttribute("type","text/css"),document.head.appendChild(On)),On.sheet&&(On.sheet.insertRule(`@media ${i} {body{ }}`,0),Sp.add(i))}catch(r){console.error(r)}}function RE(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var kl=(()=>{let e=class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new be}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ip(wa(t)).some(a=>this._registerQuery(a).mql.matches)}observe(t){let a=Ip(wa(t)).map(s=>this._registerQuery(s).observable),o=uu(a);return o=hu(o.pipe(dr(1)),o.pipe(Qo(1),Xo(0))),o.pipe(Zi(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let n=this._mediaMatcher.matchMedia(t),o={observable:new Sr(s=>{let l=c=>this._zone.run(()=>s.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Qi(n),Zi(({matches:s})=>({query:t,matches:s})),Et(this._destroySubject)),mql:n};return this._queries.set(t,o),o}};e.\u0275fac=function(n){return new(n||e)(ne(ME),ne(Oe))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ip(i){return i.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}var Ap={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Rp=" ";function Fp(i,e,r){let t=Pp(i,e);r=r.trim(),!t.some(n=>n.trim()===r)&&(t.push(r),i.setAttribute(e,t.join(Rp)))}function Rd(i,e,r){let t=Pp(i,e);r=r.trim();let n=t.filter(a=>a!==r);n.length?i.setAttribute(e,n.join(Rp)):i.removeAttribute(e)}function Pp(i,e){return i.getAttribute(e)?.match(/\S+/g)??[]}var YE=200,Sd=class{constructor(e,r){this._letterKeyStream=new be,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new be,this.selectedItem=this._selectedItem;let t=typeof r?.debounceInterval=="number"?r.debounceInterval:YE;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(e),this._setupKeyHandler(t)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let r=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(pu(r=>this._pressedLetters.push(r)),Xo(e),Jt(()=>this._pressedLetters.length>0),Zi(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let t=1;t<this._items.length+1;t++){let n=(this._selectedItemIndex+t)%this._items.length,a=this._items[n];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}},Id=class{constructor(e,r){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=xi.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this.tabOut=new be,this.change=new be,e instanceof ec?this._itemChangesSubscription=e.changes.subscribe(t=>this._itemsChanged(t.toArray())):tc(e)&&(this._effectRef=Tu(()=>this._itemsChanged(e()),{injector:r}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let r=this._getItemsArray();return this._typeahead=new Sd(r,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.setActiveItem(t)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){let r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){let r=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(r){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}else return;default:(n||yi(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let r=this._getItemsArray(),t=typeof e=="number"?e:r.indexOf(e),n=r[t];this._activeItem=n??null,this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let r=this._getItemsArray();for(let t=1;t<=r.length;t++){let n=(this._activeItemIndex+e*t+r.length)%r.length,a=r[n];if(!this._skipPredicateFn(a)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){let t=this._getItemsArray();if(t[e]){for(;this._skipPredicateFn(t[e]);)if(e+=r,!t[e])return;this.setActiveItem(e)}}_getItemsArray(){return tc(this._items)?this._items():this._items instanceof ec?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let r=e.indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}},Il=class extends Id{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var Vo=(()=>{let e=class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return ZE(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let n=KE(n1(t));if(n&&(Tp(n)===-1||!this.isVisible(n)))return!1;let a=t.nodeName.toLowerCase(),o=Tp(t);return t.hasAttribute("contenteditable")?o!==-1:a==="iframe"||a==="object"||this._platform.WEBKIT&&this._platform.IOS&&!i1(t)?!1:a==="audio"?t.hasAttribute("controls")?o!==-1:!1:a==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,n){return r1(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}};e.\u0275fac=function(n){return new(n||e)(ne(ot))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function KE(i){try{return i.frameElement}catch{return null}}function ZE(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function XE(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function QE(i){return e1(i)&&i.type=="hidden"}function JE(i){return t1(i)&&i.hasAttribute("href")}function e1(i){return i.nodeName.toLowerCase()=="input"}function t1(i){return i.nodeName.toLowerCase()=="a"}function Lp(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Tp(i){if(!Lp(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function i1(i){let e=i.nodeName.toLowerCase(),r=e==="input"&&i.type;return r==="text"||r==="password"||e==="select"||e==="textarea"}function r1(i){return QE(i)?!1:XE(i)||JE(i)||i.hasAttribute("contenteditable")||Lp(i)}function n1(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Ad=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,r,t,n,a=!1,o){this._element=e,this._checker=r,this._ngZone=t,this._document=n,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){let e=this._startAnchor,r=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let r=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let t=this._getFirstTabbableElement(r);return t?.focus(e),!!t}return r.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let r=this._getRegionBoundary("start");return r&&r.focus(e),!!r}focusLastTabbableElement(e){let r=this._getRegionBoundary("end");return r&&r.focus(e),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let r=e.children;for(let t=0;t<r.length;t++){let n=r[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[t]):null;if(n)return n}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let r=e.children;for(let t=r.length-1;t>=0;t--){let n=r[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[t]):null;if(n)return n}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,r){e?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Ar(e,{injector:this._injector}):setTimeout(e)}},Ml=(()=>{let e=class e{constructor(t,n,a){this._checker=t,this._ngZone=n,this._injector=je(xt),this._document=a}create(t,n=!1){return new Ad(t,this._checker,this._ngZone,this._document,n,this._injector)}};e.\u0275fac=function(n){return new(n||e)(ne(Vo),ne(Oe),ne(rt))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Fd(i){return i.buttons===0||i.detail===0}function Pd(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var a1=new Se("cdk-input-modality-detector-options"),o1={ignoreKeys:[18,17,224,91,16]},Np=650,Da=Yr({passive:!0,capture:!0}),s1=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(t,n,a,o){this._platform=t,this._mostRecentTarget=null,this._modality=new lu(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(l=>l===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bi(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<Np||(this._modality.next(Fd(s)?"keyboard":"mouse"),this._mostRecentTarget=bi(s))},this._onTouchstart=s=>{if(Pd(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bi(s)},this._options=Ae(Ae({},o1),o),this.modalityDetected=this._modality.pipe(Qo(1)),this.modalityChanged=this.modalityDetected.pipe(za()),t.isBrowser&&n.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Da),a.addEventListener("mousedown",this._onMousedown,Da),a.addEventListener("touchstart",this._onTouchstart,Da)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Da),document.removeEventListener("mousedown",this._onMousedown,Da),document.removeEventListener("touchstart",this._onTouchstart,Da))}};e.\u0275fac=function(n){return new(n||e)(ne(ot),ne(Oe),ne(rt),ne(a1,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),l1=new Se("liveAnnouncerElement",{providedIn:"root",factory:c1});function c1(){return null}var d1=new Se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),u1=0,Ol=(()=>{let e=class e{constructor(t,n,a,o){this._ngZone=n,this._defaultOptions=o,this._document=a,this._liveElement=t||this._createLiveElement()}announce(t,...n){let a=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=a&&a.politeness?a.politeness:"polite"),s==null&&a&&(s=a.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),a=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return a.classList.add(t),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),a.id=`cdk-live-announcer-${u1++}`,this._document.body.appendChild(a),a}_exposeAnnouncerToModals(t){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<n.length;a++){let o=n[a],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}};e.\u0275fac=function(n){return new(n||e)(ne(l1,8),ne(Oe),ne(rt),ne(d1,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Sl=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(Sl||{}),h1=new Se("cdk-focus-monitor-default-options"),Dl=Yr({passive:!0,capture:!0}),en=(()=>{let e=class e{constructor(t,n,a,o,s){this._ngZone=t,this._platform=n,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new be,this._rootNodeFocusAndBlurListener=l=>{let c=bi(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=o,this._detectionMode=s?.detectionMode||Sl.IMMEDIATE}monitor(t,n=!1){let a=Si(t);if(!this._platform.isBrowser||a.nodeType!==1)return nn();let o=mp(a)||this._getDocument(),s=this._elementInfo.get(a);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new be,rootNode:o};return this._elementInfo.set(a,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let n=Si(t),a=this._elementInfo.get(n);a&&(a.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(a))}focusVia(t,n,a){let o=Si(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(a))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Sl.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused",n==="touch"),t.classList.toggle("cdk-keyboard-focused",n==="keyboard"),t.classList.toggle("cdk-mouse-focused",n==="mouse"),t.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&n,this._detectionMode===Sl.IMMEDIATE){clearTimeout(this._originTimeoutId);let a=this._originFromTouchInteraction?Np:1;this._originTimeoutId=setTimeout(()=>this._origin=null,a)}})}_onFocus(t,n){let a=this._elementInfo.get(n),o=bi(t);!a||!a.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),a)}_onBlur(t,n){let a=this._elementInfo.get(n);!a||a.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(a,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let n=t.rootNode,a=this._rootNodeFocusListenerCount.get(n)||0;a||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Dl),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Dl)}),this._rootNodeFocusListenerCount.set(n,a+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let a=this._rootNodeFocusListenerCount.get(n);a>1?this._rootNodeFocusListenerCount.set(n,a-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Dl),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Dl),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,a){this._setClasses(t,n),this._emitOrigin(a,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){let n=[];return this._elementInfo.forEach((a,o)=>{(o===t||a.checkChildren&&o.contains(t))&&n.push([o,a])}),n}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:n,mostRecentModality:a}=this._inputModalityDetector;if(a!=="mouse"||!n||n===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}};e.\u0275fac=function(n){return new(n||e)(ne(Oe),ne(ot),ne(s1),ne(rt,8),ne(h1,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Rn=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Rn||{}),Mp="cdk-high-contrast-black-on-white",Op="cdk-high-contrast-white-on-black",Dd="cdk-high-contrast-active",Ld=(()=>{let e=class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=je(kl).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Rn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let n=this._document.defaultView||window,a=n&&n.getComputedStyle?n.getComputedStyle(t):null,o=(a&&a.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Rn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Rn.BLACK_ON_WHITE}return Rn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Dd,Mp,Op),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Rn.BLACK_ON_WHITE?t.add(Dd,Mp):n===Rn.WHITE_ON_BLACK&&t.add(Dd,Op)}}};e.\u0275fac=function(n){return new(n||e)(ne(ot),ne(rt))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Bp=(()=>{let e=class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(n){return new(n||e)(ne(Ld))},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[El]});let i=e;return i})();function f1(i,e){}var Fn=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Bd=(()=>{let e=class e extends Zr{constructor(t,n,a,o,s,l,c,d){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=s,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=je(ot),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=je(Vt),this._injector=je(xt),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),h},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(n)}_focusByCssSelector(t,n){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,n)}_trapFocus(){this._isDestroyed||Ar(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,n=null;if(typeof t=="string"?n=this._document.querySelector(t):typeof t=="boolean"?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&typeof n.focus=="function"){let a=Ro(),o=this._elementRef.nativeElement;(!a||a===this._document.body||a===o||o.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,n=Ro();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ro()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Ml),N(rt,8),N(Fn),N(Vo),N(Oe),N(Dr),N(en))},e.\u0275cmp=Ge({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,a){if(n&1&&st(Xr,7),n&2){let o;He(o=Ue())&&(a._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,a){n&2&&ct("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},standalone:!0,features:[kt,Ze],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,a){n&1&&Ve(0,f1,0,0,"ng-template",0)},dependencies:[Xr],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let i=e;return i})(),zo=class{constructor(e,r){this.overlayRef=e,this.config=r,this.closed=new be,this.disableClose=r.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!yi(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(e,r){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(e),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",r=""){return this.overlayRef.updateSize({width:e,height:r}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},m1=new Se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=je(Xt);return()=>i.scrollStrategies.block()}}),p1=new Se("DialogData"),v1=new Se("DefaultDialogConfig");var g1=0,Vd=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,a,o,s,l){this._overlay=t,this._injector=n,this._defaultOptions=a,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this._ariaHiddenElements=new Map,this.afterAllClosed=Bn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qi(void 0))),this._scrollStrategy=l}open(t,n){let a=this._defaultOptions||new Fn;n=Ae(Ae({},a),n),n.id=n.id||`cdk-dialog-${g1++}`,n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=this._overlay.create(o),l=new zo(s,n),c=this._attachContainer(s,l,n);return l.containerInstance=c,this._attachDialogContent(t,l,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Nd(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){Nd(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),Nd(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let n=new Qr({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,a){let o=a.injector||a.viewContainerRef?.injector,s=[{provide:Fn,useValue:a},{provide:zo,useValue:n},{provide:Dr,useValue:t}],l;a.container?typeof a.container=="function"?l=a.container:(l=a.container.type,s.push(...a.container.providers(a))):l=Bd;let c=new Cr(l,a.viewContainerRef,xt.create({parent:o||this._injector,providers:s}),a.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,n,a,o){if(t instanceof Ir){let s=this._createInjector(o,n,a,void 0),l={$implicit:o.data,dialogRef:n};o.templateContext&&(l=Ae(Ae({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),a.attachTemplatePortal(new Er(t,null,l,s))}else{let s=this._createInjector(o,n,a,this._injector),l=a.attachComponentPortal(new Cr(t,o.viewContainerRef,s,o.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,a,o){let s=t.injector||t.viewContainerRef?.injector,l=[{provide:p1,useValue:t.data},{provide:zo,useValue:n}];return t.providers&&(typeof t.providers=="function"?l.push(...t.providers(n,t,a)):l.push(...t.providers)),t.direction&&(!s||!s.get(Ii,null,{optional:!0}))&&l.push({provide:Ii,useValue:{value:t.direction,change:nn()}}),xt.create({parent:s||o,providers:l})}_removeOpenDialog(t,n){let a=this.openDialogs.indexOf(t);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let n=t.parentElement.children;for(let a=n.length-1;a>-1;a--){let o=n[a];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(n){return new(n||e)(ne(Xt),ne(xt),ne(v1,8),ne(e,12),ne(ka),ne(m1))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Nd(i,e){let r=i.length;for(;r--;)e(i[r])}var Vp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[Vd],imports:[Jr,kr,Bp,kr]});let i=e;return i})();var b1=["*",[["mat-option"],["ng-container"]]],y1=["*","mat-option, ng-container"],_1=["text"],x1=[[["mat-icon"]],"*"],w1=["mat-icon","*"];function C1(i,e){if(i&1&&Ye(0,"mat-pseudo-checkbox",1),i&2){let r=Ke();Ce("disabled",r.disabled)("state",r.selected?"checked":"unchecked")}}function E1(i,e){if(i&1&&Ye(0,"mat-pseudo-checkbox",3),i&2){let r=Ke();Ce("disabled",r.disabled)}}function k1(i,e){if(i&1&&(ie(0,"span",4),ye(1),X()),i&2){let r=Ke();le(),Tr("(",r.group.label,")")}}var D1=["mat-internal-form-field",""],S1=["*"];function I1(){return!0}var A1=new Se("mat-sanity-checks",{providedIn:"root",factory:I1}),Qe=(()=>{let e=class e{constructor(t,n,a){this._sanityChecks=n,this._document=a,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Fo()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(n){return new(n||e)(ne(Ld),ne(A1,8),ne(rt))},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Kr,Kr]});let i=e;return i})();var Ia=class{constructor(e,r,t,n,a){this._defaultMatcher=e,this.ngControl=r,this._parentFormGroup=t,this._parentForm=n,this._stateChanges=a,this.errorState=!1}updateErrorState(){let e=this.errorState,r=this._parentFormGroup||this._parentForm,t=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,a=t?.isErrorState(n,r)??!1;a!==e&&(this.errorState=a,this._stateChanges.next())}};var Ll=(()=>{let e=class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ai=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Ai||{}),Hd=class{constructor(e,r,t,n=!1){this._renderer=e,this.element=r,this.config=t,this._animationForciblyDisabledThroughCss=n,this.state=Ai.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},zp=Yr({passive:!0,capture:!0}),Ud=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=bi(e);r&&this._events.get(e.type)?.forEach((t,n)=>{(n===r||n.contains(r))&&t.forEach(a=>a.handleEvent(e))})}}addHandler(e,r,t,n){let a=this._events.get(r);if(a){let o=a.get(t);o?o.add(n):a.set(t,new Set([n]))}else this._events.set(r,new Map([[t,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,zp)})}removeHandler(e,r,t){let n=this._events.get(e);if(!n)return;let a=n.get(r);a&&(a.delete(t),a.size===0&&n.delete(r),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,zp)))}},jp={enterDuration:225,exitDuration:150},T1=800,Hp=Yr({passive:!0,capture:!0}),Up=["mousedown","touchstart"],qp=["mouseup","mouseleave","touchend","touchcancel"],jo=class jo{constructor(e,r,t,n){this._target=e,this._ngZone=r,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Si(t))}fadeInRipple(e,r,t={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Ae(Ae({},jp),t.animation);t.centered&&(e=n.left+n.width/2,r=n.top+n.height/2);let o=t.radius||M1(e,r,n),s=e-n.left,l=r-n.top,c=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,t.color!=null&&(d.style.backgroundColor=t.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,f=h==="none"||m==="0s"||m==="0s, 0s"||n.width===0&&n.height===0,g=new Hd(this,d,t,f);d.style.transform="scale3d(1, 1, 1)",g.state=Ai.FADING_IN,t.persistent||(this._mostRecentTransientRipple=g);let v=null;return!f&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let p=()=>{v&&(v.fallbackTimer=null),clearTimeout(b),this._finishRippleTransition(g)},y=()=>this._destroyRipple(g),b=setTimeout(y,c+100);d.addEventListener("transitionend",p),d.addEventListener("transitioncancel",y),v={onTransitionEnd:p,onTransitionCancel:y,fallbackTimer:b}}),this._activeRipples.set(g,v),(f||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===Ai.FADING_OUT||e.state===Ai.HIDDEN)return;let r=e.element,t=Ae(Ae({},jp),e.config.animation);r.style.transitionDuration=`${t.exitDuration}ms`,r.style.opacity="0",e.state=Ai.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=Si(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,Up.forEach(t=>{jo._eventManager.addHandler(this._ngZone,t,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qp.forEach(r=>{this._triggerElement.addEventListener(r,this,Hp)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ai.FADING_IN?this._startFadeOutTransition(e):e.state===Ai.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=Ai.VISIBLE,!t&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ai.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),e.element.remove()}_onMousedown(e){let r=Fd(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+T1;!this._target.rippleDisabled&&!r&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Pd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let t=0;t<r.length;t++)this.fadeInRipple(r[t].clientX,r[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===Ai.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ai.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Up.forEach(r=>jo._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&(qp.forEach(r=>e.removeEventListener(r,this,Hp)),this._pointerUpEventsRegistered=!1))}};jo._eventManager=new Ud;var qd=jo;function M1(i,e,r){let t=Math.max(Math.abs(i-r.left),Math.abs(i-r.right)),n=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(t*t+n*n)}var Yp=new Se("mat-ripple-global-options"),Pn=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,a,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qd(this,n,t,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ae(Ae(Ae({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,a){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,n,Ae(Ae({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,Ae(Ae({},this.rippleConfig),t))}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Oe),N(ot),N(Yp,8),N(qt,8))},e.\u0275dir=Ne({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,a){n&2&&$e("mat-ripple-unbounded",a.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let i=e;return i})(),Ho=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,Qe]});let i=e;return i})(),O1=(()=>{let e=class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(n){return new(n||e)(N(qt,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,a){n&2&&$e("mat-pseudo-checkbox-indeterminate",a.state==="indeterminate")("mat-pseudo-checkbox-checked",a.state==="checked")("mat-pseudo-checkbox-disabled",a.disabled)("mat-pseudo-checkbox-minimal",a.appearance==="minimal")("mat-pseudo-checkbox-full",a.appearance==="full")("_mat-animation-noopable",a._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Ze],decls:0,vars:0,template:function(n,a){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let i=e;return i})(),R1=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe]});let i=e;return i})(),Nl=new Se("MAT_OPTION_PARENT_COMPONENT"),F1=0,Bl=new Se("MatOptgroup"),Kp=(()=>{let e=class e{constructor(t){this.disabled=!1,this._labelId=`mat-optgroup-label-${F1++}`,this._inert=t?.inertGroups??!1}};e.\u0275fac=function(n){return new(n||e)(N(Nl,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(n,a){n&2&&ct("role",a._inert?null:"group")("aria-disabled",a._inert?null:a.disabled.toString())("aria-labelledby",a._inert?null:a._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",ze]},exportAs:["matOptgroup"],standalone:!0,features:[Dt([{provide:Bl,useExisting:e}]),Rt,Ze],ngContentSelectors:y1,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(n,a){n&1&&(Wt(b1),ie(0,"span",0)(1,"span",1),ye(2),dt(3),X()(),dt(4,1)),n&2&&($e("mdc-list-item--disabled",a.disabled),Ce("id",a._labelId),le(2),Tr("",a.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0});let i=e;return i})(),P1=0,Wd=class{constructor(e,r=!1){this.source=e,this.isUserInput=r}},Aa=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(t,n,a,o){this._element=t,this._changeDetectorRef=n,this._parent=a,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${P1++}`,this.onSelectionChange=new Xe,this._stateChanges=new be}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){let a=this._getHostElement();typeof a.focus=="function"&&a.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!yi(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Wd(this,t))}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Vt),N(Nl,8),N(Bl,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-option"]],viewQuery:function(n,a){if(n&1&&st(_1,7),n&2){let o;He(o=Ue())&&(a._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,a){n&1&&Fe("click",function(){return a._selectViaInteraction()})("keydown",function(s){return a._handleKeydown(s)}),n&2&&(wi("id",a.id),ct("aria-selected",a.selected)("aria-disabled",a.disabled.toString()),$e("mdc-list-item--selected",a.selected)("mat-mdc-option-multiple",a.multiple)("mat-mdc-option-active",a.active)("mdc-list-item--disabled",a.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ze]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Rt,Ze],ngContentSelectors:w1,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,a){n&1&&(Wt(x1),Ve(0,C1,1,2,"mat-pseudo-checkbox",1),dt(1),ie(2,"span",2,0),dt(4,1),X(),Ve(5,E1,1,1,"mat-pseudo-checkbox",3)(6,k1,2,1,"span",4),Ye(7,"div",5)),n&2&&(wt(a.multiple?0:-1),le(5),wt(!a.multiple&&a.selected&&!a.hideSingleSelectionIndicator?5:-1),le(),wt(a.group&&a.group._inert?6:-1),le(),Ce("matRippleTrigger",a._getHostElement())("matRippleDisabled",a.disabled||a.disableRipple))},dependencies:[O1,Pn],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let i=e;return i})();function Zp(i,e,r){if(r.length){let t=e.toArray(),n=r.toArray(),a=0;for(let o=0;o<i+1;o++)t[o].group&&t[o].group===n[a]&&a++;return a}return 0}function Xp(i,e,r,t){return i<r?i:i+e>r+t?Math.max(0,i-t+e):r}var Gd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Ho,Qe,R1]});let i=e;return i})(),Wp={capture:!0},Gp=["focus","mousedown","mouseenter","touchstart"],zd="mat-ripple-loader-uninitialized",jd="mat-ripple-loader-class-name",$p="mat-ripple-loader-centered",Rl="mat-ripple-loader-disabled",Qp=(()=>{let e=class e{constructor(){this._document=je(rt,{optional:!0}),this._animationMode=je(qt,{optional:!0}),this._globalRippleOptions=je(Yp,{optional:!0}),this._platform=je(ot),this._ngZone=je(Oe),this._hosts=new Map,this._onInteraction=t=>{let n=bi(t);if(n instanceof HTMLElement){let a=n.closest(`[${zd}="${this._globalRippleOptions?.namespace??""}"]`);a&&this._createRipple(a)}},this._ngZone.runOutsideAngular(()=>{for(let t of Gp)this._document?.addEventListener(t,this._onInteraction,Wp)})}ngOnDestroy(){let t=this._hosts.keys();for(let n of t)this.destroyRipple(n);for(let n of Gp)this._document?.removeEventListener(n,this._onInteraction,Wp)}configureRipple(t,n){t.setAttribute(zd,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(jd))&&t.setAttribute(jd,n.className||""),n.centered&&t.setAttribute($p,""),n.disabled&&t.setAttribute(Rl,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){let a=this._hosts.get(t);if(a){a.disabled=n;return}n?t.setAttribute(Rl,""):t.removeAttribute(Rl)}_createRipple(t){if(!this._document)return;let n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();let a=this._document.createElement("span");a.classList.add("mat-ripple",t.getAttribute(jd)),t.append(a);let o=new Pn(new Re(a),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute($p),o.disabled=t.hasAttribute(Rl),this.attachRipple(t,o),o}attachRipple(t,n){t.removeAttribute(zd),this._hosts.set(t,n)}destroyRipple(t){let n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Vl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ge({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,a){n&2&&$e("mdc-form-field--align-end",a.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Ze],attrs:D1,ngContentSelectors:S1,decls:1,vars:0,template:function(n,a){n&1&&(Wt(),dt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let i=e;return i})();function L1(i,e){}var Uo=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},$d="mdc-dialog--open",Jp="mdc-dialog--opening",ev="mdc-dialog--closing",N1=150,B1=75,V1=(()=>{let e=class e extends Bd{constructor(t,n,a,o,s,l,c,d,u){super(t,n,a,o,s,l,c,u),this._animationMode=d,this._animationStateChanged=new Xe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?iv(this._config.enterAnimationDuration)??N1:0,this._exitAnimationDuration=this._animationsEnabled?iv(this._config.exitAnimationDuration)??B1:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(tv,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Jp,$d)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add($d),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove($d),this._animationsEnabled?(this._hostElement.style.setProperty(tv,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ev)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Jp,ev)}_waitForAnimationToComplete(t,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Ml),N(rt,8),N(Uo),N(Vo),N(Oe),N(Dr),N(qt,8),N(en))},e.\u0275cmp=Ge({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,a){n&2&&(wi("id",a._config.id),ct("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),$e("_mat-animation-noopable",!a._animationsEnabled)("mat-mdc-dialog-container-with-actions",a._actionSectionCount>0))},standalone:!0,features:[kt,Ze],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,a){n&1&&(ie(0,"div",0)(1,"div",1),Ve(2,L1,0,0,"ng-template",2),X()())},dependencies:[Xr],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let i=e;return i})(),tv="--mat-dialog-transition-duration";function iv(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?xa(i.substring(0,i.length-2)):i.endsWith("s")?xa(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var jl=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(jl||{}),lr=class{constructor(e,r,t){this._ref=e,this._containerInstance=t,this._afterOpened=new be,this._beforeClosed=new be,this._state=jl.OPEN,this.disableClose=r.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(Jt(n=>n.state==="opened"),dr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Jt(n=>n.state==="closed"),dr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Xi(this.backdropClick(),this.keydownEvents().pipe(Jt(n=>n.keyCode===27&&!this.disableClose&&!yi(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),z1(this,n.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Jt(r=>r.state==="closing"),dr(1)).subscribe(r=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=jl.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let r=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?r.left(e.left):r.right(e.right):r.centerHorizontally(),e&&(e.top||e.bottom)?e.top?r.top(e.top):r.bottom(e.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",r=""){return this._ref.updateSize(e,r),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=jl.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function z1(i,e,r){return i._closeInteractionType=e,i.close(r)}var Ln=new Se("MatMdcDialogData"),j1=new Se("mat-mdc-dialog-default-options"),H1=new Se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=je(Xt);return()=>i.scrollStrategies.block()}});var U1=0,Ta=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,a,o,s,l,c,d){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this.dialogConfigClass=Uo,this.afterAllClosed=Bn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qi(void 0))),this._dialog=n.get(Vd),this._dialogRefConstructor=lr,this._dialogContainerType=V1,this._dialogDataToken=Ln}open(t,n){let a;n=Ae(Ae({},this._defaultOptions||new Uo),n),n.id=n.id||`mat-mdc-dialog-${U1++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,Ut(Ae({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Fn,useValue:n}]},templateContext:()=>({dialogRef:a}),providers:(s,l,c)=>(a=new this._dialogRefConstructor(s,n,c),a.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:a}])}));return a.componentRef=o.componentRef,a.componentInstance=o.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(a);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}};e.\u0275fac=function(n){return new(n||e)(ne(Xt),ne(xt),ne(os,8),ne(j1,8),ne(H1),ne(e,12),ne(ka),ne(qt,8))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),q1=0;var rv=(()=>{let e=class e{constructor(t,n,a){this._dialogRef=t,this._elementRef=n,this._dialog=a}ngOnInit(){this._dialogRef||(this._dialogRef=W1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(n){return new(n||e)(N(lr,8),N(Re),N(Ta))},e.\u0275dir=Ne({type:e,standalone:!0});let i=e;return i})(),Ma=(()=>{let e=class e extends rv{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${q1++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=an(e)))(a||e)}})(),e.\u0275dir=Ne({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,a){n&2&&wi("id",a.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[kt]});let i=e;return i})(),Oa=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[xu([gp])]});let i=e;return i})(),Ra=(()=>{let e=class e extends rv{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=an(e)))(a||e)}})(),e.\u0275dir=Ne({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,a){n&2&&$e("mat-mdc-dialog-actions-align-start",a.align==="start")("mat-mdc-dialog-actions-align-center",a.align==="center")("mat-mdc-dialog-actions-align-end",a.align==="end")},inputs:{align:"align"},standalone:!0,features:[kt]});let i=e;return i})();function W1(i,e){let r=i.nativeElement.parentElement;for(;r&&!r.classList.contains("mat-mdc-dialog-container");)r=r.parentElement;return r?e.find(t=>t.id===r.id):null}var tn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[Ta],imports:[Vp,Jr,kr,Qe,Qe]});let i=e;return i})();var nv=Yr({passive:!0}),av=(()=>{let e=class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return cu;let n=Si(t),a=this._monitoredElements.get(n);if(a)return a.subject;let o=new be,s="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,nv),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",l,nv)}}),o}stopMonitoring(t){let n=Si(t),a=this._monitoredElements.get(n);a&&(a.unlisten(),a.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}};e.\u0275fac=function(n){return new(n||e)(ne(ot),ne(Oe))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ov=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({});let i=e;return i})();var Yd=class{constructor(e){this._box=e,this._destroyed=new be,this._resizeSubject=new be,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Sr(r=>{let t=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),t.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Jt(r=>r.some(t=>t.target===e)),Jl({bufferSize:1,refCount:!0}),Et(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},sv=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=je(Oe),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,n){let a=n?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new Yd(a)),this._observers.get(a).observe(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var $1=["notch"],Y1=["matFormFieldNotchedOutline",""],K1=["*"],Z1=["textField"],X1=["iconPrefixContainer"],Q1=["textPrefixContainer"],J1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ek=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function tk(i,e){i&1&&Ye(0,"span",19)}function ik(i,e){if(i&1&&(ie(0,"label",18),dt(1,1),Ve(2,tk,1,0,"span",19),X()),i&2){let r=Ke(2);Ce("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),ct("for",r._control.disableAutomaticLabeling?null:r._control.id),le(2),wt(!r.hideRequiredMarker&&r._control.required?2:-1)}}function rk(i,e){if(i&1&&Ve(0,ik,3,5,"label",18),i&2){let r=Ke();wt(r._hasFloatingLabel()?0:-1)}}function nk(i,e){i&1&&Ye(0,"div",5)}function ak(i,e){}function ok(i,e){if(i&1&&Ve(0,ak,0,0,"ng-template",11),i&2){Ke(2);let r=hr(1);Ce("ngTemplateOutlet",r)}}function sk(i,e){if(i&1&&(ie(0,"div",7),Ve(1,ok,1,1,null,11),X()),i&2){let r=Ke();Ce("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),le(),wt(r._forceDisplayInfixLabel()?-1:1)}}function lk(i,e){i&1&&(ie(0,"div",8,2),dt(2,2),X())}function ck(i,e){i&1&&(ie(0,"div",9,3),dt(2,3),X())}function dk(i,e){}function uk(i,e){if(i&1&&Ve(0,dk,0,0,"ng-template",11),i&2){Ke();let r=hr(1);Ce("ngTemplateOutlet",r)}}function hk(i,e){i&1&&(ie(0,"div",12),dt(1,4),X())}function fk(i,e){i&1&&(ie(0,"div",13),dt(1,5),X())}function mk(i,e){i&1&&Ye(0,"div",14)}function pk(i,e){if(i&1&&(ie(0,"div",16),dt(1,6),X()),i&2){let r=Ke();Ce("@transitionMessages",r._subscriptAnimationState)}}function vk(i,e){if(i&1&&(ie(0,"mat-hint",20),ye(1),X()),i&2){let r=Ke(2);Ce("id",r._hintLabelId),le(),pi(r.hintLabel)}}function gk(i,e){if(i&1&&(ie(0,"div",17),Ve(1,vk,2,2,"mat-hint",20),dt(2,7),Ye(3,"div",21),dt(4,8),X()),i&2){let r=Ke();Ce("@transitionMessages",r._subscriptAnimationState),le(),wt(r.hintLabel?1:-1)}}var Fa=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["mat-label"]],standalone:!0});let i=e;return i})(),bk=0,vv=new Se("MatError"),Ul=(()=>{let e=class e{constructor(t,n){this.id=`mat-mdc-error-${bk++}`,t||n.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(n){return new(n||e)(ur("aria-live"),N(Re))},e.\u0275dir=Ne({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,a){n&2&&wi("id",a.id)},inputs:{id:"id"},standalone:!0,features:[Dt([{provide:vv,useExisting:e}])]});let i=e;return i})(),yk=0,lv=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${yk++}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,a){n&2&&(wi("id",a.id),ct("align",null),$e("mat-mdc-form-field-hint-end",a.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let i=e;return i})(),_k=new Se("MatPrefix");var xk=new Se("MatSuffix");var gv=new Se("FloatingLabelParent"),cv=(()=>{let e=class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=je(sv),this._ngZone=je(Oe),this._parent=je(gv),this._resizeSubscription=new xi}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return wk(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(n){return new(n||e)(N(Re))},e.\u0275dir=Ne({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,a){n&2&&$e("mdc-floating-label--float-above",a.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let i=e;return i})();function wk(i){let e=i;if(e.offsetParent!==null)return e.scrollWidth;let r=e.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let t=r.scrollWidth;return r.remove(),t}var dv="mdc-line-ripple--active",Hl="mdc-line-ripple--deactivating",uv=(()=>{let e=class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=a=>{let o=this._elementRef.nativeElement.classList,s=o.contains(Hl);a.propertyName==="opacity"&&s&&o.remove(dv,Hl)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Hl),t.add(dv)}deactivate(){this._elementRef.nativeElement.classList.add(Hl)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Oe))},e.\u0275dir=Ne({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let i=e;return i})(),hv=(()=>{let e=class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Oe))},e.\u0275cmp=Ge({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,a){if(n&1&&st($1,5),n&2){let o;He(o=Ue())&&(a._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,a){n&2&&$e("mdc-notched-outline--notched",a.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ze],attrs:Y1,ngContentSelectors:K1,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,a){n&1&&(Wt(),Ye(0,"div",1),ie(1,"div",2,0),dt(3),X(),Ye(4,"div",3))},encapsulation:2,changeDetection:0});let i=e;return i})(),Ck={transitionMessages:sn("transitionMessages",[ln("enter",Vi({opacity:1,transform:"translateY(0%)"})),pr("void => enter",[Vi({opacity:0,transform:"translateY(-5px)"}),Mr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Wo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e});let i=e;return i})();var Go=new Se("MatFormField"),Ek=new Se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),fv=0,mv="fill",kk="auto",pv="fixed",Dk="translateY(-50%)",ql=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=An(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||kk}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let n=this._appearance,a=t||this._defaults?.appearance||mv;this._appearance=a,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||pv}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||pv}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,a,o,s,l,c,d){this._elementRef=t,this._changeDetectorRef=n,this._dir=o,this._platform=s,this._defaults=l,this._animationMode=c,this._labelChild=_u(Fa),this._hideRequiredMarker=!1,this.color="primary",this._appearance=mv,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${fv++}`,this._hintLabelId=`mat-mdc-hint-${fv++}`,this._subscriptAnimationState="",this._destroyed=new be,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=je(xt),this.getLabelId=mr(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=mr(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let n=this._control,a="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(a+t.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(a+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Xi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),rs(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,a=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,a=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,s=a?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",c=`${o+s}px`,u=`calc(${l} * (${c} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Dk} translateX(${u})
    )`}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Vt),N(Oe),N(Ii),N(ot),N(Ek,8),N(qt,8),N(rt))},e.\u0275cmp=Ge({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,a,o){if(n&1&&(ku(o,a._labelChild,Fa,5),Ci(o,Wo,5),Ci(o,_k,5),Ci(o,xk,5),Ci(o,vv,5),Ci(o,lv,5)),n&2){Du();let s;He(s=Ue())&&(a._formFieldControl=s.first),He(s=Ue())&&(a._prefixChildren=s),He(s=Ue())&&(a._suffixChildren=s),He(s=Ue())&&(a._errorChildren=s),He(s=Ue())&&(a._hintChildren=s)}},viewQuery:function(n,a){if(n&1&&(st(Z1,5),st(X1,5),st(Q1,5),st(cv,5),st(hv,5),st(uv,5)),n&2){let o;He(o=Ue())&&(a._textField=o.first),He(o=Ue())&&(a._iconPrefixContainer=o.first),He(o=Ue())&&(a._textPrefixContainer=o.first),He(o=Ue())&&(a._floatingLabel=o.first),He(o=Ue())&&(a._notchedOutline=o.first),He(o=Ue())&&(a._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,a){n&2&&$e("mat-mdc-form-field-label-always-float",a._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",a._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",a._hasIconSuffix)("mat-form-field-invalid",a._control.errorState)("mat-form-field-disabled",a._control.disabled)("mat-form-field-autofilled",a._control.autofilled)("mat-form-field-no-animations",a._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",a.appearance=="fill")("mat-form-field-appearance-outline",a.appearance=="outline")("mat-form-field-hide-placeholder",a._hasFloatingLabel()&&!a._shouldLabelFloat())("mat-focused",a._control.focused)("mat-primary",a.color!=="accent"&&a.color!=="warn")("mat-accent",a.color==="accent")("mat-warn",a.color==="warn")("ng-untouched",a._shouldForward("untouched"))("ng-touched",a._shouldForward("touched"))("ng-pristine",a._shouldForward("pristine"))("ng-dirty",a._shouldForward("dirty"))("ng-valid",a._shouldForward("valid"))("ng-invalid",a._shouldForward("invalid"))("ng-pending",a._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Dt([{provide:Go,useExisting:e},{provide:gv,useExisting:e}]),Ze],ngContentSelectors:ek,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,a){if(n&1){let o=Tt();Wt(J1),Ve(0,rk,1,1,"ng-template",null,0,Su),ie(2,"div",4,1),Fe("click",function(l){return qe(o),We(a._control.onContainerClick(l))}),Ve(4,nk,1,0,"div",5),ie(5,"div",6),Ve(6,sk,2,2,"div",7)(7,lk,3,0,"div",8)(8,ck,3,0,"div",9),ie(9,"div",10),Ve(10,uk,1,1,null,11),dt(11),X(),Ve(12,hk,2,0,"div",12)(13,fk,2,0,"div",13),X(),Ve(14,mk,1,0,"div",14),X(),ie(15,"div",15),Ve(16,pk,2,1,"div",16)(17,gk,5,2,"div",17),X()}if(n&2){let o;le(2),$e("mdc-text-field--filled",!a._hasOutline())("mdc-text-field--outlined",a._hasOutline())("mdc-text-field--no-label",!a._hasFloatingLabel())("mdc-text-field--disabled",a._control.disabled)("mdc-text-field--invalid",a._control.errorState),le(2),wt(!a._hasOutline()&&!a._control.disabled?4:-1),le(2),wt(a._hasOutline()?6:-1),le(),wt(a._hasIconPrefix?7:-1),le(),wt(a._hasTextPrefix?8:-1),le(2),wt(!a._hasOutline()||a._forceDisplayInfixLabel()?10:-1),le(2),wt(a._hasTextSuffix?12:-1),le(),wt(a._hasIconSuffix?13:-1),le(),wt(a._hasOutline()?-1:14),le(),$e("mat-mdc-form-field-subscript-dynamic-size",a.subscriptSizing==="dynamic"),le(),wt((o=a._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[cv,hv,Ru,uv,lv],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ck.transitionMessages]},changeDetection:0});let i=e;return i})(),$i=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,hi,El,Qe]});let i=e;return i})();var Sk=new Se("MAT_INPUT_VALUE_ACCESSOR"),Ik=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Ak=0,yv=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){this._disabled=An(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(qi.required)??!1}set required(t){this._required=An(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ud().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=An(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c,d,u,h){this._elementRef=t,this._platform=n,this.ngControl=a,this._autofillMonitor=d,this._ngZone=u,this._formField=h,this._uid=`mat-input-${Ak++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new be,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>ud().has(g)),this._iOSKeyupListener=g=>{let v=g.target;!v.value&&v.selectionStart===0&&v.selectionEnd===0&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,f=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ia(l,a,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=f==="select",this._isTextarea=f==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Ik.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(ot),N(Wi,10),N(Io,8),N(To,8),N(Ll),N(Sk,10),N(av),N(Oe),N(Go,8))},e.\u0275dir=Ne({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,a){n&1&&Fe("focus",function(){return a._focusChanged(!0)})("blur",function(){return a._focusChanged(!1)})("input",function(){return a._onInput()}),n&2&&(wi("id",a.id)("disabled",a.disabled)("required",a.required),ct("name",a.name||null)("readonly",a.readonly&&!a._isNativeSelect||null)("aria-invalid",a.empty&&a.required?null:a.errorState)("aria-required",a.required)("id",a.id),$e("mat-input-server",a._isServer)("mat-mdc-form-field-textarea-control",a._isInFormField&&a._isTextarea)("mat-mdc-form-field-input-control",a._isInFormField)("mdc-text-field__input",a._isInFormField)("mat-mdc-native-select-inline",a._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Dt([{provide:Wo,useExisting:e}]),li]});let i=e;return i})(),Pa=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,$i,$i,ov,Qe]});let i=e;return i})();var Mk=["mat-button",""],Ok=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Rk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Fk=new Se("MAT_BUTTON_CONFIG");var Pk=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Lk=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,a,o){this._elementRef=t,this._platform=n,this._ngZone=a,this._animationMode=o,this._focusMonitor=je(en),this._rippleLoader=je(Qp),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=je(Fk,{optional:!0}),l=t.nativeElement,c=l.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of Pk)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(n){yu()},e.\u0275dir=Ne({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ze],disabled:[2,"disabled","disabled",ze],ariaDisabled:[2,"aria-disabled","ariaDisabled",ze],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ze]},features:[Rt]});let i=e;return i})();var rn=(()=>{let e=class e extends Lk{constructor(t,n,a,o){super(t,n,a,o)}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(ot),N(Oe),N(qt,8))},e.\u0275cmp=Ge({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,a){n&2&&(ct("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),Ha(a.color?"mat-"+a.color:""),$e("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[kt,Ze],attrs:Mk,ngContentSelectors:Rk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,a){n&1&&(Wt(Ok),Ye(0,"span",0),dt(1),ie(2,"span",1),dt(3,1),X(),dt(4,2),Ye(5,"span",2)(6,"span",3)),n&2&&$e("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let i=e;return i})();var Ti=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,Ho,Qe]});let i=e;return i})();var Nk=["trigger"],Bk=["panel"],Vk=[[["mat-select-trigger"]],"*"],zk=["mat-select-trigger","*"];function jk(i,e){if(i&1&&(ie(0,"span",4),ye(1),X()),i&2){let r=Ke();le(),pi(r.placeholder)}}function Hk(i,e){i&1&&dt(0)}function Uk(i,e){if(i&1&&(ie(0,"span",11),ye(1),X()),i&2){let r=Ke(2);le(),pi(r.triggerValue)}}function qk(i,e){if(i&1&&(ie(0,"span",5),Ve(1,Hk,1,0)(2,Uk,2,1,"span",11),X()),i&2){let r=Ke();le(),wt(r.customTrigger?1:2)}}function Wk(i,e){if(i&1){let r=Tt();ie(0,"div",12,1),Fe("@transformPanel.done",function(n){qe(r);let a=Ke();return We(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){qe(r);let a=Ke();return We(a._handleKeydown(n))}),dt(2,1),X()}if(i&2){let r=Ke();wu("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",r._getPanelTheme(),""),Ce("ngClass",r.panelClass)("@transformPanel","showing"),ct("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var Gk={transformPanelWrap:sn("transformPanelWrap",[pr("* => void",Nu("@transformPanel",[Lu()],{optional:!0}))]),transformPanel:sn("transformPanel",[ln("void",Vi({opacity:0,transform:"scale(1, 0.8)"})),pr("void => showing",Mr("120ms cubic-bezier(0, 0, 0.2, 1)",Vi({opacity:1,transform:"scale(1, 1)"}))),pr("* => void",Mr("100ms linear",Vi({opacity:0})))])};var _v=0,xv=new Se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=je(Xt);return()=>i.scrollStrategies.reposition()}});function $k(i){return()=>i.scrollStrategies.reposition()}var Yk=new Se("MAT_SELECT_CONFIG"),Kk={provide:xv,deps:[Xt],useFactory:$k},Zk=new Se("MatSelectTrigger"),Zd=class{constructor(e,r){this.source=e,this.value=r}},Wl=(()=>{let e=class e{_scrollOptionIntoView(t){let n=this.options.toArray()[t];if(n){let a=this.panel.nativeElement,o=Zp(t,this.options,this.optionGroups),s=n._getHostElement();t===0&&o===1?a.scrollTop=0:a.scrollTop=Xp(s.offsetTop,s.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Zd(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(qi.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,a,o,s,l,c,d,u,h,m,f,g,v){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=s,this._dir=l,this._parentFormField=u,this.ngControl=h,this._liveAnnouncer=g,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(p,y)=>p===y,this._uid=`mat-select-${_v++}`,this._triggerAriaLabelledBy=null,this._destroy=new be,this.stateChanges=new be,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${_v++}`,this._panelDoneAnimatingStream=new be,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new be,this.optionSelectionChanges=Bn(()=>{let p=this.options;return p?p.changes.pipe(Qi(p),Jo(()=>Xi(...p.map(y=>y.onSelectionChange)))):this._initialized.pipe(Jo(()=>this.optionSelectionChanges))}),this.openedChange=new Xe,this._openedStream=this.openedChange.pipe(Jt(p=>p),Zi(()=>{})),this._closedStream=this.openedChange.pipe(Jt(p=>!p),Zi(()=>{})),this.selectionChange=new Xe,this.valueChange=new Xe,this._trackedModal=null,this._skipPredicate=p=>this.panelOpen?!1:p.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),v?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._errorStateTracker=new Ia(o,h,d,c,this.stateChanges),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new _l(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(za(),Et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Et(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Qi(null),Et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){let a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?a.setAttribute("aria-labelledby",t):a.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let n=`${this.id}-panel`;this._trackedModal&&Rd(this._trackedModal,"aria-owns",n),Fp(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Rd(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let n=t.keyCode,a=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!yi(t)||(this.multiple||t.altKey)&&a)t.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(t);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){let n=this._keyManager,a=t.keyCode,o=a===40||a===38,s=n.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!s&&(a===13||a===32)&&n.activeItem&&!yi(t))t.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&a===65&&t.ctrlKey){t.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(t),this._multiple&&o&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(dr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let n=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return a.value!=null&&this._compareWith(a.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof No?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Il(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=Xi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Et(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Xi(...this.options.map(n=>n._stateChanges)).pipe(Et(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){let a=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(a!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())),a!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((n,a)=>this.sortComparator?this.sortComparator(n,a,t):t.indexOf(n)-t.indexOf(a)),this.stateChanges.next()}}_propagateChanges(t){let n;this.multiple?n=this.selected.map(a=>a.value):n=this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),n=t?t+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(n){return new(n||e)(N(Po),N(Vt),N(Oe),N(Ll),N(Re),N(Ii,8),N(Io,8),N(To,8),N(Go,8),N(Wi,10),ur("tabindex"),N(xv),N(Ol),N(Yk,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-select"]],contentQueries:function(n,a,o){if(n&1&&(Ci(o,Zk,5),Ci(o,Aa,5),Ci(o,Bl,5)),n&2){let s;He(s=Ue())&&(a.customTrigger=s.first),He(s=Ue())&&(a.options=s),He(s=Ue())&&(a.optionGroups=s)}},viewQuery:function(n,a){if(n&1&&(st(Nk,5),st(Bk,5),st(Ed,5)),n&2){let o;He(o=Ue())&&(a.trigger=o.first),He(o=Ue())&&(a.panel=o.first),He(o=Ue())&&(a._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,a){n&1&&Fe("keydown",function(s){return a._handleKeydown(s)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),n&2&&(ct("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),$e("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ze],disableRipple:[2,"disableRipple","disableRipple",ze],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:fr(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ze],placeholder:"placeholder",required:[2,"required","required",ze],multiple:[2,"multiple","multiple",ze],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ze],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",fr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Dt([{provide:Wo,useExisting:e},{provide:Nl,useExisting:e}]),Rt,li,Ze],ngContentSelectors:zk,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,a){if(n&1){let o=Tt();Wt(Vk),ie(0,"div",2,0),Fe("click",function(){return qe(o),We(a.open())}),ie(3,"div",3),Ve(4,jk,2,1,"span",4)(5,qk,3,1,"span",5),X(),ie(6,"div",6)(7,"div",7),ts(),ie(8,"svg",8),Ye(9,"path",9),X()()()(),Ve(10,Wk,3,9,"ng-template",10),Fe("backdropClick",function(){return qe(o),We(a.close())})("attach",function(){return qe(o),We(a._onAttached())})("detach",function(){return qe(o),We(a.close())})}if(n&2){let o=hr(1);le(3),ct("id",a._valueId),le(),wt(a.empty?4:5),le(6),Ce("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",a.panelOpen)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[No,Ed,Ou],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Gk.transformPanel]},changeDetection:0});let i=e;return i})();var La=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[Kk],imports:[hi,Jr,Gd,Qe,xl,$i,Gd,Qe]});let i=e;return i})();function Xk(i,e){if(i&1){let r=Tt();ie(0,"div",1)(1,"button",2),Fe("click",function(){qe(r);let n=Ke();return We(n.action())}),ye(2),X()()}if(i&2){let r=Ke();le(2),Tr(" ",r.data.action," ")}}var Qk=["label"];function Jk(i,e){}var eD=Math.pow(2,31)-1,$o=class{constructor(e,r){this._overlayRef=r,this._afterDismissed=new be,this._afterOpened=new be,this._onAction=new be,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,eD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Cv=new Se("MatSnackBarData"),Na=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},tD=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let i=e;return i})(),iD=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let i=e;return i})(),rD=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ne({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let i=e;return i})(),Ev=(()=>{let e=class e{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};e.\u0275fac=function(n){return new(n||e)(N($o),N(Cv))},e.\u0275cmp=Ge({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ze],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,a){n&1&&(ie(0,"div",0),ye(1),X(),Ve(2,Xk,3,1,"div",1)),n&2&&(le(),Tr(" ",a.data.message,`
`),le(),wt(a.hasAction?2:-1))},dependencies:[rn,tD,iD,rD],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let i=e;return i})(),nD={snackBarState:sn("state",[ln("void, hidden",Vi({transform:"scale(0.8)",opacity:0})),ln("visible",Vi({transform:"scale(1)",opacity:1})),pr("* => visible",Mr("150ms cubic-bezier(0, 0, 0.2, 1)")),pr("* => void, * => hidden",Mr("75ms cubic-bezier(0.4, 0.0, 1, 1)",Vi({opacity:0})))])},aD=0,oD=(()=>{let e=class e extends Zr{constructor(t,n,a,o,s){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=a,this._platform=o,this.snackBarConfig=s,this._document=je(rt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new be,this._onExit=new be,this._onEnter=new be,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${aD++}`,this.attachDomPortal=l=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),c},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){let{fromState:n,toState:a}=t;if((a==="void"&&n!=="void"||a==="hidden")&&this._completeExit(),a==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>t.classList.add(s)):t.classList.add(n)),this._exposeToModals();let a=this._label.nativeElement,o="mdc-snackbar__label";a.classList.toggle(o,!a.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<n.length;a++){let o=n[a],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let n=t.getAttribute("aria-owns");if(n){let a=n.replace(this._liveElementId,"").trim();a.length>0?t.setAttribute("aria-owns",a):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let a=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(a=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),a?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};e.\u0275fac=function(n){return new(n||e)(N(Oe),N(Re),N(Vt),N(ot),N(Na))},e.\u0275cmp=Ge({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,a){if(n&1&&(st(Xr,7),st(Qk,7)),n&2){let o;He(o=Ue())&&(a._portalOutlet=o.first),He(o=Ue())&&(a._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,a){n&1&&Eu("@state.done",function(s){return a.onAnimationEnd(s)}),n&2&&Cu("@state",a._animationState)},standalone:!0,features:[kt,Ze],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,a){n&1&&(ie(0,"div",1)(1,"div",2,0)(3,"div",3),Ve(4,Jk,0,0,"ng-template",4),X(),Ye(5,"div"),X()()),n&2&&(le(5),ct("aria-live",a._live)("role",a._role)("id",a._liveElementId))},dependencies:[Xr],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[nD.snackBarState]}});let i=e;return i})();function sD(){return new Na}var lD=new Se("mat-snack-bar-default-options",{providedIn:"root",factory:sD}),Xd=(()=>{let e=class e{get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,a,o,s,l){this._overlay=t,this._live=n,this._injector=a,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ev,this.snackBarContainerComponent=oD,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",a){let o=Ae(Ae({},this._defaultConfig),a);return o.data={message:t,action:n},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){let a=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=xt.create({parent:a||this._injector,providers:[{provide:Na,useValue:n}]}),s=new Cr(this.snackBarContainerComponent,n.viewContainerRef,o),l=t.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){let a=Ae(Ae(Ae({},new Na),this._defaultConfig),n),o=this._createOverlay(a),s=this._attachSnackBarContainer(o,a),l=new $o(s,o);if(t instanceof Ir){let c=new Er(t,null,{$implicit:a.data,snackBarRef:l});l.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(a,l),d=new Cr(t,void 0,c),u=s.attachComponentPortal(d);l.instance=u.instance}return this._breakpointObserver.observe(Ap.HandsetPortrait).pipe(Et(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),a.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(l,a),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){let n=new Qr;n.direction=t.direction;let a=this._overlay.position().global(),o=t.direction==="rtl",s=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,l=!s&&t.horizontalPosition!=="center";return s?a.left("0"):l?a.right("0"):a.centerHorizontally(),t.verticalPosition==="top"?a.top("0"):a.bottom("0"),n.positionStrategy=a,this._overlay.create(n)}_createInjector(t,n){let a=t&&t.viewContainerRef&&t.viewContainerRef.injector;return xt.create({parent:a||this._injector,providers:[{provide:$o,useValue:n},{provide:Cv,useValue:t.data}]})}};e.\u0275fac=function(n){return new(n||e)(ne(Xt),ne(Ol),ne(xt),ne(kl),ne(e,12),ne(lD))},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var kv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({providers:[Xd],imports:[Jr,kr,Ti,Qe,Ev,Qe]});let i=e;return i})();var Dv=(()=>{let e=class e{constructor(){this.editNode=new Xe}onEditNode(){this.editNode.emit()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ge({type:e,selectors:[["app-context-menu"]],outputs:{editNode:"editNode"},decls:3,vars:0,consts:[[1,"context-menu"],[3,"click"]],template:function(n,a){n&1&&(ie(0,"div",0)(1,"button",1),Fe("click",function(){return a.onEditNode()}),ye(2,"Edit Node"),X()())},styles:[".context-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;background:#fff;border:1px solid #ccc;box-shadow:0 2px 10px #0003}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:8px;border:none;background:none;text-align:left}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f0f0f0}"]});let i=e;return i})();var dD=["input"],uD=["formField"],hD=["*"],Sv=0,Gl=class{constructor(e,r){this.source=e,this.value=r}},fD={provide:Dn,useExisting:Ji(()=>Qd),multi:!0},Iv=new Se("MatRadioGroup"),mD=new Se("mat-radio-default-options",{providedIn:"root",factory:pD});function pD(){return{color:"accent",disabledInteractive:!1}}var Qd=(()=>{let e=class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name=`mat-radio-group-${Sv++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Xe,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Gl(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}};e.\u0275fac=function(n){return new(n||e)(N(Vt))},e.\u0275dir=Ne({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,a,o){if(n&1&&Ci(o,$l,5),n&2){let s;He(s=Ue())&&(a._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",ze],required:[2,"required","required",ze],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ze]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[Dt([fD,{provide:Iv,useExisting:e}]),Rt]});let i=e;return i})(),$l=(()=>{let e=class e{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,a,o,s,l,c,d){this._elementRef=n,this._changeDetector=a,this._focusMonitor=o,this._radioDispatcher=s,this._defaultOptions=c,this._ngZone=je(Oe),this._uniqueId=`mat-radio-${++Sv}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Xe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=je(xt),this._onInputClick=u=>{this.disabled&&this.disabledInteractive&&u.preventDefault()},this.radioGroup=t,this._noopAnimations=l==="NoopAnimations",this._disabledInteractive=c?.disabledInteractive??!1,d&&(this.tabIndex=fr(d,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Gl(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){let t=this.radioGroup,n;if(!t||!t.selected||this.disabled?n=this.tabIndex:n=t.selected===this?this.tabIndex:-1,n!==this._previousTabIndex){let a=this._inputElement?.nativeElement;a&&(a.setAttribute("tabindex",n+""),this._previousTabIndex=n,Ar(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===a&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===a&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}};e.\u0275fac=function(n){return new(n||e)(N(Iv,8),N(Re),N(Vt),N(en),N(vp),N(qt,8),N(mD,8),ur("tabindex"))},e.\u0275cmp=Ge({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,a){if(n&1&&(st(dD,5),st(uD,7,Re)),n&2){let o;He(o=Ue())&&(a._inputElement=o.first),He(o=Ue())&&(a._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(n,a){n&1&&Fe("focus",function(){return a._inputElement.nativeElement.focus()}),n&2&&(ct("id",a.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),$e("mat-primary",a.color==="primary")("mat-accent",a.color==="accent")("mat-warn",a.color==="warn")("mat-mdc-radio-checked",a.checked)("mat-mdc-radio-disabled",a.disabled)("mat-mdc-radio-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable",a._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",ze],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:fr(t)],checked:[2,"checked","checked",ze],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",ze],required:[2,"required","required",ze],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ze]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Rt,Ze],ngContentSelectors:hD,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,a){if(n&1){let o=Tt();Wt(),ie(0,"div",2,0)(2,"div",3)(3,"div",4),Fe("click",function(l){return qe(o),We(a._onTouchTargetClick(l))}),X(),ie(4,"input",5,1),Fe("change",function(l){return qe(o),We(a._onInputInteraction(l))}),X(),ie(6,"div",6),Ye(7,"div",7)(8,"div",8),X(),ie(9,"div",9),Ye(10,"div",10),X()(),ie(11,"label",11),dt(12),X()()}n&2&&(Ce("labelPosition",a.labelPosition),le(2),$e("mdc-radio--disabled",a.disabled),le(2),Ce("id",a.inputId)("checked",a.checked)("disabled",a.disabled&&!a.disabledInteractive)("required",a.required),ct("name",a.name)("value",a.value)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),le(5),Ce("matRippleTrigger",a._rippleTrigger.nativeElement)("matRippleDisabled",a._isRippleDisabled())("matRippleCentered",!0),le(2),Ce("for",a.inputId))},dependencies:[Pn,Vl],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let i=e;return i})(),Av=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,hi,Ho,$l,Qe]});let i=e;return i})();function gD(i,e){i&1&&(ie(0,"mat-radio-button",9),ye(1,"Dialogue Node"),X())}function bD(i,e){i&1&&(ie(0,"mat-radio-button",10),ye(1,"Argument Node"),X())}function yD(i,e){i&1&&(ie(0,"mat-radio-button",11),ye(1,"Participant Node"),X())}function _D(i,e){if(i&1&&(ie(0,"mat-option",19),ye(1),X()),i&2){let r=e.$implicit;Ce("value",r),le(),Tr(" ",r," ")}}function xD(i,e){if(i&1&&(ie(0,"mat-optgroup",17),Ve(1,_D,2,2,"mat-option",18),X()),i&2){let r=e.$implicit;Ce("label",r.name),le(),Ce("ngForOf",r.arguments)}}function wD(i,e){i&1&&(ie(0,"mat-error"),ye(1,"You must select a speech act type"),X())}function CD(i,e){i&1&&(ie(0,"mat-error"),ye(1,"You must provide a description"),X())}function ED(i,e){if(i&1){let r=Tt();ns(0),ie(1,"mat-form-field",12)(2,"mat-label"),ye(3,"Speech Act Type"),X(),ie(4,"mat-select",13),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.title,n)||(a.data.title=n),We(n)}),Ve(5,xD,2,2,"mat-optgroup",14),X(),Ve(6,wD,2,0,"mat-error",6),X(),ie(7,"mat-form-field",15)(8,"mat-label"),ye(9,"Description"),X(),ie(10,"input",16),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.description,n)||(a.data.description=n),We(n)}),X(),Ve(11,CD,2,0,"mat-error",6),X(),as()}if(i&2){let r=Ke();le(4),Ce("formControl",r.titleControl),Pi("ngModel",r.data.title),Ce("errorStateMatcher",r.matcher),le(),Ce("ngForOf",r.argumentGroups),le(),Ce("ngIf",r.titleControl.hasError("required")),le(4),Ce("formControl",r.descriptionControl),Pi("ngModel",r.data.description),le(),Ce("ngIf",r.descriptionControl.hasError("required"))}}function kD(i,e){i&1&&(ie(0,"mat-error"),ye(1,"You must provide an argument text"),X())}function DD(i,e){if(i&1){let r=Tt();ns(0),ie(1,"mat-form-field",15)(2,"mat-label"),ye(3,"Argument Text"),X(),ie(4,"input",16),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.description,n)||(a.data.description=n),We(n)}),X(),Ve(5,kD,2,0,"mat-error",6),X(),as()}if(i&2){let r=Ke();le(4),Ce("formControl",r.descriptionControl),Pi("ngModel",r.data.description),le(),Ce("ngIf",r.descriptionControl.hasError("required"))}}function SD(i,e){i&1&&(ie(0,"mat-error"),ye(1,"You must provide a participant name"),X())}function ID(i,e){if(i&1){let r=Tt();ns(0),ie(1,"mat-form-field",15)(2,"mat-label"),ye(3,"Participant Name"),X(),ie(4,"input",16),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.description,n)||(a.data.description=n),We(n)}),X(),Ve(5,SD,2,0,"mat-error",6),X(),as()}if(i&2){let r=Ke();le(4),Ce("formControl",r.descriptionControl),Pi("ngModel",r.data.description),le(),Ce("ngIf",r.descriptionControl.hasError("required"))}}var Yo=class{isErrorState(e){return!!(e&&e.invalid&&(e.dirty||e.touched))}},Jd=(()=>{let e=class e{constructor(t,n){this.dialogRef=t,this.data=n,this.argumentGroups=[{name:"Deductive Arguments",arguments:["Categorical Syllogism","Disjunctive Syllogism","Hypothetical Syllogism","Modus Ponens","Modus Tollens"]},{name:"Inductive Arguments",arguments:["Inductive Generalization","Statistical Syllogism","Argument from Analogy","Causal Inference","Prediction"]},{name:"Presumptive Arguments",arguments:["Argument from Authority","Argument from Ignorance (Ad Ignorantiam)","Presumptive Defeasible Generalization"]},{name:"Fallacious Arguments",arguments:["Ad Hominem","Straw Man","False Dichotomy (False Dilemma)","Begging the Question","Slippery Slope"]},{name:"Other Speech Acts",arguments:["Argument from Sign","Existential Statement","Argument by Example","Argument from Consequences","Argument from Silence","Rhetorical Question","Similarity","Counter example","Assertion","Question","Directive","Counter-Example","Rebuttal","Existential Statement","Threat"]},{name:"Specialized Argument Types",arguments:["Tu Quoque (You Too)","Appeal to Tradition","Appeal to Novelty","Appeal to Popularity (Ad Populum)","Gambler's Fallacy"]},{name:"Other Argument Types",arguments:["Appeal to Expert Opinion","Position to Know"]}],this.matcher=new Yo,this.titleControl=new Sn("",[qi.required]),this.descriptionControl=new Sn("",[qi.required]),this.selectedNodeType="dialogue",this.selectedNodeType=n.nodeType||"dialogue"}onCancel(){this.dialogRef.close()}onSave(){if(this.selectedNodeType==="dialogue"?this.descriptionControl.valid&&this.titleControl.valid:this.descriptionControl.valid){let a=Ut(Ae({},this.data),{nodeType:this.selectedNodeType});this.dialogRef.close(a)}}};e.\u0275fac=function(n){return new(n||e)(N(lr),N(Ln))},e.\u0275cmp=Ge({type:e,selectors:[["app-node-dialog"]],standalone:!0,features:[Ze],decls:17,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"padding-bottom","0"],[1,"node-type-selector",3,"ngModelChange","ngModel","disabled"],["value","dialogue",4,"ngIf"],["value","argument",4,"ngIf"],["value","participant",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","",1,"cancel-save"],["mat-button","",3,"click"],["value","dialogue"],["value","argument"],["value","participant"],["appearance","fill",1,"wide-select"],[3,"ngModelChange","formControl","ngModel","errorStateMatcher"],[3,"label",4,"ngFor","ngForOf"],["appearance","fill"],["matInput","",3,"ngModelChange","formControl","ngModel"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,a){n&1&&(ie(0,"h1",0),ye(1),X(),ie(2,"div",1)(3,"mat-radio-group",2),Ni("ngModelChange",function(s){return Li(a.selectedNodeType,s)||(a.selectedNodeType=s),s}),Ve(4,gD,2,0,"mat-radio-button",3)(5,bD,2,0,"mat-radio-button",4)(6,yD,2,0,"mat-radio-button",5),X(),Ye(7,"br")(8,"br"),Ve(9,ED,12,8,"ng-container",6)(10,DD,6,3,"ng-container",6)(11,ID,6,3,"ng-container",6),X(),ie(12,"div",7)(13,"button",8),Fe("click",function(){return a.onCancel()}),ye(14,"Cancel"),X(),ie(15,"button",8),Fe("click",function(){return a.onSave()}),ye(16,"Save"),X()()),n&2&&(le(),pi(a.data.isEditMode?"Edit Node":"Add New Node"),le(2),Pi("ngModel",a.selectedNodeType),Ce("disabled",a.data.isEditMode),le(),Ce("ngIf",!a.data.isEditMode||a.selectedNodeType==="dialogue"),le(),Ce("ngIf",!a.data.isEditMode||a.selectedNodeType==="argument"),le(),Ce("ngIf",!a.data.isEditMode||a.selectedNodeType==="participant"),le(3),Ce("ngIf",a.selectedNodeType==="dialogue"),le(),Ce("ngIf",a.selectedNodeType==="argument"),le(),Ce("ngIf",a.selectedNodeType==="participant"))},dependencies:[$r,va,ba,In,$i,ql,Fa,Ul,Pa,yv,Ti,rn,Av,Qd,$l,tn,Ma,Ra,Oa,La,Wl,Aa,Kp,hi,ss,ls,_a,Ao]});let i=e;return i})();var AD=["input"],TD=["label"],MD=["*"],OD=new Se("mat-checkbox-default-options",{providedIn:"root",factory:Mv});function Mv(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ai=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(ai||{}),RD={provide:Dn,useExisting:Ji(()=>Yl),multi:!0},eu=class{},FD=0,Tv=Mv(),Yl=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let n=new eu;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,a,o,s,l){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=a,this._animationMode=s,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Xe,this.indeterminateChange=new Xe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ai.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Tv,this.color=this._options.color||Tv.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++FD}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let n=t!=this._indeterminate;this._indeterminate=t,n&&(this._indeterminate?this._transitionCheckState(ai.Indeterminate):this._transitionCheckState(this.checked?ai.Checked:ai.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,a=this._getAnimationTargetElement();if(!(n===t||!a)&&(this._currentAnimationClass&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ai.Checked:ai.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if(this._animationMode==="NoopAnimations")return"";switch(t){case ai.Init:if(n===ai.Checked)return this._animationClasses.uncheckedToChecked;if(n==ai.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ai.Unchecked:return n===ai.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ai.Checked:return n===ai.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ai.Indeterminate:return n===ai.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}};e.\u0275fac=function(n){return new(n||e)(N(Re),N(Vt),N(Oe),ur("tabindex"),N(qt,8),N(OD,8))},e.\u0275cmp=Ge({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,a){if(n&1&&(st(AD,5),st(TD,5),st(Pn,5)),n&2){let o;He(o=Ue())&&(a._inputElement=o.first),He(o=Ue())&&(a._labelElement=o.first),He(o=Ue())&&(a.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,a){n&2&&(wi("id",a.id),ct("tabindex",null)("aria-label",null)("aria-labelledby",null),Ha(a.color?"mat-"+a.color:"mat-accent"),$e("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mdc-checkbox--disabled",a.disabled)("mat-mdc-checkbox-disabled",a.disabled)("mat-mdc-checkbox-checked",a.checked)("mat-mdc-checkbox-disabled-interactive",a.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",ze],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",ze],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:fr(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ze],checked:[2,"checked","checked",ze],disabled:[2,"disabled","disabled",ze],indeterminate:[2,"indeterminate","indeterminate",ze]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Dt([RD,{provide:ga,useExisting:e,multi:!0}]),Rt,li,Ze],ngContentSelectors:MD,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,a){if(n&1){let o=Tt();Wt(),ie(0,"div",3),Fe("click",function(l){return qe(o),We(a._preventBubblingFromLabel(l))}),ie(1,"div",4,0)(3,"div",5),Fe("click",function(){return qe(o),We(a._onTouchTargetClick())}),X(),ie(4,"input",6,1),Fe("blur",function(){return qe(o),We(a._onBlur())})("click",function(){return qe(o),We(a._onInputClick())})("change",function(l){return qe(o),We(a._onInteractionEvent(l))}),X(),Ye(6,"div",7),ie(7,"div",8),ts(),ie(8,"svg",9),Ye(9,"path",10),X(),gu(),Ye(10,"div",11),X(),Ye(11,"div",12),X(),ie(12,"label",13,2),dt(14),X()()}if(n&2){let o=hr(2);Ce("labelPosition",a.labelPosition),le(4),$e("mdc-checkbox--selected",a.checked),Ce("checked",a.checked)("indeterminate",a.indeterminate)("disabled",a.disabled&&!a.disabledInteractive)("id",a.inputId)("required",a.required)("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex),ct("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby)("aria-checked",a.indeterminate?"mixed":null)("aria-disabled",a.disabled&&a.disabledInteractive?!0:null)("name",a.name)("value",a.value),le(7),Ce("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),le(),Ce("for",a.inputId)}},dependencies:[Pn,Vl],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let i=e;return i})();var Ov=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Yl,Qe,Qe]});let i=e;return i})();function LD(i,e){if(i&1&&(ie(0,"mat-option",11),ye(1),X()),i&2){let r=e.$implicit;Ce("value",r),le(),pi(r)}}function ND(i,e){i&1&&(ie(0,"mat-error"),ye(1,"You must select a relation type"),X())}function BD(i,e){if(i&1){let r=Tt();ie(0,"mat-form-field",7)(1,"mat-label"),ye(2,"Relation Type"),X(),ie(3,"mat-select",8),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.relationType,n)||(a.data.relationType=n),We(n)}),Ve(4,LD,2,2,"mat-option",9),X(),Ve(5,ND,2,0,"mat-error",10),X()}if(i&2){let r=Ke();le(3),Ce("formControl",r.relationControl),Pi("ngModel",r.data.relationType),le(),Ce("ngForOf",r.relationTypes),le(),Ce("ngIf",r.relationControl.hasError("required")&&!r.data.directConnection)}}function VD(i,e){if(i&1){let r=Tt();ie(0,"mat-checkbox",12),Ni("ngModelChange",function(n){qe(r);let a=Ke();return Li(a.data.directConnection,n)||(a.data.directConnection=n),We(n)}),ye(1,"Do not add a relation node"),X()}if(i&2){let r=Ke();Pi("ngModel",r.data.directConnection)}}var tu=(()=>{let e=class e{constructor(t,n){this.dialogRef=t,this.data=n,this.relationTypes=["Supports","Contradicts","Leads to","Therefore","Because","Despite","Assumes","Relies on","Proves","Disproves","Highlights","Challenges","Explains","Illustrates","Clarifies","Justifies","Questions","Strengthens","Weakens","Restates","Infers","Concludes","Summarizes","Contrasts","Analogizes","Qualifies","Acknowledges","Counters","Extends","Refutes"],this.matcher=new Yo,this.relationControl=new Sn("",[qi.required])}onCancel(){this.dialogRef.close()}onSave(){this.isValid()&&this.dialogRef.close(this.data)}isValid(){return this.data.directConnection||this.relationControl.valid}};e.\u0275fac=function(n){return new(n||e)(N(lr),N(Ln))},e.\u0275cmp=Ge({type:e,selectors:[["app-relation-dialog"]],standalone:!0,features:[Ze],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"padding-bottom","0"],["appearance","fill","class","wide-select",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["mat-dialog-actions","",1,"cancel-save"],["mat-button","",3,"click"],["mat-button","",3,"click","disabled"],["appearance","fill",1,"wide-select"],[3,"ngModelChange","formControl","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"ngModelChange","ngModel"]],template:function(n,a){n&1&&(ie(0,"h1",0),ye(1),X(),ie(2,"div",1),Ve(3,BD,6,4,"mat-form-field",2)(4,VD,2,1,"mat-checkbox",3),X(),ie(5,"div",4)(6,"button",5),Fe("click",function(){return a.onCancel()}),ye(7,"Cancel"),X(),ie(8,"button",6),Fe("click",function(){return a.onSave()}),ye(9,"Save"),X()()),n&2&&(le(),pi(a.data.isEditMode?"Select New Relation Type":"Select Relation Type"),le(2),Ce("ngIf",!a.data.isConnectionToRelationNode),le(),Ce("ngIf",!a.data.isEditMode),le(4),Ce("disabled",!a.isValid()))},dependencies:[$r,ba,In,_a,Ao,$i,ql,Fa,Ul,Pa,Ti,rn,tn,Ma,Ra,Oa,La,Wl,Aa,Ov,Yl,hi,ss,ls],styles:[".cancel-save[_ngcontent-%COMP%]{margin-top:0}"]});let i=e;return i})();var Fv=Qv(Rv());var zD=["contextMenuContainer"];(0,Fv.default)(_r);var iu=(()=>{let e=class e{constructor(t,n,a,o){this.platformId=t,this.dialog=n,this.snackBar=a,this.renderer=o,this.elements=[],this.newNodeTitle="",this.showModal=!1,this.nodeCounter=0,this.edgeCounter=0,this.selectedNode=null,this.connectionToRelationNode=!1,this.contextMenuRef=null}ngOnInit(){jn(this.platformId)&&(this.initializeCytoscape(),this.setupEventListeners())}initializeCytoscape(){this.cy=_r({container:document.getElementById("cy"),elements:this.elements,style:this.getCytoscapeStyles(),layout:{name:"preset"},userZoomingEnabled:!0,userPanningEnabled:!0,autoungrabify:!1})}getCytoscapeStyles(){return[{selector:'node[nodeType="relation"]',style:{shape:"diamond","background-color":"#f6ad4b","border-color":"#a9531f","border-width":"2px","font-size":"12px","text-valign":"center","text-halign":"center",width:"90px",height:"40px","text-max-width":"100px",content:"data(title)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","mid-target-arrow-color":"#ccc","mid-target-arrow-shape":"triangle","curve-style":"bezier","control-point-step-size":75}}]}setupEventListeners(){if(!this.cy)return;this.cy.on("dblclick","node",n=>this.onNodeDoubleClick(n.target)),this.cy.on("cxttap","node",n=>this.showContextMenu(n.target,n.originalEvent)),this.cy.on("tap",n=>this.onBackgroundClick(n));let t=this.cy.container();t&&(this.cy.on("mouseover","node",n=>{t.style.cursor="pointer"}),this.cy.on("mouseout","node",n=>{t.style.cursor="default"}),this.renderer.listen("document","contextmenu",n=>{n.preventDefault()}))}onBackgroundClick(t){t.target===this.cy&&(this.hideContextMenu(),this.selectedNode=null)}showContextMenu(t,n){this.hideContextMenu();let a=this.contextMenuContainer.createComponent(Dv);a.instance.editNode.subscribe(()=>{this.hideContextMenu(),this.editNode(t)});let o=a.hostView.rootNodes[0];o.style.position="fixed";let s=this.cy.container().getBoundingClientRect(),l=this.cy.pan(),c=this.cy.zoom(),d=t.position(),u={x:d.x*c+l.x,y:d.y*c+l.y},h=s.left+u.x,m=s.top+u.y;o.style.left=`${h}px`,o.style.top=`${m}px`,o.style.zIndex="1000",this.contextMenuRef=a}hideContextMenu(){this.contextMenuRef&&(this.contextMenuRef.destroy(),this.contextMenuRef=null)}loadDemo(t,n){this.cy&&(this.cy.elements().remove(),t.forEach(a=>{this.cy?.add(a),a.data.nodeType!=="relation"&&this.addHtmlLabelToNode(a.data.id)}),n.forEach(a=>{this.cy?.add(a)}),this.snackBar.open("Demo loaded","Close",{duration:3e3}))}editNode(t){let n=t.data("nodeType")==="relation",a;n?a=this.dialog.open(tu,{width:"300px",data:{title:t.data("title"),isEditMode:!0}}):a=this.dialog.open(Jd,{width:"300px",data:{title:t.data("title"),description:t.data("description"),isEditMode:!0,nodeType:t.data("nodeType")}}),a.afterClosed().subscribe(o=>{o&&(n?t.data("title",o.relationType):(t.data("title",o.title),t.data("description",o.description)))})}onAddNode(t){this.dialog.open(Jd,{width:"300px",data:{title:this.newNodeTitle,description:t||"Default"}}).afterClosed().subscribe(a=>{a&&this.createNewNode(a)})}createNewNode(t){let n={data:{id:`${this.nodeCounter}`,title:t.title,description:t.description,nodeType:t.nodeType},position:{x:100,y:100}};this.nodeCounter++,this.elements.push(n);let a=this.cy?.add(n);this.addHtmlLabelToNode(n.data.id),this.makeNodeGrabbable(a)}addHtmlLabelToNode(t){this.cy?.nodeHtmlLabel([{query:`node[id="${t}"]`,halign:"center",valign:"center",halignBox:"center",valignBox:"center",cssClass:"cy-title",tpl:n=>n.nodeType==="argument"||n.nodeType==="participant"?`
        <div style="border: 3px solid ${n.nodeType==="participant"?"green":"#000"}; border-radius: 5px; padding: 10px; background-color: #fff; max-width: 250px; overflow-wrap: break-word;">
          <div style="text-align: left; ${n.nodeType==="participant"?"font-weight: bold;":""}">${n.description}</div>
        </div>`:`
        <div style="border: 3px solid #000; border-radius: 5px; padding: 10px; background-color: #fff; max-width: 250px; overflow-wrap: break-word;">
          <div style="font-weight: bold; text-align: center;">${n.title}</div>
          <hr style="margin: 4px 0;">
          <div style="text-align: left;">${n.description}</div>
        </div>`}])}makeNodeGrabbable(t){t?.forEach(n=>{n.grabify(),n.on("grab",()=>{n.grabify()})})}onNodeDoubleClick(t){if(!this.isInvalidConnectionStart(t)){if(!this.selectedNode){this.selectedNode=t;return}if(this.areNodesConnected(this.selectedNode,t)){this.snackBar.open("This connection already exists","Close",{duration:3e3}),this.selectedNode=null;return}this.createConnection(t)}}isInvalidConnectionStart(t){if(t.data("nodeType")==="relation"){if(!this.selectedNode)return this.snackBar.open("Connections cannot start from a relation node","Close",{duration:3e3}),!0;this.connectionToRelationNode=!0}return!1}areNodesConnected(t,n){let a=this.getConnectedFinalDestinations(t);return this.checkExistingConnection(a,n)}getConnectedFinalDestinations(t){let n=new Set,a=t.id();return this.cy?.$(`#${a}`).outgoers("edge")?.forEach(s=>{let l=s.target();l.data("nodeType")==="relation"?l.outgoers("edge").forEach(c=>{n.add(c.target().id())}):n.add(l.id())}),n}checkExistingConnection(t,n){if(t.has(n.id()))return!0;if(n.data("nodeType")==="relation"){let a=n.outgoers("edge");for(let o of a)if(t.has(o.target().id()))return!0}return!1}createConnection(t){this.dialog.open(tu,{width:"300px",data:{relationType:"",directConnection:this.connectionToRelationNode,isEditMode:!1,isConnectionToRelationNode:this.connectionToRelationNode}}).afterClosed().subscribe(a=>{a&&(this.addConnection(a,t),this.connectionToRelationNode=!1),this.selectedNode=null})}addConnection(t,n){t.directConnection?this.cy?.add({group:"edges",data:{id:`e${this.edgeCounter}`,source:this.selectedNode.id(),target:n.id(),label:t.relationType}}):this.addRelationNodeConnection(t,n),this.edgeCounter++}addRelationNodeConnection(t,n){let a=this.calculateMidpoint(this.selectedNode.position(),n.position()),o={data:{id:`r${this.edgeCounter}`,title:t.relationType,description:"",nodeType:"relation","background-color":"#f0cd7e"},position:{x:a.x,y:a.y}};this.cy?.add(o),this.cy?.add([{group:"edges",data:{id:`e${this.edgeCounter}-1`,source:this.selectedNode.id(),target:`r${this.edgeCounter}`,label:t.relationType}},{group:"edges",data:{id:`e${this.edgeCounter}-2`,source:`r${this.edgeCounter}`,target:n.id(),label:t.relationType}}])}calculateMidpoint(t,n){let a,o;return t.x===n.x?(a=t.x+150,o=t.y):(a=(t.x+n.x)/2,o=(t.y+n.y)/2),{x:a,y:o}}clear(){this.cy?.elements().remove(),this.snackBar.open("The board has been cleared","Close",{duration:3e3})}saveNode(){this.showModal=!1}cancelNode(){this.showModal=!1}};e.\u0275fac=function(n){return new(n||e)(N(Vn),N(Ta),N(Xd),N(ja))},e.\u0275cmp=Ge({type:e,selectors:[["app-board"]],viewQuery:function(n,a){if(n&1&&st(zD,5,on),n&2){let o;He(o=Ue())&&(a.contextMenuContainer=o.first)}},standalone:!0,features:[Ze],decls:3,vars:0,consts:[["contextMenuContainer",""],["id","cy"]],template:function(n,a){n&1&&Ye(0,"div",1)(1,"div",null,0)},dependencies:[hi,$r,Pa,Ti,$i,tn,La,_a,kv],styles:["#workingarea[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:row}#cy[_ngcontent-%COMP%]{background-color:#f7f6d1;width:1300px;height:750px;outline-style:double;justify-content:flex-end}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;padding-top:60px}.modal.show[_ngcontent-%COMP%]{display:block}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto;padding:20px;border:1px solid #888;width:80%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.cy-title[_ngcontent-%COMP%]{text-align:center;font-size:14px;font-weight:700;padding:2px}.node-html-label[_ngcontent-%COMP%]{display:inline-block;padding:10px;background-color:#fff;border:1px solid #000;border-radius:5px;max-width:200px;word-wrap:break-word}"]});let i=e;return i})();var Pv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,Qe]});let i=e;return i})();var Lv=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=Te({imports:[Qe,Qe]});let i=e;return i})();var ru=(()=>{let e=class e{constructor(t,n){this.dialogRef=t,this.data=n}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};e.\u0275fac=function(n){return new(n||e)(N(lr),N(Ln))},e.\u0275cmp=Ge({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[Ze],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(n,a){n&1&&(ie(0,"h1",0),ye(1),X(),ie(2,"div",1)(3,"p"),ye(4),X()(),ie(5,"div",2)(6,"button",3),Fe("click",function(){return a.onCancel()}),ye(7,"Cancel"),X(),ie(8,"button",3),Fe("click",function(){return a.onConfirm()}),ye(9,"Confirm"),X()()),n&2&&(le(),pi(a.data.title),le(3),pi(a.data.message))},dependencies:[tn,Ma,Ra,Oa,Ti,rn,hi],styles:["p[_ngcontent-%COMP%]{text-align:center;padding-top:1rem}"]});let i=e;return i})();var Nv=(()=>{let e=class e{constructor(){}readFile(t){return new Promise((n,a)=>{let o=new FileReader;o.onloadend=()=>{o.result?n(o.result.toString()):a("File could not be read")},o.readAsText(t)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Bv=(()=>{let e=class e{constructor(t,n,a){this.platformId=t,this.dialog=n,this.fileUploadService=a,this.title="Jawbone",this.isLeftCollapsed=!1,this.isRightCollapsed=!1,this.newNodeDescription="",this.textBlock="",this.initializeSelectionListener()}initializeSelectionListener(){jn(this.platformId)&&document.addEventListener("selectionchange",()=>{this.newNodeDescription=window.getSelection().toString()})}addNode(){this.boardComponent?.onAddNode(this.newNodeDescription)}toggleLeftSidebar(){this.isLeftCollapsed=!this.isLeftCollapsed}toggleRightSidebar(){this.isRightCollapsed=!this.isRightCollapsed}reset(){this.dialog.open(ru,{data:{title:"Reset Board",message:"Are you sure you want to reset the board? This cannot be undone."},autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.clearBoard()})}clearBoard(){this.boardComponent.clear()}upload(t){let n=t.target.files[0];this.fileUploadService.readFile(n).then(a=>{this.textBlock=a}).catch(a=>{console.error(a)})}loadDemo(){this.dialog.open(ru,{data:{title:"Load Demo",message:"Are you sure you want to load the demo? This will override the current board and cannot be undone."},autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.loadDemoContent()})}loadDemoContent(){let t=[{data:{id:"1",title:"Assertion",description:"This is node 1",nodeType:"node"},position:{x:100,y:100}},{data:{id:"2",title:"Contradiction",description:"This is node 2",nodeType:"node"},position:{x:250,y:300}},{data:{id:"3",title:"Assertion",description:"This is node 3",nodeType:"node"},position:{x:400,y:100}},{data:{id:"r1",title:"Supports",nodeType:"relation"},position:{x:150,y:200}},{data:{id:"r2",title:"Contradicts",nodeType:"relation"},position:{x:350,y:200}}],n=[{data:{id:"e1",source:"1",target:"r1",label:"supports"}},{data:{id:"e2",source:"r1",target:"2",label:"supports"}},{data:{id:"e3",source:"2",target:"r2",label:"contradicts"}},{data:{id:"e4",source:"r2",target:"3",label:"contradicts"}}];this.boardComponent.loadDemo(t,n)}exportPng(){console.log("Export PNG clicked")}exportJson(){console.log("Export JSON clicked")}};e.\u0275fac=function(n){return new(n||e)(N(Vn),N(Ta),N(Nv))},e.\u0275cmp=Ge({type:e,selectors:[["app-root"]],viewQuery:function(n,a){if(n&1&&st(iu,5),n&2){let o;He(o=Ue())&&(a.boardComponent=o.first)}},standalone:!0,features:[Ze],decls:38,vars:5,consts:[["uploader",""],[1,"main-container"],[1,"sidebar","left"],["hidden","","type","file","accept",".txt",3,"change"],[1,"load-dialogue",3,"click"],[1,"add-node",3,"click"],[1,"text-block-title"],["type","text","placeholder","Enter text here",1,"text-block",3,"ngModelChange","ngModel"],[1,"content"],[1,"title-container"],[1,"toggle-button","left",3,"click"],[1,"main-title"],[1,"toggle-button","right",3,"click"],["src","../assets/images/jawbone_logo.png"],[1,"sidebar","right"],[1,"reset",3,"click"],[1,"load-demo",3,"click"],[1,"export-png",3,"click"],[1,"export-json",3,"click"]],template:function(n,a){if(n&1){let o=Tt();ie(0,"div",1)(1,"div",2)(2,"h1"),ye(3,"Jawbone"),X(),ie(4,"input",3,0),Fe("change",function(l){return qe(o),We(a.upload(l))}),X(),ie(6,"button",4),Fe("click",function(){qe(o);let l=hr(5);return We(l.click())}),ye(7,"\u{1F4CE} Load dialogue file"),X(),ie(8,"button",5),Fe("click",function(){return qe(o),We(a.addNode())}),ye(9,"+ Add Node"),X(),ie(10,"p",6),ye(11,"Content:"),X(),ie(12,"textarea",7),Ni("ngModelChange",function(l){return qe(o),Li(a.textBlock,l)||(a.textBlock=l),We(l)}),X()(),ie(13,"div",8)(14,"div",9)(15,"button",10),Fe("click",function(){return qe(o),We(a.toggleLeftSidebar())}),ye(16,"\u2630 Resource Pane"),X(),ie(17,"h1",11),ye(18,"Jawbone"),X(),ie(19,"button",12),Fe("click",function(){return qe(o),We(a.toggleRightSidebar())}),ye(20,"Diagram Pane \u2630"),X(),Ye(21,"img",13),X(),Ye(22,"app-board"),X(),ie(23,"div",14)(24,"h1"),ye(25,"Jawbone"),X(),ie(26,"button",15),Fe("click",function(){return qe(o),We(a.reset())}),ye(27,"Reset"),X(),Ye(28,"br"),ie(29,"button",16),Fe("click",function(){return qe(o),We(a.loadDemo())}),ye(30,"Load demo"),X(),ie(31,"p"),ye(32,"Export:"),X(),ie(33,"button",17),Fe("click",function(){return qe(o),We(a.exportPng())}),ye(34,"PNG"),X(),Ye(35,"br"),ie(36,"button",18),Fe("click",function(){return qe(o),We(a.exportJson())}),ye(37,"JSON"),X()()()}n&2&&(le(),$e("collapsed",a.isLeftCollapsed),le(11),Pi("ngModel",a.textBlock),le(11),$e("collapsed",a.isRightCollapsed))},dependencies:[iu,Ti,Lv,Pv,$r,va,ba,In],styles:[".main-container[_ngcontent-%COMP%]{display:flex;height:100vh}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#eabe6c;padding:20px;transition:width .3s ease;border-radius:15px;overflow:auto}.left[_ngcontent-%COMP%]{border-radius:0 15px 15px 0}.right[_ngcontent-%COMP%]{border-radius:15px 0 0 15px;order:2}.collapsed[_ngcontent-%COMP%]{width:0;padding:20px 0}.main-title[_ngcontent-%COMP%]{font-size:40px}.content[_ngcontent-%COMP%]{flex-grow:1;background-color:#ffedd8;padding:20px;overflow:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;width:100%}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-bottom:10px}.toggle-button[_ngcontent-%COMP%], .reset[_ngcontent-%COMP%], .load-dialogue[_ngcontent-%COMP%], .load-demo[_ngcontent-%COMP%], .export-png[_ngcontent-%COMP%], .export-json[_ngcontent-%COMP%], .add-node[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px;font-weight:700;cursor:pointer;outline:none;margin-bottom:15px;box-shadow:0 4px 6px #0000001a;transition:transform .2s,box-shadow .2s}.toggle-button[_ngcontent-%COMP%]:hover, .reset[_ngcontent-%COMP%]:hover, .load-dialogue[_ngcontent-%COMP%]:hover, .load-demo[_ngcontent-%COMP%]:hover, .export-png[_ngcontent-%COMP%]:hover, .export-json[_ngcontent-%COMP%]:hover, .add-node[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 10px #00000026}.left.toggle-button[_ngcontent-%COMP%], .right.toggle-button[_ngcontent-%COMP%]{background-color:#240a34;position:absolute}.left.toggle-button[_ngcontent-%COMP%]{left:20px}.right.toggle-button[_ngcontent-%COMP%]{right:20px}.title-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;position:absolute;top:0}.text-block-title[_ngcontent-%COMP%]{margin-top:3rem;font-size:18px;font-weight:700;margin-bottom:.5rem;color:#333}.text-block[_ngcontent-%COMP%]{width:95%;min-height:15rem;resize:vertical;border:1px solid #ccc;border-radius:5px}.load-dialogue[_ngcontent-%COMP%], .load-demo[_ngcontent-%COMP%], .export-json[_ngcontent-%COMP%], .export-png[_ngcontent-%COMP%], .add-node[_ngcontent-%COMP%]{background-color:#891652;color:#fff}.reset[_ngcontent-%COMP%]{background-color:#ff0000c4;color:#fff}.toggle-button[_ngcontent-%COMP%]{background-color:#240a34;color:#fff}"]});let i=e;return i})();var Vv=[];var zv={providers:[Vu(Vv),Pu()]};var HD={providers:[Bu()]},jv=Mu(zv,HD);var UD=()=>Fu(Bv,jv),jR=UD;export{jR as a};
